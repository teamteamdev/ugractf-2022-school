Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(searchElement,fromIndex){function sameValueZero(x,y){return x===y||"number"==typeof x&&"number"==typeof y&&isNaN(x)&&isNaN(y)}if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),len=o.length>>>0;if(0===len)return!1;for(var n=0|fromIndex,k=Math.max(n>=0?n:len-Math.abs(n),0);len>k;){if(sameValueZero(o[k],searchElement))return!0;k++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(predicate){if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),len=o.length>>>0;if("function"!=typeof predicate)throw new TypeError("predicate must be a function");for(var thisArg=arguments[1],k=0;len>k;){var kValue=o[k];if(predicate.call(thisArg,kValue,k,o))return kValue;k++}return void 0},configurable:!0,writable:!0}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(predicate){if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof predicate)throw new TypeError("predicate must be a function");for(var value,list=Object(this),length=list.length>>>0,thisArg=arguments[1],i=0;length>i;i++)if(value=list[i],predicate.call(thisArg,value,i,list))return i;return-1},configurable:!0,writable:!0}),Object.values||Object.defineProperty(Object,"values",{value:function(obj){var allowedTypes=["[object String]","[object Object]","[object Array]","[object Function]"],objType=Object.prototype.toString.call(obj);if(null===obj||"undefined"==typeof obj)throw new TypeError("Cannot convert undefined or null to object");if(~allowedTypes.indexOf(objType)){if(Object.keys)return Object.keys(obj).map(function(key){return obj[key]});var result=[];for(var prop in obj)obj.hasOwnProperty(prop)&&result.push(obj[prop]);return result}return[]},configurable:!0,writable:!0}),String.prototype.includes||Object.defineProperty(String.prototype,"includes",{value:function(searchElement,fromIndex){if(searchElement instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===fromIndex&&(fromIndex=0),-1!==this.indexOf(searchElement,fromIndex)}}),Math.trunc||(Math.trunc=function(v){return v=+v,v-v%1||(isFinite(v)&&0!==v?0>v?-0:0:v)});;!function(e){Array.prototype.map||(Array.prototype.map=function(e,r){var a,o,i;if(null==this)throw new TypeError(" this is null or not defined");var n=Object(this),t=n.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(r&&(a=r),o=Array(t),i=0;t>i;){var l,d;i in n&&(l=n[i],d=e.call(a,l,i,n),o[i]=d),i++}return o});var r=e.detect=function(){var e=function(){},r={browser_parsers:[{regex:"^(Opera)/(\\d+)\\.(\\d+) \\(Nintendo Wii",family_replacement:"Wii",manufacturer:"Nintendo"},{regex:"(SeaMonkey|Camino)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Camino",other:!0},{regex:"(Pale[Mm]oon)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Pale Moon (Firefox Variant)",other:!0},{regex:"(Fennec)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)(pre)",family_replacment:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"Mobile.*(Firefox)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?)",family_replacement:"Firefox ($1)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?",family_replacement:"Firefox ($1)"},{regex:"(Firefox).*Tablet browser (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"MicroB",tablet:!0},{regex:"(MozillaDeveloperPreview)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?"},{regex:"(Flock)/(\\d+)\\.(\\d+)(b\\d+?)",family_replacement:"Flock",other:!0},{regex:"(RockMelt)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Rockmelt",other:!0},{regex:"(Navigator)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(Navigator)/(\\d+)\\.(\\d+)([ab]\\d+)",family_replacement:"Netscape"},{regex:"(Netscape6)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(MyIBrow)/(\\d+)\\.(\\d+)",family_replacement:"My Internet Browser",other:!0},{regex:"(Opera Tablet).*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera Tablet",tablet:!0},{regex:"(Opera)/.+Opera Mobi.+Version/(\\d+)\\.(\\d+)",family_replacement:"Opera Mobile"},{regex:"Opera Mobi",family_replacement:"Opera Mobile"},{regex:"(Opera Mini)/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera Mini)/att/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera)/9.80.*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera"},{regex:"(OPR)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera"},{regex:"(webOSBrowser)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(webOS)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(wOSBrowser).+TouchPad/(\\d+)\\.(\\d+)",family_replacement:"webOS TouchPad"},{regex:"(luakit)",family_replacement:"LuaKit",other:!0},{regex:"(Lightning)/(\\d+)\\.(\\d+)([ab]?\\d+[a-z]*)",family_replacement:"Lightning",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?) \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)? \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"rekonq",family_replacement:"Rekonq",other:!0},{regex:"(conkeror|Conkeror)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Conkeror",other:!0},{regex:"(konqueror)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Konqueror",other:!0},{regex:"(WeTab)-Browser",family_replacement:"WeTab",other:!0},{regex:"(Comodo_Dragon)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Comodo Dragon",other:!0},{regex:"(YottaaMonitor)",family_replacement:"Yottaa Monitor",other:!0},{regex:"(Kindle)/(\\d+)\\.(\\d+)",family_replacement:"Kindle"},{regex:"(Symphony) (\\d+).(\\d+)",family_replacement:"Symphony",other:!0},{regex:"Minimo",family_replacement:"Minimo",other:!0},{regex:"(Edge)/(\\d+)\\.(\\d+)",family_replacement:"Edge"},{regex:"(CrMo)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile"},{regex:"(CriOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile iOS"},{regex:"(Chrome)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+) Mobile",family_replacement:"Chrome Mobile"},{regex:"(chromeframe)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Frame"},{regex:"(UC Browser)(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"UC Browser",other:!0},{regex:"(SLP Browser)/(\\d+)\\.(\\d+)",family_replacement:"Tizen Browser",other:!0},{regex:"(Epiphany)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"Epiphany",other:!0},{regex:"(SE 2\\.X) MetaSr (\\d+)\\.(\\d+)",family_replacement:"Sogou Explorer",other:!0},{regex:"(Pingdom.com_bot_version_)(\\d+)\\.(\\d+)",family_replacement:"PingdomBot",other:!0},{regex:"(facebookexternalhit)/(\\d+)\\.(\\d+)",family_replacement:"FacebookBot"},{regex:"(Twitterbot)/(\\d+)\\.(\\d+)",family_replacement:"TwitterBot"},{regex:"(AdobeAIR|Chromium|FireWeb|Jasmine|ANTGalio|Midori|Fresco|Lobo|PaleMoon|Maxthon|Lynx|OmniWeb|Dillo|Camino|Demeter|Fluid|Fennec|Shiira|Sunrise|Chrome|Flock|Netscape|Lunascape|WebPilot|NetFront|Netfront|Konqueror|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|Opera Mini|iCab|NetNewsWire|ThunderBrowse|Iron|Iris|UP\\.Browser|Bunjaloo|Google Earth|Raven for Mac)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Bolt|Jasmine|IceCat|Skyfire|Midori|Maxthon|Lynx|Arora|IBrowse|Dillo|Camino|Shiira|Fennec|Phoenix|Chrome|Flock|Netscape|Lunascape|Epiphany|WebPilot|Opera Mini|Opera|NetFront|Netfront|Konqueror|Googlebot|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|iCab|NetNewsWire|Iron|Space Bison|Stainless|Orca|Dolfin|BOLT|Minimo|Tizen Browser|Polaris)/(\\d+)\\.(\\d+)"},{regex:"(iRider|Crazy Browser|SkipStone|iCab|Lunascape|Sleipnir|Maemo Browser) (\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(iCab|Lunascape|Opera|Android|Jasmine|Polaris|BREW) (\\d+)\\.(\\d+)\\.?(\\d+)?"},{regex:"(Android) Donut",v2_replacement:"2",v1_replacement:"1"},{regex:"(Android) Eclair",v2_replacement:"1",v1_replacement:"2"},{regex:"(Android) Froyo",v2_replacement:"2",v1_replacement:"2"},{regex:"(Android) Gingerbread",v2_replacement:"3",v1_replacement:"2"},{regex:"(Android) Honeycomb",v1_replacement:"3"},{regex:"(IEMobile)[ /](\\d+)\\.(\\d+)",family_replacement:"IE Mobile"},{regex:"(MSIE) (\\d+)\\.(\\d+).*XBLWP7",family_replacement:"IE Large Screen"},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(pre|[ab]\\d+[a-z]*)?"},{regex:"(Obigo)InternetBrowser",other:!0},{regex:"(Obigo)\\-Browser",other:!0},{regex:"(Obigo|OBIGO)[^\\d]*(\\d+)(?:.(\\d+))?",other:!0},{regex:"(MAXTHON|Maxthon) (\\d+)\\.(\\d+)",family_replacement:"Maxthon",other:!0},{regex:"(Maxthon|MyIE2|Uzbl|Shiira)",v1_replacement:"0",other:!0},{regex:"(PLAYSTATION) (\\d+)",family_replacement:"PlayStation",manufacturer:"Sony"},{regex:"(PlayStation Portable)[^\\d]+(\\d+).(\\d+)",manufacturer:"Sony"},{regex:"(BrowseX) \\((\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(POLARIS)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(Embider)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(BonEcho)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Bon Echo",other:!0},{regex:"(iPod).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(AvantGo) (\\d+).(\\d+)",other:!0},{regex:"(Avant)",v1_replacement:"1",other:!0},{regex:"^(Nokia)",family_replacement:"Nokia Services (WAP) Browser",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(BrowserNG)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/5\\.0",v2_replacement:"0",v1_replacement:"7",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/(\\d+)\\.(\\d+)",family_replacement:"Nokia OSS Browser",manufacturer:"Nokia"},{regex:"(S40OviBrowser)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Nokia Series 40 Ovi Browser",manufacturer:"Nokia"},{regex:"(Nokia)[EN]?(\\d+)",manufacturer:"Nokia"},{regex:"(PlayBook).+RIM Tablet OS (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",tablet:!0,manufacturer:"Nokia"},{regex:"(Black[bB]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",manufacturer:"RIM"},{regex:"(Black[bB]erry)\\s?(\\d+)",family_replacement:"Blackberry",manufacturer:"RIM"},{regex:"(OmniWeb)/v(\\d+)\\.(\\d+)",other:!0},{regex:"(Blazer)/(\\d+)\\.(\\d+)",family_replacement:"Palm Blazer",manufacturer:"Palm"},{regex:"(Pre)/(\\d+)\\.(\\d+)",family_replacement:"Palm Pre",manufacturer:"Palm"},{regex:"(Links) \\((\\d+)\\.(\\d+)",other:!0},{regex:"(QtWeb) Internet Browser/(\\d+)\\.(\\d+)",other:!0},{regex:"(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?",other:!0,tablet:!0},{regex:"(AppleWebKit)/(\\d+)\\.?(\\d+)?\\+ .* Version/\\d+\\.\\d+.\\d+ Safari/",family_replacement:"WebKit Nightly"},{regex:"(Version)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari/",family_replacement:"Safari"},{regex:"(Safari)/\\d+"},{regex:"(OLPC)/Update(\\d+)\\.(\\d+)",other:!0},{regex:"(OLPC)/Update()\\.(\\d+)",v1_replacement:"0",other:!0},{regex:"(SEMC\\-Browser)/(\\d+)\\.(\\d+)",other:!0},{regex:"(Teleca)",family_replacement:"Teleca Browser",other:!0},{regex:"Trident(.*)rv.(\\d+)\\.(\\d+)",family_replacement:"IE"},{regex:"(MSIE) (\\d+)\\.(\\d+)",family_replacement:"IE"}],os_parsers:[],mobile_os_families:[],device_parsers:[],mobile_browser_families:["Firefox Mobile","Opera Mobile","Opera Mini","Mobile Safari","webOS","IE Mobile","Playstation Portable","Nokia","Blackberry","Palm","Silk","Android","Maemo","Obigo","Netfront","AvantGo","Teleca","SEMC-Browser","Bolt","Iris","UP.Browser","Symphony","Minimo","Bunjaloo","Jasmine","Dolfin","Polaris","BREW","Chrome Mobile","Chrome Mobile iOS","UC Browser","Tizen Browser"]};e.parsers=["device_parsers","browser_parsers","os_parsers","mobile_os_families","mobile_browser_families"],e.types=["browser","os","device"],e.regexes=r||function(){var r={};return e.parsers.map(function(e){r[e]=[]}),r}(),e.families=function(){var r={};return e.types.map(function(e){r[e]=[]}),r}();var a=Array.prototype,o=(Object.prototype,Function.prototype,a.forEach);a.indexOf;var i=function(e,r){for(var a={},o=0;r.length>o&&!(a=r[o](e));o++);return a},n=function(e,r){t(e,function(e){t(r,function(r){delete e[r]})})},t=forEach=function(e,r,a){if(null!=e)if(o&&e.forEach===o)e.forEach(r,a);else if(e.length===+e.length)for(var i=0,n=e.length;n>i;i++)r.call(a,e[i],i,e);else for(var t in e)_.has(e,t)&&r.call(a,e[t],t,e)},l=function(e){return!(!e||void 0===e||null==e)},d=function(e){var r="";return e=e||{},l(e)&&l(e.major)&&(r+=e.major,l(e.minor)&&(r+="."+e.minor,l(e.patch)&&(r+="."+e.patch))),r},m=function(e){e=e||{};var r=d(e);return r&&(r=" "+r),e&&l(e.family)?e.family+r:""};return e.parse=function(r){var a=function(r){return e.regexes[r+"_parsers"].map(function(e){function a(r){var a=r.match(o);if(!a)return null;var t={};return t.family=(i?i.replace("$1",a[1]):a[1])||"other",t.major=parseInt(n?n:a[2])||null,t.minor=a[3]?parseInt(a[3]):null,t.patch=a[4]?parseInt(a[4]):null,t.tablet=e.tablet,t.man=e.manufacturer||null,t}var o=RegExp(e.regex),i=e[("browser"===r?"family":r)+"_replacement"],n=e.major_version_replacement;return a})},o=function(){},t=a("browser"),c=a("os"),f=a("device"),p=new o;p.source=r,p.browser=i(r,t),l(p.browser)?(p.browser.name=m(p.browser),p.browser.version=d(p.browser)):p.browser={},p.os=i(r,c),l(p.os)?(p.os.name=m(p.os),p.os.version=d(p.os)):p.os={},p.device=i(r,f),l(p.device)?(p.device.name=m(p.device),p.device.version=d(p.device)):p.device={tablet:!1,family:"Other"};var s={};return e.regexes.mobile_browser_families.map(function(e){s[e]=!0}),e.regexes.mobile_os_families.map(function(e){s[e]=!0}),p.device.type="Spider"===p.browser.family?"Spider":p.browser.tablet||p.os.tablet||p.device.tablet?"Tablet":s.hasOwnProperty(p.browser.family)?"Mobile":"Desktop",p.device.manufacturer=p.browser.man||p.os.man||p.device.man||null,n([p.browser,p.os,p.device],["tablet","man"]),p},e}();"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=r),exports.detect=r):e.detect=r,"function"==typeof define&&define.amd&&define(function(){return r})}(window);;!function(){function _checkBrowser(supported,badBrowserLink,oldBrowserLink,originLink){function getFxiOS(){var fxiOS;for(item in source)/FxiOS/.test(source[item])&&(fxiOS=source[item]);return fxiOS?{browser:fxiOS.split("/")[0],version:fxiOS.split("/")[1].split(".")[0]}:null}function redirect(url){var separator=url.indexOf("?")>=-1?"&":"?";document.location.href=url+separator+"lang="+detectLang()+"&origin="+originLink}function detectLang(){var langs={ru:"rus",en:"eng",uk:"ukr",tr:"tur",fr:"fra",ar:"ara",fa:"fas"},browserLang=navigator.language||navigator.userLanguage;return browserLang=browserLang.toLowerCase().substr(0,2),browserLang in langs?langs[browserLang]:"eng"}var ua=detect.parse(navigator.userAgent),source=ua.source.split(" "),browser=getFxiOS()?getFxiOS().browser:ua.browser.family,version=getFxiOS()?getFxiOS().version:ua.browser.major,isBadBrowser=!(browser in supported),isOldBrowser=version<supported[browser],url=isBadBrowser?badBrowserLink:isOldBrowser?oldBrowserLink:null;return url?redirect(url):!0}function checkBrowser(){function getCookie(name){var matches=document.cookie.match(new RegExp("(?:^|; )"+name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return matches?decodeURIComponent(matches[1]):void 0}var supported={IE:10,Edge:0,Chrome:48,"Chrome Mobile":48,"Chrome Mobile iOS":59,Chromium:48,Firefox:44,"Firefox Mobile":44,FxiOS:8,Safari:8,"Mobile Safari":8,Opera:35},badUrl="/check_browser?error=bad",oldUrl="/check_browser?error=old",originUrl=encodeURIComponent(location.href);getCookie("skip_browser_check")||_checkBrowser(supported,badUrl,oldUrl,originUrl)}checkBrowser()}();;!function(Q,T,s){"use strict";function z(b){return function(){var c,a=arguments[0],a="["+(b?b+":":"")+a+"] http://errors.angularjs.org/1.2.15/"+(b?b+"/":"")+a;for(c=1;c<arguments.length;c++)a=a+(1==c?"?":"&")+"p"+(c-1)+"="+encodeURIComponent("function"==typeof arguments[c]?arguments[c].toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof arguments[c]?"undefined":"string"!=typeof arguments[c]?JSON.stringify(arguments[c]):arguments[c]);return Error(a)}}function $a(b){if(null==b||Aa(b))return!1;var a=b.length;return 1===b.nodeType&&a?!0:x(b)||M(b)||0===a||"number"==typeof a&&a>0&&a-1 in b}function r(b,a,c){var d;if(b)if(D(b))for(d in b)"prototype"==d||"length"==d||"name"==d||b.hasOwnProperty&&!b.hasOwnProperty(d)||a.call(c,b[d],d);else if(b.forEach&&b.forEach!==r)b.forEach(a,c);else if($a(b))for(d=0;d<b.length;d++)a.call(c,b[d],d);else for(d in b)b.hasOwnProperty(d)&&a.call(c,b[d],d);return b}function Ob(b){var c,a=[];for(c in b)b.hasOwnProperty(c)&&a.push(c);return a.sort()}function Qc(b,a,c){for(var d=Ob(b),e=0;e<d.length;e++)a.call(c,b[d[e]],d[e]);return d}function Pb(b){return function(a,c){b(c,a)}}function ab(){for(var a,b=ia.length;b;){if(b--,a=ia[b].charCodeAt(0),57==a)return ia[b]="A",ia.join("");if(90!=a)return ia[b]=String.fromCharCode(a+1),ia.join("");ia[b]="0"}return ia.unshift("0"),ia.join("")}function Qb(b,a){a?b.$$hashKey=a:delete b.$$hashKey}function v(b){var a=b.$$hashKey;return r(arguments,function(a){a!==b&&r(a,function(a,c){b[c]=a})}),Qb(b,a),b}function R(b){return parseInt(b,10)}function Rb(b,a){return v(new(v(function(){},{prototype:b})),a)}function B(){}function Ba(b){return b}function Y(b){return function(){return b}}function E(b){return"undefined"==typeof b}function u(b){return"undefined"!=typeof b}function W(b){return null!=b&&"object"==typeof b}function x(b){return"string"==typeof b}function ub(b){return"number"==typeof b}function Ma(b){return"[object Date]"===ta.call(b)}function M(b){return"[object Array]"===ta.call(b)}function D(b){return"function"==typeof b}function bb(b){return"[object RegExp]"===ta.call(b)}function Aa(b){return b&&b.document&&b.location&&b.alert&&b.setInterval}function Rc(b){return!(!b||!(b.nodeName||b.prop&&b.attr&&b.find))}function Sc(b,a,c){var d=[];return r(b,function(b,f,g){d.push(a.call(c,b,f,g))}),d}function cb(b,a){if(b.indexOf)return b.indexOf(a);for(var c=0;c<b.length;c++)if(a===b[c])return c;return-1}function Na(b,a){var c=cb(b,a);return c>=0&&b.splice(c,1),a}function $(b,a){if(Aa(b)||b&&b.$evalAsync&&b.$watch)throw Oa("cpws");if(a){if(b===a)throw Oa("cpi");if(M(b))for(var c=a.length=0;c<b.length;c++)a.push($(b[c]));else{c=a.$$hashKey,r(a,function(b,c){delete a[c]});for(var d in b)a[d]=$(b[d]);Qb(a,c)}}else(a=b)&&(M(b)?a=$(b,[]):Ma(b)?a=new Date(b.getTime()):bb(b)?a=RegExp(b.source):W(b)&&(a=$(b,{})));return a}function Sb(b,a){a=a||{};for(var c in b)!b.hasOwnProperty(c)||"$"===c.charAt(0)&&"$"===c.charAt(1)||(a[c]=b[c]);return a}function ua(b,a){if(b===a)return!0;if(null===b||null===a)return!1;if(b!==b&&a!==a)return!0;var d,c=typeof b;if(c==typeof a&&"object"==c){if(!M(b)){if(Ma(b))return Ma(a)&&b.getTime()==a.getTime();if(bb(b)&&bb(a))return b.toString()==a.toString();if(b&&b.$evalAsync&&b.$watch||a&&a.$evalAsync&&a.$watch||Aa(b)||Aa(a)||M(a))return!1;c={};for(d in b)if("$"!==d.charAt(0)&&!D(b[d])){if(!ua(b[d],a[d]))return!1;c[d]=!0}for(d in a)if(!c.hasOwnProperty(d)&&"$"!==d.charAt(0)&&a[d]!==s&&!D(a[d]))return!1;return!0}if(!M(a))return!1;if((c=b.length)==a.length){for(d=0;c>d;d++)if(!ua(b[d],a[d]))return!1;return!0}}return!1}function Tb(){return T.securityPolicy&&T.securityPolicy.isActive||T.querySelector&&!(!T.querySelector("[ng-csp]")&&!T.querySelector("[data-ng-csp]"))}function db(b,a){var c=2<arguments.length?va.call(arguments,2):[];return!D(a)||a instanceof RegExp?a:c.length?function(){return arguments.length?a.apply(b,c.concat(va.call(arguments,0))):a.apply(b,c)}:function(){return arguments.length?a.apply(b,arguments):a.call(b)}}function Tc(b,a){var c=a;return"string"==typeof b&&"$"===b.charAt(0)?c=s:Aa(a)?c="$WINDOW":a&&T===a?c="$DOCUMENT":a&&a.$evalAsync&&a.$watch&&(c="$SCOPE"),c}function oa(b,a){return"undefined"==typeof b?s:JSON.stringify(b,Tc,a?"  ":null)}function Ub(b){return x(b)?JSON.parse(b):b}function Pa(b){return"function"==typeof b?b=!0:b&&0!==b.length?(b=O(""+b),b=!("f"==b||"0"==b||"false"==b||"no"==b||"n"==b||"[]"==b)):b=!1,b}function fa(b){b=w(b).clone();try{b.empty()}catch(a){}var c=w("<div>").append(b).html();try{return 3===b[0].nodeType?O(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+O(b)})}catch(d){return O(c)}}function Vb(b){try{return decodeURIComponent(b)}catch(a){}}function Wb(b){var c,d,a={};return r((b||"").split("&"),function(b){b&&(c=b.split("="),d=Vb(c[0]),u(d)&&(b=u(c[1])?Vb(c[1]):!0,a[d]?M(a[d])?a[d].push(b):a[d]=[a[d],b]:a[d]=b))}),a}function Xb(b){var a=[];return r(b,function(b,d){M(b)?r(b,function(b){a.push(wa(d,!0)+(!0===b?"":"="+wa(b,!0)))}):a.push(wa(d,!0)+(!0===b?"":"="+wa(b,!0)))}),a.length?a.join("&"):""}function vb(b){return wa(b,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function wa(b,a){return encodeURIComponent(b).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,a?"%20":"+")}function Uc(b,a){function c(a){a&&d.push(a)}var e,f,d=[b],g=["ng:app","ng-app","x-ng-app","data-ng-app"],h=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;r(g,function(a){g[a]=!0,c(T.getElementById(a)),a=a.replace(":","\\:"),b.querySelectorAll&&(r(b.querySelectorAll("."+a),c),r(b.querySelectorAll("."+a+"\\:"),c),r(b.querySelectorAll("["+a+"]"),c))}),r(d,function(a){if(!e){var b=h.exec(" "+a.className+" ");b?(e=a,f=(b[2]||"").replace(/\s+/g,",")):r(a.attributes,function(b){!e&&g[b.name]&&(e=a,f=b.value)})}}),e&&a(e,f?[f]:[])}function Yb(b,a){var c=function(){if(b=w(b),b.injector()){var c=b[0]===T?"document":fa(b);throw Oa("btstrpd",c)}return a=a||[],a.unshift(["$provide",function(a){a.value("$rootElement",b)}]),a.unshift("ng"),c=Zb(a),c.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(a,b,c,d,e){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),c},d=/^NG_DEFER_BOOTSTRAP!/;return Q&&!d.test(Q.name)?c():(Q.name=Q.name.replace(d,""),void(Ca.resumeBootstrap=function(b){r(b,function(b){a.push(b)}),c()}))}function eb(b,a){return a=a||"_",b.replace(Vc,function(b,d){return(d?a:"")+b.toLowerCase()})}function wb(b,a,c){if(!b)throw Oa("areq",a||"?",c||"required");return b}function Qa(b,a,c){return c&&M(b)&&(b=b[b.length-1]),wb(D(b),a,"not a function, got "+(b&&"object"==typeof b?b.constructor.name||"Object":typeof b)),b}function xa(b,a){if("hasOwnProperty"===b)throw Oa("badname",a)}function $b(b,a,c){if(!a)return b;a=a.split(".");for(var d,e=b,f=a.length,g=0;f>g;g++)d=a[g],b&&(b=(e=b)[d]);return!c&&D(b)?db(e,b):b}function xb(b){var a=b[0];if(b=b[b.length-1],a===b)return w(a);var c=[a];do{if(a=a.nextSibling,!a)break;c.push(a)}while(a!==b);return w(c)}function Wc(b){var a=z("$injector"),c=z("ng");return b=b.angular||(b.angular={}),b.$$minErr=b.$$minErr||z,b.module||(b.module=function(){var b={};return function(e,f,g){if("hasOwnProperty"===e)throw c("badname","module");return f&&b.hasOwnProperty(e)&&(b[e]=null),b[e]||(b[e]=function(){function b(a,d,e){return function(){return c[e||"push"]([a,d,arguments]),n}}if(!f)throw a("nomod",e);var c=[],d=[],l=b("$injector","invoke"),n={_invokeQueue:c,_runBlocks:d,requires:f,name:e,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:b("$provide","value"),constant:b("$provide","constant","unshift"),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),config:l,run:function(a){return d.push(a),this}};return g&&l(g),n}())}}())}function Xc(b){v(b,{bootstrap:Yb,copy:$,extend:v,equals:ua,element:w,forEach:r,injector:Zb,noop:B,bind:db,toJson:oa,fromJson:Ub,identity:Ba,isUndefined:E,isDefined:u,isString:x,isFunction:D,isObject:W,isNumber:ub,isElement:Rc,isArray:M,version:Yc,isDate:Ma,lowercase:O,uppercase:Da,callbacks:{counter:0},$$minErr:z,$$csp:Tb}),Ra=Wc(Q);try{Ra("ngLocale")}catch(a){Ra("ngLocale",[]).provider("$locale",Zc)}Ra("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:$c}),a.provider("$compile",ac).directive({a:ad,input:bc,textarea:bc,form:bd,script:cd,select:dd,style:ed,option:fd,ngBind:gd,ngBindHtml:hd,ngBindTemplate:id,ngClass:jd,ngClassEven:kd,ngClassOdd:ld,ngCloak:md,ngController:nd,ngForm:od,ngHide:pd,ngIf:qd,ngInclude:rd,ngInit:sd,ngNonBindable:td,ngPluralize:ud,ngRepeat:vd,ngShow:wd,ngStyle:xd,ngSwitch:yd,ngSwitchWhen:zd,ngSwitchDefault:Ad,ngOptions:Bd,ngTransclude:Cd,ngModel:Dd,ngList:Ed,ngChange:Fd,required:cc,ngRequired:cc,ngValue:Gd}).directive({ngInclude:Hd}).directive(yb).directive(dc),a.provider({$anchorScroll:Id,$animate:Jd,$browser:Kd,$cacheFactory:Ld,$controller:Md,$document:Nd,$exceptionHandler:Od,$filter:ec,$interpolate:Pd,$interval:Qd,$http:Rd,$httpBackend:Sd,$location:Td,$log:Ud,$parse:Vd,$rootScope:Wd,$q:Xd,$sce:Yd,$sceDelegate:Zd,$sniffer:$d,$templateCache:ae,$timeout:be,$window:ce,$$rAF:de,$$asyncCallback:ee})}])}function Sa(b){return b.replace(fe,function(a,b,d,e){return e?d.toUpperCase():d}).replace(ge,"Moz$1")}function zb(b,a,c,d){function e(b){var k,l,n,q,p,t,e=c&&b?[this.filter(b)]:[this],m=a;if(!d||null!=b)for(;e.length;)for(k=e.shift(),l=0,n=k.length;n>l;l++)for(q=w(k[l]),m?q.triggerHandler("$destroy"):m=!m,p=0,q=(t=q.children()).length;q>p;p++)e.push(Ea(t[p]));return f.apply(this,arguments)}var f=Ea.fn[b],f=f.$original||f;e.$original=f,Ea.fn[b]=e}function L(b){if(b instanceof L)return b;if(x(b)&&(b=aa(b)),!(this instanceof L)){if(x(b)&&"<"!=b.charAt(0))throw Ab("nosel");return new L(b)}if(x(b)){var a=T.createElement("div");a.innerHTML="<div>&#160;</div>"+b,a.removeChild(a.firstChild),Bb(this,a.childNodes),w(T.createDocumentFragment()).append(this)}else Bb(this,b)}function Cb(b){return b.cloneNode(!0)}function Fa(b){fc(b);var a=0;for(b=b.childNodes||[];a<b.length;a++)Fa(b[a])}function gc(b,a,c,d){if(u(d))throw Ab("offargs");var e=ja(b,"events");ja(b,"handle")&&(E(a)?r(e,function(a,c){Db(b,c,a),delete e[c]}):r(a.split(" "),function(a){E(c)?(Db(b,a,e[a]),delete e[a]):Na(e[a]||[],c)}))}function fc(b,a){var c=b[fb],d=Ta[c];d&&(a?delete Ta[c].data[a]:(d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),gc(b)),delete Ta[c],b[fb]=s))}function ja(b,a,c){var d=b[fb],d=Ta[d||-1];return u(c)?(d||(b[fb]=d=++he,d=Ta[d]={}),void(d[a]=c)):d&&d[a]}function hc(b,a,c){var d=ja(b,"data"),e=u(c),f=!e&&u(a),g=f&&!W(a);if(d||g||ja(b,"data",d={}),e)d[a]=c;else{if(!f)return d;if(g)return d&&d[a];v(d,a)}}function Eb(b,a){return b.getAttribute?-1<(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+a+" "):!1}function gb(b,a){a&&b.setAttribute&&r(a.split(" "),function(a){b.setAttribute("class",aa((" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+aa(a)+" "," ")))})}function hb(b,a){if(a&&b.setAttribute){var c=(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(a.split(" "),function(a){a=aa(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),b.setAttribute("class",aa(c))}}function Bb(b,a){if(a){a=a.nodeName||!u(a.length)||Aa(a)?[a]:a;for(var c=0;c<a.length;c++)b.push(a[c])}}function ic(b,a){return ib(b,"$"+(a||"ngController")+"Controller")}function ib(b,a,c){for(b=w(b),9==b[0].nodeType&&(b=b.find("html")),a=M(a)?a:[a];b.length;){for(var d=b[0],e=0,f=a.length;f>e;e++)if((c=b.data(a[e]))!==s)return c;b=w(d.parentNode||11===d.nodeType&&d.host)}}function jc(b){for(var a=0,c=b.childNodes;a<c.length;a++)Fa(c[a]);for(;b.firstChild;)b.removeChild(b.firstChild)}function kc(b,a){var c=jb[a.toLowerCase()];return c&&lc[b.nodeName]&&c}function ie(b,a){var c=function(c,e){if(c.preventDefault||(c.preventDefault=function(){c.returnValue=!1}),c.stopPropagation||(c.stopPropagation=function(){c.cancelBubble=!0}),c.target||(c.target=c.srcElement||T),E(c.defaultPrevented)){var f=c.preventDefault;c.preventDefault=function(){c.defaultPrevented=!0,f.call(c)},c.defaultPrevented=!1}c.isDefaultPrevented=function(){return c.defaultPrevented||!1===c.returnValue};var g=Sb(a[e||c.type]||[]);r(g,function(a){a.call(b,c)}),8>=P?(c.preventDefault=null,c.stopPropagation=null,c.isDefaultPrevented=null):(delete c.preventDefault,delete c.stopPropagation,delete c.isDefaultPrevented)};return c.elem=b,c}function Ga(b){var c,a=typeof b;return"object"==a&&null!==b?"function"==typeof(c=b.$$hashKey)?c=b.$$hashKey():c===s&&(c=b.$$hashKey=ab()):c=b,a+":"+c}function Ua(b){r(b,this.put,this)}function mc(b){var a,c;return"function"==typeof b?(a=b.$inject)||(a=[],b.length&&(c=b.toString().replace(je,""),c=c.match(ke),r(c[1].split(le),function(b){b.replace(me,function(b,c,d){a.push(d)})})),b.$inject=a):M(b)?(c=b.length-1,Qa(b[c],"fn"),a=b.slice(0,c)):Qa(b,"fn",!0),a}function Zb(b){function a(a){return function(b,c){return W(b)?void r(b,Pb(a)):a(b,c)}}function c(a,b){if(xa(a,"service"),(D(b)||M(b))&&(b=n.instantiate(b)),!b.$get)throw Va("pget",a);return l[a+h]=b}function d(a,b){return c(a,{$get:b})}function e(a){var c,d,f,h,b=[];return r(a,function(a){if(!k.get(a)){k.put(a,!0);try{if(x(a))for(c=Ra(a),b=b.concat(e(c.requires)).concat(c._runBlocks),d=c._invokeQueue,f=0,h=d.length;h>f;f++){var g=d[f],m=n.get(g[0]);m[g[1]].apply(m,g[2])}else D(a)?b.push(n.invoke(a)):M(a)?b.push(n.invoke(a)):Qa(a,"module")}catch(l){throw M(a)&&(a=a[a.length-1]),l.message&&l.stack&&-1==l.stack.indexOf(l.message)&&(l=l.message+"\n"+l.stack),Va("modulerr",a,l.stack||l.message||l)}}}),b}function f(a,b){function c(d){if(a.hasOwnProperty(d)){if(a[d]===g)throw Va("cdep",m.join(" <- "));return a[d]}try{return m.unshift(d),a[d]=g,a[d]=b(d)}catch(e){throw a[d]===g&&delete a[d],e}finally{m.shift()}}function d(a,b,e){var g,k,m,f=[],h=mc(a);for(k=0,g=h.length;g>k;k++){if(m=h[k],"string"!=typeof m)throw Va("itkn",m);f.push(e&&e.hasOwnProperty(m)?e[m]:c(m))}return a.$inject||(a=a[g]),a.apply(b,f)}return{invoke:d,instantiate:function(a,b){var e,c=function(){};return c.prototype=(M(a)?a[a.length-1]:a).prototype,c=new c,e=d(a,c,b),W(e)||D(e)?e:c},get:c,annotate:mc,has:function(b){return l.hasOwnProperty(b+h)||a.hasOwnProperty(b)}}}var g={},h="Provider",m=[],k=new Ua,l={$provide:{provider:a(c),factory:a(d),service:a(function(a,b){return d(a,["$injector",function(a){return a.instantiate(b)}])}),value:a(function(a,b){return d(a,Y(b))}),constant:a(function(a,b){xa(a,"constant"),l[a]=b,q[a]=b}),decorator:function(a,b){var c=n.get(a+h),d=c.$get;c.$get=function(){var a=p.invoke(d,c);return p.invoke(b,null,{$delegate:a})}}}},n=l.$injector=f(l,function(){throw Va("unpr",m.join(" <- "))}),q={},p=q.$injector=f(q,function(a){return a=n.get(a+h),p.invoke(a.$get,a)});return r(e(b),function(a){p.invoke(a||B)}),p}function Id(){var b=!0;this.disableAutoScrolling=function(){b=!1},this.$get=["$window","$location","$rootScope",function(a,c,d){function e(a){var b=null;return r(a,function(a){b||"a"!==O(a.nodeName)||(b=a)}),b}function f(){var d,b=c.hash();b?(d=g.getElementById(b))?d.scrollIntoView():(d=e(g.getElementsByName(b)))?d.scrollIntoView():"top"===b&&a.scrollTo(0,0):a.scrollTo(0,0)}var g=a.document;return b&&d.$watch(function(){return c.hash()},function(){d.$evalAsync(f)}),f}]}function ee(){this.$get=["$$rAF","$timeout",function(b,a){return b.supported?function(a){return b(a)}:function(b){return a(b,0,!1)}}]}function ne(b,a,c,d){function e(a){try{a.apply(null,va.call(arguments,1))}finally{if(t--,0===t)for(;H.length;)try{H.pop()()}catch(b){c.error(b)}}}function f(a,b){!function kb(){r(C,function(a){a()}),A=b(kb,a)}()}function g(){y=null,J!=h.url()&&(J=h.url(),r(ba,function(a){a(h.url())}))}var h=this,m=a[0],k=b.location,l=b.history,n=b.setTimeout,q=b.clearTimeout,p={};h.isMock=!1;var t=0,H=[];h.$$completeOutstandingRequest=e,h.$$incOutstandingRequestCount=function(){t++},h.notifyWhenNoOutstandingRequests=function(a){r(C,function(a){a()}),0===t?a():H.push(a)};var A,C=[];h.addPollFn=function(a){return E(A)&&f(100,n),C.push(a),a};var J=k.href,F=a.find("base"),y=null;h.url=function(a,c){return k!==b.location&&(k=b.location),l!==b.history&&(l=b.history),a?J!=a?(J=a,d.history?c?l.replaceState(null,"",a):(l.pushState(null,"",a),F.attr("href",F.attr("href"))):(y=a,c?k.replace(a):k.href=a),h):void 0:y||k.href.replace(/%27/g,"'")};var ba=[],S=!1;h.onUrlChange=function(a){return S||(d.history&&w(b).on("popstate",g),d.hashchange?w(b).on("hashchange",g):h.addPollFn(g),S=!0),ba.push(a),a},h.baseHref=function(){var a=F.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var N={},Z="",U=h.baseHref();h.cookies=function(a,b){var d,e,f,h;if(!a){if(m.cookie!==Z)for(Z=m.cookie,d=Z.split("; "),N={},f=0;f<d.length;f++)e=d[f],h=e.indexOf("="),h>0&&(a=unescape(e.substring(0,h)),N[a]===s&&(N[a]=unescape(e.substring(h+1))));return N}b===s?m.cookie=escape(a)+"=;path="+U+";expires=Thu, 01 Jan 1970 00:00:00 GMT":x(b)&&(d=(m.cookie=escape(a)+"="+escape(b)+";path="+U).length+1,d>4096&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+d+" > 4096 bytes)!"))},h.defer=function(a,b){var c;return t++,c=n(function(){delete p[c],e(a)},b||0),p[c]=!0,c},h.defer.cancel=function(a){return p[a]?(delete p[a],q(a),e(B),!0):!1}}function Kd(){this.$get=["$window","$log","$sniffer","$document",function(b,a,c,d){return new ne(b,d,a,c)}]}function Ld(){this.$get=function(){function b(b,d){function e(a){a!=n&&(q?q==a&&(q=a.n):q=a,f(a.n,a.p),f(a,n),n=a,n.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(b in a)throw z("$cacheFactory")("iid",b);var g=0,h=v({},d,{id:b}),m={},k=d&&d.capacity||Number.MAX_VALUE,l={},n=null,q=null;return a[b]={put:function(a,b){if(k<Number.MAX_VALUE){var c=l[a]||(l[a]={key:a});e(c)}return E(b)?void 0:(a in m||g++,m[a]=b,g>k&&this.remove(q.key),b)},get:function(a){if(k<Number.MAX_VALUE){var b=l[a];if(!b)return;e(b)}return m[a]},remove:function(a){if(k<Number.MAX_VALUE){var b=l[a];if(!b)return;b==n&&(n=b.p),b==q&&(q=b.n),f(b.n,b.p),delete l[a]}delete m[a],g--},removeAll:function(){m={},g=0,l={},n=q=null},destroy:function(){l=h=m=null,delete a[b]},info:function(){return v({},h,{size:g})}}}var a={};return b.info=function(){var b={};return r(a,function(a,e){b[e]=a.info()}),b},b.get=function(b){return a[b]},b}}function ae(){this.$get=["$cacheFactory",function(b){return b("templates")}]}function ac(b,a){var c={},d="Directive",e=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,f=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,g=/^<\s*(tr|th|td|thead|tbody|tfoot)(\s+[^>]*)?>/i,h=/^(on[a-z]+|formaction)$/;this.directive=function k(a,e){return xa(a,"directive"),x(a)?(wb(e,"directiveFactory"),c.hasOwnProperty(a)||(c[a]=[],b.factory(a+d,["$injector","$exceptionHandler",function(b,d){var e=[];return r(c[a],function(c,f){try{var h=b.invoke(c);D(h)?h={compile:Y(h)}:!h.compile&&h.link&&(h.compile=Y(h.link)),h.priority=h.priority||0,h.index=f,h.name=h.name||a,h.require=h.require||h.controller&&h.name,h.restrict=h.restrict||"A",e.push(h)}catch(g){d(g)}}),e}])),c[a].push(e)):r(a,Pb(k)),this},this.aHrefSanitizationWhitelist=function(b){return u(b)?(a.aHrefSanitizationWhitelist(b),this):a.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(b){return u(b)?(a.imgSrcSanitizationWhitelist(b),this):a.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,b,n,q,p,t,H,C,A,J,F,y){function ba(a,b,c,d,e){a instanceof w||(a=w(a)),r(a,function(b,c){3==b.nodeType&&b.nodeValue.match(/\S+/)&&(a[c]=w(b).wrap("<span></span>").parent()[0])});var f=N(a,b,a,c,d,e);return S(a,"ng-scope"),function(b,c,d){wb(b,"scope");var e=c?Ha.clone.call(a):a;r(d,function(a,b){e.data("$"+b+"Controller",a)}),d=0;for(var h=e.length;h>d;d++){var g=e[d].nodeType;1!==g&&9!==g||e.eq(d).data("$scope",b)}return c&&c(e,b),f&&f(b,e,e),e}}function S(a,b){try{a.addClass(b)}catch(c){}}function N(a,b,c,d,e,f){function h(a,c,d,e){var f,k,l,n,p,t,q;f=c.length;var ca=Array(f);for(p=0;f>p;p++)ca[p]=c[p];for(q=p=0,t=g.length;t>p;q++)k=ca[q],c=g[p++],f=g[p++],l=w(k),c?(c.scope?(n=a.$new(),l.data("$scope",n)):n=a,(l=c.transclude)||!e&&b?c(f,n,k,d,Z(a,l||b)):c(f,n,k,d,e)):f&&f(a,k.childNodes,s,e)}for(var k,l,n,p,g=[],t=0;t<a.length;t++)k=new Fb,l=U(a[t],[],k,0===t?d:s,e),(f=l.length?Wa(l,a[t],k,b,c,null,[],[],f):null)&&f.scope&&S(w(a[t]),"ng-scope"),k=f&&f.terminal||!(n=a[t].childNodes)||!n.length?null:N(n,f?f.transclude:b),g.push(f,k),p=p||f||k,f=null;return p?h:null}function Z(a,b){return function(c,d,e){var f=!1;return c||(c=a.$new(),f=c.$$transcluded=!0),d=b(c,d,e),f&&d.on("$destroy",db(c,c.$destroy)),d}}function U(a,b,c,d,h){var k,g=c.$attr;switch(a.nodeType){case 1:u(b,ka(Ia(a).toLowerCase()),"E",d,h);var l,n,p;k=a.attributes;for(var t=0,q=k&&k.length;q>t;t++){var H=!1,C=!1;if(l=k[t],!P||P>=8||l.specified){n=l.name,p=ka(n),la.test(p)&&(n=eb(p.substr(6),"-"));var J=p.replace(/(Start|End)$/,"");p===J+"Start"&&(H=n,C=n.substr(0,n.length-5)+"end",n=n.substr(0,n.length-6)),p=ka(n.toLowerCase()),g[p]=n,c[p]=l=aa(l.value),kc(a,p)&&(c[p]=!0),ga(a,b,l,p),u(b,p,"A",d,h,H,C)}}if(a=a.className,x(a)&&""!==a)for(;k=f.exec(a);)p=ka(k[2]),u(b,p,"C",d,h)&&(c[p]=aa(k[3])),a=a.substr(k.index+k[0].length);break;case 3:L(b,a.nodeValue);break;case 8:try{(k=e.exec(a.nodeValue))&&(p=ka(k[1]),u(b,p,"M",d,h)&&(c[p]=aa(k[2])))}catch(y){}}return b.sort(z),b}function I(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ha("uterdir",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return w(d)}function ya(a,b,c){return function(d,e,f,h,g){return e=I(e[0],b,c),a(d,e,f,h,g)}}function Wa(a,c,d,e,f,h,g,k,p){function q(a,b,c,d){a&&(c&&(a=ya(a,c,d)),a.require=G.require,(N===G||G.$$isolateScope)&&(a=nc(a,{isolateScope:!0})),g.push(a)),b&&(c&&(b=ya(b,c,d)),b.require=G.require,(N===G||G.$$isolateScope)&&(b=nc(b,{isolateScope:!0})),k.push(b))}function C(a,b,c){var d,e="data",f=!1;if(x(a)){for(;"^"==(d=a.charAt(0))||"?"==d;)a=a.substr(1),"^"==d&&(e="inheritedData"),f=f||"?"==d;if(d=null,c&&"data"===e&&(d=c[a]),d=d||b[e]("$"+a+"Controller"),!d&&!f)throw ha("ctreq",a,ga)}else M(a)&&(d=[],r(a,function(a){d.push(C(a,b,c))}));return d}function J(a,e,f,h,p){function q(a,b){var c;return 2>arguments.length&&(b=a,a=s),Ja&&(c=ya),p(a,b,c)}var y,ca,A,I,ba,U,u,ya={};if(y=c===f?d:Sb(d,new Fb(w(f),d.$attr)),ca=y.$$element,N){var oe=/^\s*([@=&])(\??)\s*(\w*)\s*$/;h=w(f),U=e.$new(!0),Z&&Z===N.$$originalDirective?h.data("$isolateScope",U):h.data("$isolateScopeNoTemplate",U),S(h,"ng-isolate-scope"),r(N.scope,function(a,c){var g,k,p,n,d=a.match(oe)||[],f=d[3]||c,h="?"==d[2],d=d[1];switch(U.$$isolateBindings[c]=d+f,d){case"@":y.$observe(f,function(a){U[c]=a}),y.$$observers[f].$$scope=e,y[f]&&(U[c]=b(y[f])(e));break;case"=":if(h&&!y[f])break;k=t(y[f]),n=k.literal?ua:function(a,b){return a===b},p=k.assign||function(){throw g=U[c]=k(e),ha("nonassign",y[f],N.name)},g=U[c]=k(e),U.$watch(function(){var a=k(e);return n(a,U[c])||(n(a,g)?p(e,a=U[c]):U[c]=a),g=a},null,k.literal);break;case"&":k=t(y[f]),U[c]=function(a){return k(e,a)};break;default:throw ha("iscp",N.name,c,a)}})}for(u=p&&q,F&&r(F,function(a){var c,b={$scope:a===N||a.$$isolateScope?U:e,$element:ca,$attrs:y,$transclude:u};ba=a.controller,"@"==ba&&(ba=y[a.name]),c=H(ba,b),ya[a.name]=c,Ja||ca.data("$"+a.name+"Controller",c),a.controllerAs&&(b.$scope[a.controllerAs]=c)}),h=0,A=g.length;A>h;h++)try{(I=g[h])(I.isolateScope?U:e,ca,y,I.require&&C(I.require,ca,ya),u)}catch(v){n(v,fa(ca))}for(h=e,N&&(N.template||null===N.templateUrl)&&(h=U),a&&a(h,f.childNodes,s,p),h=k.length-1;h>=0;h--)try{(I=k[h])(I.isolateScope?U:e,ca,y,I.require&&C(I.require,ca,ya),u)}catch(K){n(K,fa(ca))}}p=p||{};for(var A,G,ga,v,L,y=-Number.MAX_VALUE,F=p.controllerDirectives,N=p.newIsolateScopeDirective,Z=p.templateDirective,u=p.nonTlbTranscludeDirective,Wa=!1,Ja=p.hasElementTranscludeDirective,K=d.$$element=w(c),z=e,la=0,P=a.length;P>la;la++){G=a[la];var R=G.$$start,V=G.$$end;if(R&&(K=I(c,R,V)),v=s,y>G.priority)break;if((v=G.scope)&&(A=A||G,G.templateUrl||(Q("new/isolated scope",N,G,K),W(v)&&(N=G))),ga=G.name,!G.templateUrl&&G.controller&&(v=G.controller,F=F||{},Q("'"+ga+"' controller",F[ga],G,K),F[ga]=G),(v=G.transclude)&&(Wa=!0,G.$$tlb||(Q("transclusion",u,G,K),u=G),"element"==v?(Ja=!0,y=G.priority,v=I(c,R,V),K=d.$$element=w(T.createComment(" "+ga+": "+d[ga]+" ")),c=K[0],lb(f,w(va.call(v,0)),c),z=ba(v,e,y,h&&h.name,{nonTlbTranscludeDirective:u})):(v=w(Cb(c)).contents(),K.empty(),z=ba(v,e))),G.template)if(Q("template",Z,G,K),Z=G,v=D(G.template)?G.template(K,d):G.template,v=oc(v),G.replace){if(h=G,v=E(v),c=v[0],1!=v.length||1!==c.nodeType)throw ha("tplrt",ga,"");lb(f,K,c),P={$attr:{}},v=U(c,[],P);var X=a.splice(la+1,a.length-(la+1));N&&kb(v),a=a.concat(v).concat(X),B(d,P),P=a.length}else K.html(v);if(G.templateUrl)Q("template",Z,G,K),Z=G,G.replace&&(h=G),J=O(a.splice(la,a.length-la),K,d,f,z,g,k,{controllerDirectives:F,newIsolateScopeDirective:N,templateDirective:Z,nonTlbTranscludeDirective:u}),P=a.length;else if(G.compile)try{L=G.compile(K,d,z),D(L)?q(null,L,R,V):L&&q(L.pre,L.post,R,V)}catch(Y){n(Y,fa(K))}G.terminal&&(J.terminal=!0,y=Math.max(y,G.priority))}return J.scope=A&&!0===A.scope,J.transclude=Wa&&z,p.hasElementTranscludeDirective=Ja,J}function kb(a){for(var b=0,c=a.length;c>b;b++)a[b]=Rb(a[b],{$$isolateScope:!0})}function u(b,e,f,h,g,l,p){if(e===g)return null;if(g=null,c.hasOwnProperty(e)){var t;e=a.get(e+d);for(var q=0,H=e.length;H>q;q++)try{t=e[q],(h===s||h>t.priority)&&-1!=t.restrict.indexOf(f)&&(l&&(t=Rb(t,{$$start:l,$$end:p})),b.push(t),g=t)}catch(y){n(y)}}return g}function B(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;r(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),r(b,function(b,f){"class"==f?(S(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function E(a){var b;return a=aa(a),(b=g.exec(a))?(b=b[1].toLowerCase(),a=w("<table>"+a+"</table>"),/(thead|tbody|tfoot)/.test(b)?a.children(b):(a=a.children("tbody"),"tr"===b?a.children("tr"):a.children("tr").contents())):w("<div>"+a+"</div>").contents()}function O(a,b,c,d,e,f,h,g){var l,n,k=[],t=b[0],H=a.shift(),y=v({},H,{templateUrl:null,transclude:null,replace:null,$$originalDirective:H}),C=D(H.templateUrl)?H.templateUrl(b,c):H.templateUrl;return b.empty(),q.get(J.getTrustedResourceUrl(C),{cache:p}).success(function(p){var q,J;if(p=oc(p),H.replace){if(p=E(p),q=p[0],1!=p.length||1!==q.nodeType)throw ha("tplrt",H.name,C);p={$attr:{}},lb(d,b,q);var A=U(q,[],p);W(H.scope)&&kb(A),a=A.concat(a),B(c,p)}else q=t,b.html(p);for(a.unshift(y),l=Wa(a,q,c,e,b,H,f,h,g),r(d,function(a,c){a==q&&(d[c]=b[0])}),n=N(b[0].childNodes,e);k.length;){p=k.shift(),J=k.shift();var I=k.shift(),F=k.shift(),A=b[0];if(J!==t){var ba=J.className;g.hasElementTranscludeDirective&&H.replace||(A=Cb(q)),lb(I,w(J),A),S(w(A),ba)}J=l.transclude?Z(p,l.transclude):F,l(n,p,A,d,J)}k=null}).error(function(a,b,c,d){throw ha("tpload",d.url)}),function(a,b,c,d,e){k?(k.push(b),k.push(c),k.push(d),k.push(e)):l(n,b,c,d,e)}}function z(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Q(a,b,c,d){if(b)throw ha("multidir",b.name,c.name,a,fa(d))}function L(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:Y(function(a,b){var c=b.parent(),e=c.data("$binding")||[];e.push(d),S(c.data("$binding",e),"ng-binding"),a.$watch(d,function(a){b[0].nodeValue=a})})})}function Ja(a,b){if("srcdoc"==b)return J.HTML;var c=Ia(a);return"xlinkHref"==b||"FORM"==c&&"action"==b||"IMG"!=c&&("src"==b||"ngSrc"==b)?J.RESOURCE_URL:void 0}function ga(a,c,d,e){var f=b(d,!0);if(f){if("multiple"===e&&"SELECT"===Ia(a))throw ha("selmulti",fa(a));c.push({priority:100,compile:function(){return{pre:function(c,d,g){if(d=g.$$observers||(g.$$observers={}),h.test(e))throw ha("nodomevents");(f=b(g[e],!0,Ja(a,e)))&&(g[e]=f(c),(d[e]||(d[e]=[])).$$inter=!0,(g.$$observers&&g.$$observers[e].$$scope||c).$watch(f,function(a,b){"class"===e&&a!=b?g.$updateClass(a,b):g.$set(e,a)}))}}}})}}function lb(a,b,c){var h,g,d=b[0],e=b.length,f=d.parentNode;if(a)for(h=0,g=a.length;g>h;h++)if(a[h]==d){a[h++]=c,g=h+e-1;for(var k=a.length;k>h;h++,g++)k>g?a[h]=a[g]:delete a[h];a.length-=e-1;break}for(f&&f.replaceChild(c,d),a=T.createDocumentFragment(),a.appendChild(d),c[w.expando]=d[w.expando],d=1,e=b.length;e>d;d++)f=b[d],w(f).remove(),a.appendChild(f),delete b[d];b[0]=c,b.length=1}function nc(a,b){return v(function(){return a.apply(null,arguments)},a,b)}var Fb=function(a,b){this.$$element=a,this.$attr=b||{}};Fb.prototype={$normalize:ka,$addClass:function(a){a&&0<a.length&&F.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&F.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=pc(a,b),d=pc(b,a);0===c.length?F.removeClass(this.$$element,d):0===d.length?F.addClass(this.$$element,c):F.setClass(this.$$element,c,d)},$set:function(a,b,c,d){var e=kc(this.$$element[0],a);e&&(this.$$element.prop(a,b),d=e),this[a]=b,d?this.$attr[a]=d:(d=this.$attr[a])||(this.$attr[a]=d=eb(a,"-")),e=Ia(this.$$element),("A"===e&&"href"===a||"IMG"===e&&"src"===a)&&(this[a]=b=y(b,"src"===a)),!1!==c&&(null===b||b===s?this.$$element.removeAttr(d):this.$$element.attr(d,b)),(c=this.$$observers)&&r(c[a],function(a){try{a(b)}catch(c){n(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers={}),e=d[a]||(d[a]=[]);return e.push(b),C.$evalAsync(function(){e.$$inter||b(c[a])}),b}};var R=b.startSymbol(),V=b.endSymbol(),oc="{{"==R||"}}"==V?Ba:function(a){return a.replace(/\{\{/g,R).replace(/}}/g,V)},la=/^ngAttr[A-Z]/;return ba}]}function ka(b){return Sa(b.replace(pe,""))}function pc(b,a){var c="",d=b.split(/\s+/),e=a.split(/\s+/),f=0;a:for(;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(0<c.length?" ":"")+g}return c}function Md(){var b={},a=/^(\S+)(\s+as\s+(\w+))?$/;this.has=function(c){return b.hasOwnProperty(c)},this.register=function(a,d){xa(a,"controller"),W(a)?v(b,a):b[a]=d},this.$get=["$injector","$window",function(c,d){return function(e,f){var g,h,m;if(x(e)&&(g=e.match(a),h=g[1],m=g[3],e=b.hasOwnProperty(h)?b[h]:$b(f.$scope,h,!0)||$b(d,h,!0),Qa(e,h,!0)),g=c.instantiate(e,f),m){if(!f||"object"!=typeof f.$scope)throw z("$controller")("noscp",h||e.name,m);f.$scope[m]=g}return g}}]}function Nd(){this.$get=["$window",function(b){return w(b.document)}]}function Od(){this.$get=["$log",function(b){return function(a,c){b.error.apply(b,arguments)}}]}function qc(b){var c,d,e,a={};return b?(r(b.split("\n"),function(b){e=b.indexOf(":"),c=O(aa(b.substr(0,e))),d=aa(b.substr(e+1)),c&&(a[c]=a[c]?a[c]+(", "+d):d)}),a):a}function rc(b){var a=W(b)?b:s;return function(c){return a||(a=qc(b)),c?a[O(c)]||null:a}}function sc(b,a,c){return D(c)?c(b,a):(r(c,function(c){b=c(b,a)}),b)}function Rd(){var b=/^\s*(\[|\{[^\{])/,a=/[\}\]]\s*$/,c=/^\)\]\}',?\n/,d={"Content-Type":"application/json;charset=utf-8"},e=this.defaults={transformResponse:[function(d){return x(d)&&(d=d.replace(c,""),b.test(d)&&a.test(d)&&(d=Ub(d))),d}],transformRequest:[function(a){return W(a)&&"[object File]"!==ta.call(a)&&"[object Blob]"!==ta.call(a)?oa(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:$(d),put:$(d),patch:$(d)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},f=this.interceptors=[],g=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,b,c,d,n,q){function p(a){function c(a){var b=v({},a,{data:sc(a.data,a.headers,d.transformResponse)});return 200<=a.status&&300>a.status?b:n.reject(b)}var d={method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},f=function(a){
function b(a){var c;r(a,function(b,d){D(b)&&(c=b(),null!=c?a[d]=c:delete a[d])})}var f,h,c=e.headers,d=v({},a.headers),c=v({},c.common,c[O(a.method)]);b(c),b(d);a:for(f in c){a=O(f);for(h in d)if(O(h)===a)continue a;d[f]=c[f]}return d}(a);v(d,a),d.headers=f,d.method=Da(d.method),(a=Gb(d.url)?b.cookies()[d.xsrfCookieName||e.xsrfCookieName]:s)&&(f[d.xsrfHeaderName||e.xsrfHeaderName]=a);var h=[function(a){f=a.headers;var b=sc(a.data,rc(f),a.transformRequest);return E(a.data)&&r(f,function(a,b){"content-type"===O(b)&&delete f[b]}),E(a.withCredentials)&&!E(e.withCredentials)&&(a.withCredentials=e.withCredentials),t(a,b,f).then(c,c)},s],g=n.when(d);for(r(A,function(a){(a.request||a.requestError)&&h.unshift(a.request,a.requestError),(a.response||a.responseError)&&h.push(a.response,a.responseError)});h.length;){a=h.shift();var k=h.shift(),g=g.then(a,k)}return g.success=function(a){return g.then(function(b){a(b.data,b.status,b.headers,d)}),g},g.error=function(a){return g.then(null,function(b){a(b.data,b.status,b.headers,d)}),g},g}function t(b,c,f){function g(a,b,c){A&&(a>=200&&300>a?A.put(s,[a,b,qc(c)]):A.remove(s)),k(b,a,c),d.$$phase||d.$apply()}function k(a,c,d){c=Math.max(c,0),(c>=200&&300>c?t.resolve:t.reject)({data:a,status:c,headers:rc(d),config:b})}function m(){var a=cb(p.pendingRequests,b);-1!==a&&p.pendingRequests.splice(a,1)}var A,r,t=n.defer(),q=t.promise,s=H(b.url,b.params);if(p.pendingRequests.push(b),q.then(m,m),(b.cache||e.cache)&&!1!==b.cache&&"GET"==b.method&&(A=W(b.cache)?b.cache:W(e.cache)?e.cache:C),A)if(r=A.get(s),u(r)){if(r.then)return r.then(m,m),r;M(r)?k(r[1],r[0],$(r[2])):k(r,200,{})}else A.put(s,q);return E(r)&&a(b.method,s,c,g,f,b.timeout,b.withCredentials,b.responseType),q}function H(a,b){if(!b)return a;var c=[];return Qc(b,function(a,b){null===a||E(a)||(M(a)||(a=[a]),r(a,function(a){W(a)&&(a=oa(a)),c.push(wa(b)+"="+wa(a))}))}),0<c.length&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&")),a}var C=c("$http"),A=[];return r(f,function(a){A.unshift(x(a)?q.get(a):q.invoke(a))}),r(g,function(a,b){var c=x(a)?q.get(a):q.invoke(a);A.splice(b,0,{response:function(a){return c(n.when(a))},responseError:function(a){return c(n.reject(a))}})}),p.pendingRequests=[],function(a){r(arguments,function(a){p[a]=function(b,c){return p(v(c||{},{method:a,url:b}))}})}("get","delete","head","jsonp"),function(a){r(arguments,function(a){p[a]=function(b,c,d){return p(v(d||{},{method:a,url:b,data:c}))}})}("post","put"),p.defaults=e,p}]}function qe(b){if(8>=P&&(!b.match(/^(get|post|head|put|delete|options)$/i)||!Q.XMLHttpRequest))return new Q.ActiveXObject("Microsoft.XMLHTTP");if(Q.XMLHttpRequest)return new Q.XMLHttpRequest;throw z("$httpBackend")("noxhr")}function Sd(){this.$get=["$browser","$window","$document",function(b,a,c){return re(b,qe,b.defer,a.angular.callbacks,c[0])}]}function re(b,a,c,d,e){function f(a,b){var c=e.createElement("script"),d=function(){c.onreadystatechange=c.onload=c.onerror=null,e.body.removeChild(c),b&&b()};return c.type="text/javascript",c.src=a,P&&8>=P?c.onreadystatechange=function(){/loaded|complete/.test(c.readyState)&&d()}:c.onload=c.onerror=function(){d()},e.body.appendChild(c),d}var g=-1;return function(e,m,k,l,n,q,p,t){function H(){A=g,F&&F(),y&&y.abort()}function C(a,d,e,f){S&&c.cancel(S),F=y=null,0===d&&(d=e?200:"file"==pa(m).protocol?404:0),a(1223==d?204:d,e,f),b.$$completeOutstandingRequest(B)}var A;if(b.$$incOutstandingRequestCount(),m=m||b.url(),"jsonp"==O(e)){var J="_"+(d.counter++).toString(36);d[J]=function(a){d[J].data=a};var F=f(m.replace("JSON_CALLBACK","angular.callbacks."+J),function(){d[J].data?C(l,200,d[J].data):C(l,A||-2),d[J]=Ca.noop})}else{var y=a(e);if(y.open(e,m,!0),r(n,function(a,b){u(a)&&y.setRequestHeader(b,a)}),y.onreadystatechange=function(){if(y&&4==y.readyState){var a=null,b=null;A!==g&&(a=y.getAllResponseHeaders(),b="response"in y?y.response:y.responseText),C(l,A||y.status,b,a)}},p&&(y.withCredentials=!0),t)try{y.responseType=t}catch(s){if("json"!==t)throw s}y.send(k||null)}if(q>0)var S=c(H,q);else q&&q.then&&q.then(H)}}function Pd(){var b="{{",a="}}";this.startSymbol=function(a){return a?(b=a,this):b},this.endSymbol=function(b){return b?(a=b,this):a},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(f,k,l){for(var n,q,p=0,t=[],H=f.length,C=!1,A=[];H>p;)-1!=(n=f.indexOf(b,p))&&-1!=(q=f.indexOf(a,n+g))?(p!=n&&t.push(f.substring(p,n)),t.push(p=c(C=f.substring(n+g,q))),p.exp=C,p=q+h,C=!0):(p!=H&&t.push(f.substring(p)),p=H);if((H=t.length)||(t.push(""),H=1),l&&1<t.length)throw tc("noconcat",f);return!k||C?(A.length=H,p=function(a){try{for(var h,b=0,c=H;c>b;b++)"function"==typeof(h=t[b])&&(h=h(a),h=l?e.getTrusted(l,h):e.valueOf(h),null===h||E(h)?h="":"string"!=typeof h&&(h=oa(h))),A[b]=h;return A.join("")}catch(g){a=tc("interr",f,g.toString()),d(a)}},p.exp=f,p.parts=t,p):void 0}var g=b.length,h=a.length;return f.startSymbol=function(){return b},f.endSymbol=function(){return a},f}]}function Qd(){this.$get=["$rootScope","$window","$q",function(b,a,c){function d(d,g,h,m){var k=a.setInterval,l=a.clearInterval,n=c.defer(),q=n.promise,p=0,t=u(m)&&!m;return h=u(h)?h:0,q.then(null,null,d),q.$$intervalId=k(function(){n.notify(p++),h>0&&p>=h&&(n.resolve(p),l(q.$$intervalId),delete e[q.$$intervalId]),t||b.$apply()},g),e[q.$$intervalId]=n,q}var e={};return d.cancel=function(a){return a&&a.$$intervalId in e?(e[a.$$intervalId].reject("canceled"),clearInterval(a.$$intervalId),delete e[a.$$intervalId],!0):!1},d}]}function Zc(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(b){return 1===b?"one":"other"}}}}function uc(b){b=b.split("/");for(var a=b.length;a--;)b[a]=vb(b[a]);return b.join("/")}function vc(b,a,c){b=pa(b,c),a.$$protocol=b.protocol,a.$$host=b.hostname,a.$$port=R(b.port)||se[b.protocol]||null}function wc(b,a,c){var d="/"!==b.charAt(0);d&&(b="/"+b),b=pa(b,c),a.$$path=decodeURIComponent(d&&"/"===b.pathname.charAt(0)?b.pathname.substring(1):b.pathname),a.$$search=Wb(b.search),a.$$hash=decodeURIComponent(b.hash),a.$$path&&"/"!=a.$$path.charAt(0)&&(a.$$path="/"+a.$$path)}function ma(b,a){return 0===a.indexOf(b)?a.substr(b.length):void 0}function Xa(b){var a=b.indexOf("#");return-1==a?b:b.substr(0,a)}function Hb(b){return b.substr(0,Xa(b).lastIndexOf("/")+1)}function xc(b,a){this.$$html5=!0,a=a||"";var c=Hb(b);vc(b,this,b),this.$$parse=function(a){var e=ma(c,a);if(!x(e))throw Ib("ipthprfx",a,c);wc(e,this,b),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=Xb(this.$$search),b=this.$$hash?"#"+vb(this.$$hash):"";this.$$url=uc(this.$$path)+(a?"?"+a:"")+b,this.$$absUrl=c+this.$$url.substr(1)},this.$$rewrite=function(d){var e;return(e=ma(b,d))!==s?(d=e,(e=ma(a,e))!==s?c+(ma("/",e)||e):b+d):(e=ma(c,d))!==s?c+e:c==d+"/"?c:void 0}}function Jb(b,a){var c=Hb(b);vc(b,this,b),this.$$parse=function(d){var e=ma(b,d)||ma(c,d),e="#"==e.charAt(0)?ma(a,e):this.$$html5?e:"";if(!x(e))throw Ib("ihshprfx",d,a);wc(e,this,b),d=this.$$path;var f=/^\/?.*?:(\/.*)/;0===e.indexOf(b)&&(e=e.replace(b,"")),f.exec(e)||(d=(e=f.exec(d))?e[1]:d),this.$$path=d,this.$$compose()},this.$$compose=function(){var c=Xb(this.$$search),e=this.$$hash?"#"+vb(this.$$hash):"";this.$$url=uc(this.$$path)+(c?"?"+c:"")+e,this.$$absUrl=b+(this.$$url?a+this.$$url:"")},this.$$rewrite=function(a){return Xa(b)==Xa(a)?a:void 0}}function yc(b,a){this.$$html5=!0,Jb.apply(this,arguments);var c=Hb(b);this.$$rewrite=function(d){var e;return b==Xa(d)?d:(e=ma(c,d))?b+a+e:c===d+"/"?c:void 0}}function mb(b){return function(){return this[b]}}function zc(b,a){return function(c){return E(c)?this[b]:(this[b]=a(c),this.$$compose(),this)}}function Td(){var b="",a=!1;this.hashPrefix=function(a){return u(a)?(b=a,this):b},this.html5Mode=function(b){return u(b)?(a=b,this):a},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(c,d,e,f){function g(a){c.$broadcast("$locationChangeSuccess",h.absUrl(),a)}var h,m=d.baseHref(),k=d.url();a?(m=k.substring(0,k.indexOf("/",k.indexOf("//")+2))+(m||"/"),e=e.history?xc:yc):(m=Xa(k),e=Jb),h=new e(m,"#"+b),h.$$parse(h.$$rewrite(k)),f.on("click",function(a){if(!a.ctrlKey&&!a.metaKey&&2!=a.which){for(var b=w(a.target);"a"!==O(b[0].nodeName);)if(b[0]===f[0]||!(b=b.parent())[0])return;var e=b.prop("href");W(e)&&"[object SVGAnimatedString]"===e.toString()&&(e=pa(e.animVal).href);var g=h.$$rewrite(e);e&&!b.attr("target")&&g&&!a.isDefaultPrevented()&&(a.preventDefault(),g!=d.url()&&(h.$$parse(g),c.$apply(),Q.angular["ff-684208-preventDefault"]=!0))}}),h.absUrl()!=k&&d.url(h.absUrl(),!0),d.onUrlChange(function(a){h.absUrl()!=a&&(c.$evalAsync(function(){var b=h.absUrl();h.$$parse(a),c.$broadcast("$locationChangeStart",a,b).defaultPrevented?(h.$$parse(b),d.url(b)):g(b)}),c.$$phase||c.$digest())});var l=0;return c.$watch(function(){var a=d.url(),b=h.$$replace;return l&&a==h.absUrl()||(l++,c.$evalAsync(function(){c.$broadcast("$locationChangeStart",h.absUrl(),a).defaultPrevented?h.$$parse(a):(d.url(h.absUrl(),b),g(a))})),h.$$replace=!1,l}),h}]}function Ud(){var b=!0,a=this;this.debugEnabled=function(a){return u(a)?(b=a,this):b},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||B;a=!1;try{a=!!e.apply}catch(m){}return a?function(){var a=[];return r(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){b&&c.apply(a,arguments)}}()}}]}function da(b,a){if("constructor"===b)throw za("isecfld",a);return b}function Ya(b,a){if(b){if(b.constructor===b)throw za("isecfn",a);if(b.document&&b.location&&b.alert&&b.setInterval)throw za("isecwindow",a);if(b.children&&(b.nodeName||b.prop&&b.attr&&b.find))throw za("isecdom",a)}return b}function nb(b,a,c,d,e){e=e||{},a=a.split(".");for(var f,g=0;1<a.length;g++){f=da(a.shift(),d);var h=b[f];h||(h={},b[f]=h),b=h,b.then&&e.unwrapPromises&&(qa(d),"$$v"in b||function(a){a.then(function(b){a.$$v=b})}(b),b.$$v===s&&(b.$$v={}),b=b.$$v)}return f=da(a.shift(),d),b[f]=c}function Ac(b,a,c,d,e,f,g){return da(b,f),da(a,f),da(c,f),da(d,f),da(e,f),g.unwrapPromises?function(h,g){var l,k=g&&g.hasOwnProperty(b)?g:h;return null==k?k:((k=k[b])&&k.then&&(qa(f),"$$v"in k||(l=k,l.$$v=s,l.then(function(a){l.$$v=a})),k=k.$$v),a?null==k?s:((k=k[a])&&k.then&&(qa(f),"$$v"in k||(l=k,l.$$v=s,l.then(function(a){l.$$v=a})),k=k.$$v),c?null==k?s:((k=k[c])&&k.then&&(qa(f),"$$v"in k||(l=k,l.$$v=s,l.then(function(a){l.$$v=a})),k=k.$$v),d?null==k?s:((k=k[d])&&k.then&&(qa(f),"$$v"in k||(l=k,l.$$v=s,l.then(function(a){l.$$v=a})),k=k.$$v),e?null==k?s:((k=k[e])&&k.then&&(qa(f),"$$v"in k||(l=k,l.$$v=s,l.then(function(a){l.$$v=a})),k=k.$$v),k):k):k):k):k)}:function(f,g){var k=g&&g.hasOwnProperty(b)?g:f;return null==k?k:(k=k[b],a?null==k?s:(k=k[a],c?null==k?s:(k=k[c],d?null==k?s:(k=k[d],e?null==k?s:k=k[e]:k):k):k):k)}}function te(b,a){return da(b,a),function(a,d){return null==a?s:(d&&d.hasOwnProperty(b)?d:a)[b]}}function ue(b,a,c){return da(b,c),da(a,c),function(c,e){return null==c?s:(c=(e&&e.hasOwnProperty(b)?e:c)[b],null==c?s:c[a])}}function Bc(b,a,c){if(Kb.hasOwnProperty(b))return Kb[b];var f,d=b.split("."),e=d.length;if(a.unwrapPromises||1!==e)if(a.unwrapPromises||2!==e)if(a.csp)f=6>e?Ac(d[0],d[1],d[2],d[3],d[4],c,a):function(b,f){var g,h=0;do g=Ac(d[h++],d[h++],d[h++],d[h++],d[h++],c,a)(b,f),f=s,b=g;while(e>h);return g};else{var g="var p;\n";r(d,function(b,d){da(b,c),g+="if(s == null) return undefined;\ns="+(d?"s":'((k&&k.hasOwnProperty("'+b+'"))?k:s)')+'["'+b+'"];\n'+(a.unwrapPromises?'if (s && s.then) {\n pw("'+c.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")});var g=g+"return s;",h=new Function("s","k","pw",g);h.toString=Y(g),f=a.unwrapPromises?function(a,b){return h(a,b,qa)}:h}else f=ue(d[0],d[1],c);else f=te(d[0],c);return"hasOwnProperty"!==b&&(Kb[b]=f),f}function Vd(){var b={},a={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(b){return u(b)?(a.unwrapPromises=!!b,this):a.unwrapPromises},this.logPromiseWarnings=function(b){return u(b)?(a.logPromiseWarnings=b,this):a.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(c,d,e){return a.csp=d.csp,qa=function(b){a.logPromiseWarnings&&!Cc.hasOwnProperty(b)&&(Cc[b]=!0,e.warn("[$parse] Promise found in the expression `"+b+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(d){var e;switch(typeof d){case"string":return b.hasOwnProperty(d)?b[d]:(e=new Lb(a),e=new Za(e,c,a).parse(d,!1),"hasOwnProperty"!==d&&(b[d]=e),e);case"function":return d;default:return B}}}]}function Xd(){this.$get=["$rootScope","$exceptionHandler",function(b,a){return ve(function(a){b.$evalAsync(a)},a)}]}function ve(b,a){function c(a){return a}function d(a){return g(a)}var e=function(){var k,l,g=[];return l={resolve:function(a){if(g){var c=g;g=s,k=f(a),c.length&&b(function(){for(var a,b=0,d=c.length;d>b;b++)a=c[b],k.then(a[0],a[1],a[2])})}},reject:function(a){l.resolve(h(a))},notify:function(a){if(g){var c=g;g.length&&b(function(){for(var b,d=0,e=c.length;e>d;d++)b=c[d],b[2](a)})}},promise:{then:function(b,f,h){var l=e(),H=function(d){try{l.resolve((D(b)?b:c)(d))}catch(e){l.reject(e),a(e)}},C=function(b){try{l.resolve((D(f)?f:d)(b))}catch(c){l.reject(c),a(c)}},A=function(b){try{l.notify((D(h)?h:c)(b))}catch(d){a(d)}};return g?g.push([H,C,A]):k.then(H,C,A),l.promise},"catch":function(a){return this.then(null,a)},"finally":function(a){function b(a,c){var d=e();return c?d.resolve(a):d.reject(a),d.promise}function d(e,f){var h=null;try{h=(a||c)()}catch(g){return b(g,!1)}return h&&D(h.then)?h.then(function(){return b(e,f)},function(a){return b(a,!1)}):b(e,f)}return this.then(function(a){return d(a,!0)},function(a){return d(a,!1)})}}}},f=function(a){return a&&D(a.then)?a:{then:function(c){var d=e();return b(function(){d.resolve(c(a))}),d.promise}}},g=function(a){var b=e();return b.reject(a),b.promise},h=function(c){return{then:function(f,h){var g=e();return b(function(){try{g.resolve((D(h)?h:d)(c))}catch(b){g.reject(b),a(b)}}),g.promise}}};return{defer:e,reject:g,when:function(h,k,l,n){var p,q=e(),t=function(b){try{return(D(k)?k:c)(b)}catch(d){return a(d),g(d)}},H=function(b){try{return(D(l)?l:d)(b)}catch(c){return a(c),g(c)}},C=function(b){try{return(D(n)?n:c)(b)}catch(d){a(d)}};return b(function(){f(h).then(function(a){p||(p=!0,q.resolve(f(a).then(t,H,C)))},function(a){p||(p=!0,q.resolve(H(a)))},function(a){p||q.notify(C(a))})}),q.promise},all:function(a){var b=e(),c=0,d=M(a)?[]:{};return r(a,function(a,e){c++,f(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}}}function de(){this.$get=["$window","$timeout",function(b,a){var c=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame,d=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.mozCancelAnimationFrame||b.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(b){var c=a(b,16.66,!1);return function(){a.cancel(c)}};return f.supported=e,f}]}function Wd(){var b=10,a=z("$rootScope"),c=null;this.digestTtl=function(a){return arguments.length&&(b=a),b},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,e,f,g){function h(){this.$id=ab(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function m(b){if(q.$$phase)throw a("inprog",q.$$phase);q.$$phase=b}function k(a,b){var c=f(a);return Qa(c,b),c}function l(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function n(){}h.prototype={constructor:h,$new:function(a){return a?(a=new h,a.$root=this.$root,a.$$asyncQueue=this.$$asyncQueue,a.$$postDigestQueue=this.$$postDigestQueue):(a=function(){},a.prototype=this,a=new a,a.$id=ab()),a["this"]=a,a.$$listeners={},a.$$listenerCount={},a.$parent=this,a.$$watchers=a.$$nextSibling=a.$$childHead=a.$$childTail=null,a.$$prevSibling=this.$$childTail,this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=a:this.$$childHead=this.$$childTail=a,a},$watch:function(a,b,d){var e=k(a,"watch"),f=this.$$watchers,h={fn:b,last:n,get:e,exp:a,eq:!!d};if(c=null,!D(b)){var g=k(b||B,"listener");h.fn=function(a,b,c){g(c)}}if("string"==typeof a&&e.constant){var m=h.fn;h.fn=function(a,b,c){m.call(this,a,b,c),Na(f,h)}}return f||(f=this.$$watchers=[]),f.unshift(h),function(){Na(f,h),c=null}},$watchCollection:function(a,b){var d,e,h,c=this,g=1<b.length,k=0,m=f(a),l=[],n={},q=!0,r=0;return this.$watch(function(){d=m(c);var a,b;if(W(d))if($a(d))for(e!==l&&(e=l,r=e.length=0,k++),a=d.length,r!==a&&(k++,e.length=r=a),b=0;a>b;b++)e[b]!==e[b]&&d[b]!==d[b]||e[b]===d[b]||(k++,e[b]=d[b]);else{e!==n&&(e=n={},r=0,k++),a=0;for(b in d)d.hasOwnProperty(b)&&(a++,e.hasOwnProperty(b)?e[b]!==d[b]&&(k++,e[b]=d[b]):(r++,e[b]=d[b],k++));if(r>a)for(b in k++,e)e.hasOwnProperty(b)&&!d.hasOwnProperty(b)&&(r--,delete e[b])}else e!==d&&(e=d,k++);return k},function(){if(q?(q=!1,b(d,d,c)):b(d,h,c),g)if(W(d))if($a(d)){h=Array(d.length);for(var a=0;a<d.length;a++)h[a]=d[a]}else for(a in h={},d)Dc.call(d,a)&&(h[a]=d[a]);else h=d})},$digest:function(){var d,f,h,g,r,y,S,u,v,I,k=this.$$asyncQueue,l=this.$$postDigestQueue,s=b,N=[];m("$digest"),c=null;do{for(y=!1,S=this;k.length;){try{I=k.shift(),I.scope.$eval(I.expression)}catch(w){q.$$phase=null,e(w)}c=null}a:do{if(g=S.$$watchers)for(r=g.length;r--;)try{if(d=g[r])if((f=d.get(S))===(h=d.last)||(d.eq?ua(f,h):"number"==typeof f&&"number"==typeof h&&isNaN(f)&&isNaN(h))){if(d===c){y=!1;break a}}else y=!0,c=d,d.last=d.eq?$(f):f,d.fn(f,h===n?f:h,S),5>s&&(u=4-s,N[u]||(N[u]=[]),v=D(d.exp)?"fn: "+(d.exp.name||d.exp.toString()):d.exp,v+="; newVal: "+oa(f)+"; oldVal: "+oa(h),N[u].push(v))}catch(x){q.$$phase=null,e(x)}if(!(g=S.$$childHead||S!==this&&S.$$nextSibling))for(;S!==this&&!(g=S.$$nextSibling);)S=S.$parent}while(S=g);if((y||k.length)&&!s--)throw q.$$phase=null,a("infdig",b,oa(N))}while(y||k.length);for(q.$$phase=null;l.length;)try{l.shift()()}catch(B){e(B)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==q&&(r(this.$$listenerCount,db(null,l,this)),a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null)}},$eval:function(a,b){return f(a)(this,b)},$evalAsync:function(a){q.$$phase||q.$$asyncQueue.length||g.defer(function(){q.$$asyncQueue.length&&q.$digest()}),this.$$asyncQueue.push({scope:this,expression:a})},$$postDigest:function(a){this.$$postDigestQueue.push(a)},$apply:function(a){try{return m("$apply"),this.$eval(a)}catch(b){e(b)}finally{q.$$phase=null;try{q.$digest()}catch(c){throw e(c),c}}},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){c[cb(c,b)]=null,l(e,1,a)}},$emit:function(a,b){var d,l,m,c=[],f=this,h=!1,g={name:a,targetScope:f,stopPropagation:function(){h=!0},preventDefault:function(){g.defaultPrevented=!0},defaultPrevented:!1},k=[g].concat(va.call(arguments,1));do{for(d=f.$$listeners[a]||c,g.currentScope=f,l=0,m=d.length;m>l;l++)if(d[l])try{d[l].apply(null,k)}catch(n){e(n)}else d.splice(l,1),l--,m--;if(h)break;f=f.$parent}while(f);return g},$broadcast:function(a,b){for(var g,k,c=this,d=this,f={name:a,targetScope:this,preventDefault:function(){f.defaultPrevented=!0},defaultPrevented:!1},h=[f].concat(va.call(arguments,1));c=d;){for(f.currentScope=c,d=c.$$listeners[a]||[],g=0,k=d.length;k>g;g++)if(d[g])try{d[g].apply(null,h)}catch(l){e(l)}else d.splice(g,1),g--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}return f}};var q=new h;return q}]}function $c(){var b=/^\s*(https?|ftp|mailto|tel|file):/,a=/^\s*(https?|ftp|file):|data:image\//;this.aHrefSanitizationWhitelist=function(a){return u(a)?(b=a,this):b},this.imgSrcSanitizationWhitelist=function(b){return u(b)?(a=b,this):a},this.$get=function(){return function(c,d){var f,e=d?a:b;return P&&!(P>=8)||(f=pa(c).href,""===f||f.match(e))?c:"unsafe:"+f}}}function we(b){if("self"===b)return b;if(x(b)){if(-1<b.indexOf("***"))throw ra("iwcard",b);return b=b.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08").replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),RegExp("^"+b+"$")}if(bb(b))return RegExp("^"+b.source+"$");throw ra("imatcher")}function Ec(b){var a=[];return u(b)&&r(b,function(b){a.push(we(b))}),a}function Zd(){this.SCE_CONTEXTS=ea;var b=["self"],a=[];this.resourceUrlWhitelist=function(a){return arguments.length&&(b=Ec(a)),b},this.resourceUrlBlacklist=function(b){return arguments.length&&(a=Ec(b)),a},this.$get=["$injector",function(c){function d(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}var e=function(a){throw ra("unsafe")};c.has("$sanitize")&&(e=c.get("$sanitize"));var f=d(),g={};return g[ea.HTML]=d(f),g[ea.CSS]=d(f),g[ea.URL]=d(f),g[ea.JS]=d(f),g[ea.RESOURCE_URL]=d(g[ea.URL]),{trustAs:function(a,b){var c=g.hasOwnProperty(a)?g[a]:null;if(!c)throw ra("icontext",a,b);if(null===b||b===s||""===b)return b;if("string"!=typeof b)throw ra("itype",a);return new c(b)},getTrusted:function(c,d){if(null===d||d===s||""===d)return d;var f=g.hasOwnProperty(c)?g[c]:null;if(f&&d instanceof f)return d.$$unwrapTrustedValue();if(c===ea.RESOURCE_URL){var l,n,f=pa(d.toString()),q=!1;for(l=0,n=b.length;n>l;l++)if("self"===b[l]?Gb(f):b[l].exec(f.href)){q=!0;break}if(q)for(l=0,n=a.length;n>l;l++)if("self"===a[l]?Gb(f):a[l].exec(f.href)){q=!1;break}if(q)return d;throw ra("insecurl",d.toString())}if(c===ea.HTML)return e(d);throw ra("unsafe")},valueOf:function(a){return a instanceof f?a.$$unwrapTrustedValue():a}}}]}function Yd(){var b=!0;this.enabled=function(a){return arguments.length&&(b=!!a),b},this.$get=["$parse","$sniffer","$sceDelegate",function(a,c,d){if(b&&c.msie&&8>c.msieDocumentMode)throw ra("iequirks");var e=$(ea);e.isEnabled=function(){return b},e.trustAs=d.trustAs,e.getTrusted=d.getTrusted,e.valueOf=d.valueOf,b||(e.trustAs=e.getTrusted=function(a,b){return b},e.valueOf=Ba),e.parseAs=function(b,c){var d=a(c);return d.literal&&d.constant?d:function(a,c){return e.getTrusted(b,d(a,c))}};var f=e.parseAs,g=e.getTrusted,h=e.trustAs;return r(ea,function(a,b){var c=O(b);e[Sa("parse_as_"+c)]=function(b){return f(a,b)},e[Sa("get_trusted_"+c)]=function(b){return g(a,b)},e[Sa("trust_as_"+c)]=function(b){return h(a,b)}}),e}]}function $d(){this.$get=["$window","$document",function(b,a){var h,c={},d=R((/android (\d+)/.exec(O((b.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((b.navigator||{}).userAgent),f=a[0]||{},g=f.documentMode,m=/^(Moz|webkit|O|ms)(?=[A-Z])/,k=f.body&&f.body.style,l=!1,n=!1;if(k){for(var q in k)if(l=m.exec(q)){h=l[0],h=h.substr(0,1).toUpperCase()+h.substr(1);break}h||(h="WebkitOpacity"in k&&"webkit"),l=!!("transition"in k||h+"Transition"in k),n=!!("animation"in k||h+"Animation"in k),!d||l&&n||(l=x(f.body.style.webkitTransition),n=x(f.body.style.webkitAnimation))}return{history:!(!b.history||!b.history.pushState||4>d||e),hashchange:"onhashchange"in b&&(!g||g>7),hasEvent:function(a){if("input"==a&&9==P)return!1;if(E(c[a])){var b=f.createElement("div");c[a]="on"+a in b}return c[a]},csp:Tb(),vendorPrefix:h,transitions:l,animations:n,android:d,msie:P,msieDocumentMode:g}}]}function be(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(b,a,c,d){function e(e,h,m){var k=c.defer(),l=k.promise,n=u(m)&&!m;return h=a.defer(function(){try{k.resolve(e())}catch(a){k.reject(a),d(a)}finally{delete f[l.$$timeoutId]}n||b.$apply()},h),l.$$timeoutId=h,f[h]=k,l}var f={};return e.cancel=function(b){return b&&b.$$timeoutId in f?(f[b.$$timeoutId].reject("canceled"),delete f[b.$$timeoutId],a.defer.cancel(b.$$timeoutId)):!1},e}]}function pa(b,a){var c=b;return P&&(V.setAttribute("href",c),c=V.href),V.setAttribute("href",c),{href:V.href,protocol:V.protocol?V.protocol.replace(/:$/,""):"",host:V.host,search:V.search?V.search.replace(/^\?/,""):"",hash:V.hash?V.hash.replace(/^#/,""):"",hostname:V.hostname,port:V.port,pathname:"/"===V.pathname.charAt(0)?V.pathname:"/"+V.pathname}}function Gb(b){return b=x(b)?pa(b):b,b.protocol===Fc.protocol&&b.host===Fc.host}function ce(){this.$get=Y(Q)}function ec(b){function a(d,e){if(W(d)){var f={};return r(d,function(b,c){f[c]=a(c,b)}),f}return b.factory(d+c,e)}var c="Filter";this.register=a,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],a("currency",Gc),a("date",Hc),a("filter",xe),a("json",ye),a("limitTo",ze),a("lowercase",Ae),a("number",Ic),a("orderBy",Jc),a("uppercase",Be)}function xe(){return function(b,a,c){if(!M(b))return b;var d=typeof c,e=[];e.check=function(a){for(var b=0;b<e.length;b++)if(!e[b](a))return!1;return!0},"function"!==d&&(c="boolean"===d&&c?function(a,b){return Ca.equals(a,b)}:function(a,b){if(a&&b&&"object"==typeof a&&"object"==typeof b){for(var d in a)if("$"!==d.charAt(0)&&Dc.call(a,d)&&c(a[d],b[d]))return!0;return!1}return b=(""+b).toLowerCase(),-1<(""+a).toLowerCase().indexOf(b)});var f=function(a,b){if("string"==typeof b&&"!"===b.charAt(0))return!f(a,b.substr(1));switch(typeof a){case"boolean":case"number":case"string":return c(a,b);case"object":switch(typeof b){case"object":return c(a,b);default:for(var d in a)if("$"!==d.charAt(0)&&f(a[d],b))return!0}return!1;case"array":for(d=0;d<a.length;d++)if(f(a[d],b))return!0;return!1;default:return!1}};switch(typeof a){case"boolean":case"number":case"string":a={$:a};case"object":for(var g in a)(function(b){"undefined"!=typeof a[b]&&e.push(function(c){return f("$"==b?c:c&&c[b],a[b])})})(g);break;case"function":e.push(a);break;default:return b}for(d=[],g=0;g<b.length;g++){var h=b[g];e.check(h)&&d.push(h)}return d}}function Gc(b){var a=b.NUMBER_FORMATS;return function(b,d){return E(d)&&(d=a.CURRENCY_SYM),Kc(b,a.PATTERNS[1],a.GROUP_SEP,a.DECIMAL_SEP,2).replace(/\u00A4/g,d)}}function Ic(b){var a=b.NUMBER_FORMATS;return function(b,d){return Kc(b,a.PATTERNS[0],a.GROUP_SEP,a.DECIMAL_SEP,d)}}function Kc(b,a,c,d,e){if(null==b||!isFinite(b)||W(b))return"";var f=0>b;b=Math.abs(b);var g=b+"",h="",m=[],k=!1;if(-1!==g.indexOf("e")){var l=g.match(/([\d\.]+)e(-?)(\d+)/);l&&"-"==l[2]&&l[3]>e+1?g="0":(h=g,k=!0)}if(k)e>0&&b>-1&&1>b&&(h=b.toFixed(e));else{g=(g.split(Lc)[1]||"").length,E(e)&&(e=Math.min(Math.max(a.minFrac,g),a.maxFrac)),g=Math.pow(10,e),b=Math.round(b*g)/g,b=(""+b).split(Lc),g=b[0],b=b[1]||"";var l=0,n=a.lgSize,q=a.gSize;if(g.length>=n+q)for(l=g.length-n,k=0;l>k;k++)0===(l-k)%q&&0!==k&&(h+=c),h+=g.charAt(k);for(k=l;k<g.length;k++)0===(g.length-k)%n&&0!==k&&(h+=c),h+=g.charAt(k);for(;b.length<e;)b+="0";e&&"0"!==e&&(h+=d+b.substr(0,e))}return m.push(f?a.negPre:a.posPre),m.push(h),m.push(f?a.negSuf:a.posSuf),m.join("")}function Mb(b,a,c){var d="";for(0>b&&(d="-",b=-b),b=""+b;b.length<a;)b="0"+b;return c&&(b=b.substr(b.length-a)),d+b}function X(b,a,c,d){return c=c||0,function(e){return e=e["get"+b](),(c>0||e>-c)&&(e+=c),0===e&&-12==c&&(e=12),Mb(e,a,d)}}function ob(b,a){return function(c,d){var e=c["get"+b](),f=Da(a?"SHORT"+b:b);return d[f][e]}}function Hc(b){function a(a){var b;if(b=a.match(c)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,m=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=R(b[9]+b[10]),g=R(b[9]+b[11])),h.call(a,R(b[1]),R(b[2])-1,R(b[3])),f=R(b[4]||0)-f,g=R(b[5]||0)-g,h=R(b[6]||0),b=Math.round(1e3*parseFloat("0."+(b[7]||0))),m.call(a,f,g,h,b)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e){var h,m,f="",g=[];if(e=e||"mediumDate",e=b.DATETIME_FORMATS[e]||e,x(c)&&(c=Ce.test(c)?R(c):a(c)),ub(c)&&(c=new Date(c)),!Ma(c))return c;for(;e;)(m=De.exec(e))?(g=g.concat(va.call(m,1)),e=g.pop()):(g.push(e),e=null);return r(g,function(a){h=Ee[a],f+=h?h(c,b.DATETIME_FORMATS):a.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}}function ye(){return function(b){return oa(b,!0)}}function ze(){return function(b,a){if(!M(b)&&!x(b))return b;if(a=R(a),x(b))return a?a>=0?b.slice(0,a):b.slice(a,b.length):"";var d,e,c=[];for(a>b.length?a=b.length:a<-b.length&&(a=-b.length),a>0?(d=0,e=a):(d=b.length+a,e=b.length);e>d;d++)c.push(b[d]);return c}}function Jc(b){return function(a,c,d){function e(a,b){return Pa(b)?function(b,c){return a(c,b)}:a}function f(a,b){var c=typeof a,d=typeof b;return c==d?("string"==c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:b>a?-1:1):d>c?-1:1}if(!M(a)||!c)return a;c=M(c)?c:[c],c=Sc(c,function(a){var c=!1,d=a||Ba;if(x(a)&&(("+"==a.charAt(0)||"-"==a.charAt(0))&&(c="-"==a.charAt(0),a=a.substring(1)),d=b(a),d.constant)){var h=d();return e(function(a,b){return f(a[h],b[h])},c)}return e(function(a,b){return f(d(a),d(b))},c)});for(var g=[],h=0;h<a.length;h++)g.push(a[h]);return g.sort(e(function(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0},d))}}function sa(b){return D(b)&&(b={link:b}),b.restrict=b.restrict||"AC",Y(b)}function Mc(b,a,c,d){function e(a,c){c=c?"-"+eb(c,"-"):"",d.removeClass(b,(a?pb:qb)+c),d.addClass(b,(a?qb:pb)+c)}var f=this,g=b.parent().controller("form")||rb,h=0,m=f.$error={},k=[];f.$name=a.name||a.ngForm,f.$dirty=!1,f.$pristine=!0,f.$valid=!0,f.$invalid=!1,g.$addControl(f),b.addClass(Ka),e(!0),f.$addControl=function(a){xa(a.$name,"input"),k.push(a),a.$name&&(f[a.$name]=a)},f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name],r(m,function(b,c){f.$setValidity(c,!0,a)}),Na(k,a)},f.$setValidity=function(a,b,c){var d=m[a];if(b)d&&(Na(d,c),d.length||(h--,h||(e(b),f.$valid=!0,f.$invalid=!1),m[a]=!1,e(!0,a),g.$setValidity(a,!0,f)));else{if(h||e(b),d){if(-1!=cb(d,c))return}else m[a]=d=[],h++,e(!1,a),g.$setValidity(a,!1,f);d.push(c),f.$valid=!1,f.$invalid=!0}},f.$setDirty=function(){d.removeClass(b,Ka),d.addClass(b,sb),f.$dirty=!0,f.$pristine=!1,g.$setDirty()},f.$setPristine=function(){d.removeClass(b,sb),d.addClass(b,Ka),f.$dirty=!1,f.$pristine=!0,r(k,function(a){a.$setPristine()})}}function na(b,a,c,d){return b.$setValidity(a,c),c?d:s}function Fe(b,a,c){var d=c.prop("validity");W(d)&&(c=function(c){return b.$error[a]||!(d.badInput||d.customError||d.typeMismatch)||d.valueMissing?c:void b.$setValidity(a,!1)},b.$parsers.push(c),b.$formatters.push(c))}function tb(b,a,c,d,e,f){
var g=a.prop("validity");if(!e.android){var h=!1;a.on("compositionstart",function(a){h=!0}),a.on("compositionend",function(){h=!1,m()})}var m=function(){if(!h){var e=a.val();Pa(c.ngTrim||"T")&&(e=aa(e)),(d.$viewValue!==e||g&&""===e&&!g.valueMissing)&&(b.$$phase?d.$setViewValue(e):b.$apply(function(){d.$setViewValue(e)}))}};if(e.hasEvent("input"))a.on("input",m);else{var k,l=function(){k||(k=f.defer(function(){m(),k=null}))};a.on("keydown",function(a){a=a.keyCode,91===a||a>15&&19>a||a>=37&&40>=a||l()}),e.hasEvent("paste")&&a.on("paste cut",l)}a.on("change",m),d.$render=function(){a.val(d.$isEmpty(d.$viewValue)?"":d.$viewValue)};var n=c.ngPattern;if(n&&((e=n.match(/^\/(.*)\/([gim]*)$/))?(n=RegExp(e[1],e[2]),e=function(a){return na(d,"pattern",d.$isEmpty(a)||n.test(a),a)}):e=function(c){var e=b.$eval(n);if(!e||!e.test)throw z("ngPattern")("noregexp",n,e,fa(a));return na(d,"pattern",d.$isEmpty(c)||e.test(c),c)},d.$formatters.push(e),d.$parsers.push(e)),c.ngMinlength){var q=R(c.ngMinlength);e=function(a){return na(d,"minlength",d.$isEmpty(a)||a.length>=q,a)},d.$parsers.push(e),d.$formatters.push(e)}if(c.ngMaxlength){var p=R(c.ngMaxlength);e=function(a){return na(d,"maxlength",d.$isEmpty(a)||a.length<=p,a)},d.$parsers.push(e),d.$formatters.push(e)}}function Nb(b,a){return b="ngClass"+b,function(){return{restrict:"AC",link:function(c,d,e){function f(b){if(!0===a||c.$index%2===a){var d=g(b||"");h?ua(b,h)||e.$updateClass(d,g(h)):e.$addClass(d)}h=$(b)}function g(a){if(M(a))return a.join(" ");if(W(a)){var b=[];return r(a,function(a,c){a&&b.push(c)}),b.join(" ")}return a}var h;c.$watch(e[b],f,!0),e.$observe("class",function(a){f(c.$eval(e[b]))}),"ngClass"!==b&&c.$watch("$index",function(d,f){var h=1&d;if(h!==f&1){var n=g(c.$eval(e[b]));h===a?e.$addClass(n):e.$removeClass(n)}})}}}}var P,w,Ea,Ra,Ia,O=function(b){return x(b)?b.toLowerCase():b},Dc=Object.prototype.hasOwnProperty,Da=function(b){return x(b)?b.toUpperCase():b},va=[].slice,Ge=[].push,ta=Object.prototype.toString,Oa=z("ng"),Ca=Q.angular||(Q.angular={}),ia=["0","0","0"];P=R((/msie (\d+)/.exec(O(navigator.userAgent))||[])[1]),isNaN(P)&&(P=R((/trident\/.*; rv:(\d+)/.exec(O(navigator.userAgent))||[])[1])),B.$inject=[],Ba.$inject=[];var aa=function(){return String.prototype.trim?function(b){return x(b)?b.trim():b}:function(b){return x(b)?b.replace(/^\s\s*/,"").replace(/\s\s*$/,""):b}}();Ia=9>P?function(b){return b=b.nodeName?b:b[0],b.scopeName&&"HTML"!=b.scopeName?Da(b.scopeName+":"+b.nodeName):b.nodeName}:function(b){return b.nodeName?b.nodeName:b[0].nodeName};var Vc=/[A-Z]/g,Yc={full:"1.2.15",major:1,minor:2,dot:15,codeName:"beer-underestimating"},Ta=L.cache={},fb=L.expando="ng-"+(new Date).getTime(),he=1,Nc=Q.document.addEventListener?function(b,a,c){b.addEventListener(a,c,!1)}:function(b,a,c){b.attachEvent("on"+a,c)},Db=Q.document.removeEventListener?function(b,a,c){b.removeEventListener(a,c,!1)}:function(b,a,c){b.detachEvent("on"+a,c)};L._data=function(b){return this.cache[b[this.expando]]||{}};var fe=/([\:\-\_]+(.))/g,ge=/^moz([A-Z])/,Ab=z("jqLite"),Ha=L.prototype={ready:function(b){function a(){c||(c=!0,b())}var c=!1;"complete"===T.readyState?setTimeout(a):(this.on("DOMContentLoaded",a),L(Q).on("load",a))},toString:function(){var b=[];return r(this,function(a){b.push(""+a)}),"["+b.join(", ")+"]"},eq:function(b){return w(b>=0?this[b]:this[this.length+b])},length:0,push:Ge,sort:[].sort,splice:[].splice},jb={};r("multiple selected checked disabled readOnly required open".split(" "),function(b){jb[O(b)]=b});var lc={};r("input select option textarea button form details".split(" "),function(b){lc[Da(b)]=!0}),r({data:hc,inheritedData:ib,scope:function(b){return w(b).data("$scope")||ib(b.parentNode||b,["$isolateScope","$scope"])},isolateScope:function(b){return w(b).data("$isolateScope")||w(b).data("$isolateScopeNoTemplate")},controller:ic,injector:function(b){return ib(b,"$injector")},removeAttr:function(b,a){b.removeAttribute(a)},hasClass:Eb,css:function(b,a,c){if(a=Sa(a),!u(c)){var d;return 8>=P&&(d=b.currentStyle&&b.currentStyle[a],""===d&&(d="auto")),d=d||b.style[a],8>=P&&(d=""===d?s:d),d}b.style[a]=c},attr:function(b,a,c){var d=O(a);if(jb[d]){if(!u(c))return b[a]||(b.attributes.getNamedItem(a)||B).specified?d:s;c?(b[a]=!0,b.setAttribute(a,d)):(b[a]=!1,b.removeAttribute(d))}else if(u(c))b.setAttribute(a,c);else if(b.getAttribute)return b=b.getAttribute(a,2),null===b?s:b},prop:function(b,a,c){return u(c)?void(b[a]=c):b[a]},text:function(){function b(b,d){var e=a[b.nodeType];return E(d)?e?b[e]:"":void(b[e]=d)}var a=[];return 9>P?(a[1]="innerText",a[3]="nodeValue"):a[1]=a[3]="textContent",b.$dv="",b}(),val:function(b,a){if(E(a)){if("SELECT"===Ia(b)&&b.multiple){var c=[];return r(b.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return b.value}b.value=a},html:function(b,a){if(E(a))return b.innerHTML;for(var c=0,d=b.childNodes;c<d.length;c++)Fa(d[c]);b.innerHTML=a},empty:jc},function(b,a){L.prototype[a]=function(a,d){var e,f;if(b!==jc&&(2==b.length&&b!==Eb&&b!==ic?a:d)===s){if(W(a)){for(e=0;e<this.length;e++)if(b===hc)b(this[e],a);else for(f in a)b(this[e],f,a[f]);return this}e=b.$dv,f=e===s?Math.min(this.length,1):this.length;for(var g=0;f>g;g++){var h=b(this[g],a,d);e=e?e+h:h}return e}for(e=0;e<this.length;e++)b(this[e],a,d);return this}}),r({removeData:fc,dealoc:Fa,on:function a(c,d,e,f){if(u(f))throw Ab("onargs");var g=ja(c,"events"),h=ja(c,"handle");g||ja(c,"events",g={}),h||ja(c,"handle",h=ie(c,g)),r(d.split(" "),function(d){var f=g[d];if(!f){if("mouseenter"==d||"mouseleave"==d){var l=T.body.contains||T.body.compareDocumentPosition?function(a,c){var d=9===a.nodeType?a.documentElement:a,e=c&&c.parentNode;return a===e||!(!e||1!==e.nodeType||!(d.contains?d.contains(e):a.compareDocumentPosition&&16&a.compareDocumentPosition(e)))}:function(a,c){if(c)for(;c=c.parentNode;)if(c===a)return!0;return!1};g[d]=[],a(c,{mouseleave:"mouseout",mouseenter:"mouseover"}[d],function(a){var c=a.relatedTarget;c&&(c===this||l(this,c))||h(a,d)})}else Nc(c,d,h),g[d]=[];f=g[d]}f.push(e)})},off:gc,one:function(a,c,d){a=w(a),a.on(c,function f(){a.off(c,d),a.off(c,f)}),a.on(c,d)},replaceWith:function(a,c){var d,e=a.parentNode;Fa(a),r(new L(c),function(c){d?e.insertBefore(c,d.nextSibling):e.replaceChild(c,a),d=c})},children:function(a){var c=[];return r(a.childNodes,function(a){1===a.nodeType&&c.push(a)}),c},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,c){r(new L(c),function(c){1!==a.nodeType&&11!==a.nodeType||a.appendChild(c)})},prepend:function(a,c){if(1===a.nodeType){var d=a.firstChild;r(new L(c),function(c){a.insertBefore(c,d)})}},wrap:function(a,c){c=w(c)[0];var d=a.parentNode;d&&d.replaceChild(c,a),c.appendChild(a)},remove:function(a){Fa(a);var c=a.parentNode;c&&c.removeChild(a)},after:function(a,c){var d=a,e=a.parentNode;r(new L(c),function(a){e.insertBefore(a,d.nextSibling),d=a})},addClass:hb,removeClass:gb,toggleClass:function(a,c,d){c&&r(c.split(" "),function(c){var f=d;E(f)&&(f=!Eb(a,c)),(f?hb:gb)(a,c)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){if(a.nextElementSibling)return a.nextElementSibling;for(a=a.nextSibling;null!=a&&1!==a.nodeType;)a=a.nextSibling;return a},find:function(a,c){return a.getElementsByTagName?a.getElementsByTagName(c):[]},clone:Cb,triggerHandler:function(a,c,d){c=(ja(a,"events")||{})[c],d=d||[];var e=[{preventDefault:B,stopPropagation:B}];r(c,function(c){c.apply(a,e.concat(d))})}},function(a,c){L.prototype[c]=function(c,e,f){for(var g,h=0;h<this.length;h++)E(g)?(g=a(this[h],c,e,f),u(g)&&(g=w(g))):Bb(g,a(this[h],c,e,f));return u(g)?g:this},L.prototype.bind=L.prototype.on,L.prototype.unbind=L.prototype.off}),Ua.prototype={put:function(a,c){this[Ga(a)]=c},get:function(a){return this[Ga(a)]},remove:function(a){var c=this[a=Ga(a)];return delete this[a],c}};var ke=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,le=/,/,me=/^\s*(_?)(\S+?)\1\s*$/,je=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Va=z("$injector"),He=z("$animate"),Jd=["$provide",function(a){this.$$selectors={},this.register=function(c,d){var e=c+"-animation";if(c&&"."!=c.charAt(0))throw He("notcsel",c);this.$$selectors[c.substr(1)]=e,a.factory(e,d)},this.classNameFilter=function(a){return 1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(a,d){return{enter:function(a,c,g,h){g?g.after(a):(c&&c[0]||(c=g.parent()),c.append(a)),h&&d(h)},leave:function(a,c){a.remove(),c&&d(c)},move:function(a,c,d,h){this.enter(a,c,d,h)},addClass:function(a,c,g){c=x(c)?c:M(c)?c.join(" "):"",r(a,function(a){hb(a,c)}),g&&d(g)},removeClass:function(a,c,g){c=x(c)?c:M(c)?c.join(" "):"",r(a,function(a){gb(a,c)}),g&&d(g)},setClass:function(a,c,g,h){r(a,function(a){hb(a,c),gb(a,g)}),h&&d(h)},enabled:B}}]}],ha=z("$compile");ac.$inject=["$provide","$$sanitizeUriProvider"];var pe=/^(x[\:\-_]|data[\:\-_])/i,tc=z("$interpolate"),Ie=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,se={http:80,https:443,ftp:21},Ib=z("$location");yc.prototype=Jb.prototype=xc.prototype={$$html5:!1,$$replace:!1,absUrl:mb("$$absUrl"),url:function(a,c){if(E(a))return this.$$url;var d=Ie.exec(a);return d[1]&&this.path(decodeURIComponent(d[1])),(d[2]||d[1])&&this.search(d[3]||""),this.hash(d[5]||"",c),this},protocol:mb("$$protocol"),host:mb("$$host"),port:mb("$$port"),path:zc("$$path",function(a){return"/"==a.charAt(0)?a:"/"+a}),search:function(a,c){switch(arguments.length){case 0:return this.$$search;case 1:if(x(a))this.$$search=Wb(a);else{if(!W(a))throw Ib("isrcharg");this.$$search=a}break;default:E(c)||null===c?delete this.$$search[a]:this.$$search[a]=c}return this.$$compose(),this},hash:zc("$$hash",Ba),replace:function(){return this.$$replace=!0,this}};var qa,za=z("$parse"),Cc={},La={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:B,"+":function(a,c,d,e){return d=d(a,c),e=e(a,c),u(d)?u(e)?d+e:d:u(e)?e:s},"-":function(a,c,d,e){return d=d(a,c),e=e(a,c),(u(d)?d:0)-(u(e)?e:0)},"*":function(a,c,d,e){return d(a,c)*e(a,c)},"/":function(a,c,d,e){return d(a,c)/e(a,c)},"%":function(a,c,d,e){return d(a,c)%e(a,c)},"^":function(a,c,d,e){return d(a,c)^e(a,c)},"=":B,"===":function(a,c,d,e){return d(a,c)===e(a,c)},"!==":function(a,c,d,e){return d(a,c)!==e(a,c)},"==":function(a,c,d,e){return d(a,c)==e(a,c)},"!=":function(a,c,d,e){return d(a,c)!=e(a,c)},"<":function(a,c,d,e){return d(a,c)<e(a,c)},">":function(a,c,d,e){return d(a,c)>e(a,c)},"<=":function(a,c,d,e){return d(a,c)<=e(a,c)},">=":function(a,c,d,e){return d(a,c)>=e(a,c)},"&&":function(a,c,d,e){return d(a,c)&&e(a,c)},"||":function(a,c,d,e){return d(a,c)||e(a,c)},"&":function(a,c,d,e){return d(a,c)&e(a,c)},"|":function(a,c,d,e){return e(a,c)(a,c,d(a,c))},"!":function(a,c,d){return!d(a,c)}},Je={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Lb=function(a){this.options=a};Lb.prototype={constructor:Lb,lex:function(a){this.text=a,this.index=0,this.ch=s,this.lastCh=":",this.tokens=[];var c;for(a=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent(),this.was("{,")&&"{"===a[0]&&(c=this.tokens[this.tokens.length-1])&&(c.json=-1===c.text.indexOf("."));else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch,json:this.was(":[,")&&this.is("{[")||this.is("}]:,")}),this.is("{[")&&a.unshift(this.ch),this.is("}]")&&a.shift(),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var d=this.ch+this.peek(),e=d+this.peek(2),f=La[this.ch],g=La[d],h=La[e];h?(this.tokens.push({index:this.index,text:e,fn:h}),this.index+=3):g?(this.tokens.push({index:this.index,text:d,fn:g}),this.index+=2):f?(this.tokens.push({index:this.index,text:this.ch,fn:f,json:this.was("[,:")&&this.is("+-")}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(a){return-1!==a.indexOf(this.ch)},was:function(a){return-1!==a.indexOf(this.lastCh)},peek:function(a){return a=a||1,this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return a>="0"&&"9">=a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||""===a},isIdent:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,c,d){throw d=d||this.index,c=u(c)?"s "+c+"-"+this.index+" ["+this.text.substring(c,d)+"]":" "+d,za("lexerr",a,c,this.text)},readNumber:function(){for(var a="",c=this.index;this.index<this.text.length;){var d=O(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var e=this.peek();if("e"==d&&this.isExpOperator(e))a+=d;else if(this.isExpOperator(d)&&e&&this.isNumber(e)&&"e"==a.charAt(a.length-1))a+=d;else{if(!this.isExpOperator(d)||e&&this.isNumber(e)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}a*=1,this.tokens.push({index:c,text:a,json:!0,fn:function(){return a}})},readIdent:function(){for(var e,f,g,h,a=this,c="",d=this.index;this.index<this.text.length&&(h=this.text.charAt(this.index),"."===h||this.isIdent(h)||this.isNumber(h));)"."===h&&(e=this.index),c+=h,this.index++;if(e)for(f=this.index;f<this.text.length;){if(h=this.text.charAt(f),"("===h){g=c.substr(e-d+1),c=c.substr(0,e-d),this.index=f;break}if(!this.isWhitespace(h))break;f++}if(d={index:d,text:c},La.hasOwnProperty(c))d.fn=La[c],d.json=La[c];else{var m=Bc(c,this.options,this.text);d.fn=v(function(a,c){return m(a,c)},{assign:function(d,e){return nb(d,c,e,a.text,a.options)}})}this.tokens.push(d),g&&(this.tokens.push({index:e,text:".",json:!1}),this.tokens.push({index:e+1,text:g,json:!1}))},readString:function(a){var c=this.index;this.index++;for(var d="",e=a,f=!1;this.index<this.text.length;){var g=this.text.charAt(this.index),e=e+g;if(f)"u"===g?(g=this.text.substring(this.index+1,this.index+5),g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,d+=String.fromCharCode(parseInt(g,16))):d=(f=Je[g])?d+f:d+g,f=!1;else if("\\"===g)f=!0;else{if(g===a)return this.index++,void this.tokens.push({index:c,text:e,string:d,json:!0,fn:function(){return d}});d+=g}this.index++}this.throwError("Unterminated quote",c)}};var Za=function(a,c,d){this.lexer=a,this.$filter=c,this.options=d};Za.ZERO=function(){return 0},Za.prototype={constructor:Za,parse:function(a,c){this.text=a,this.json=c,this.tokens=this.lexer.lex(a),c&&(this.assignment=this.logicalOR,this.functionCall=this.fieldAccess=this.objectIndex=this.filterChain=function(){this.throwError("is not valid json",{text:a,index:0})});var d=c?this.primary():this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),d.literal=!!d.literal,d.constant=!!d.constant,d},primary:function(){var a;if(this.expect("("))a=this.filterChain(),this.consume(")");else if(this.expect("["))a=this.arrayDeclaration();else if(this.expect("{"))a=this.object();else{var c=this.expect();(a=c.fn)||this.throwError("not a primary expression",c),c.json&&(a.constant=!0,a.literal=!0)}for(var d;c=this.expect("(","[",".");)"("===c.text?(a=this.functionCall(a,d),d=null):"["===c.text?(d=a,a=this.objectIndex(a)):"."===c.text?(d=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,c){throw za("syntax",c.text,a,c.index+1,this.text,this.text.substring(c.index))},peekToken:function(){if(0===this.tokens.length)throw za("ueoe",this.text);return this.tokens[0]},peek:function(a,c,d,e){if(0<this.tokens.length){var f=this.tokens[0],g=f.text;if(g===a||g===c||g===d||g===e||!(a||c||d||e))return f}return!1},expect:function(a,c,d,e){return(a=this.peek(a,c,d,e))?(this.json&&!a.json&&this.throwError("is not valid json",a),this.tokens.shift(),a):!1},consume:function(a){this.expect(a)||this.throwError("is unexpected, expecting ["+a+"]",this.peek())},unaryFn:function(a,c){return v(function(d,e){return a(d,e,c)},{constant:c.constant})},ternaryFn:function(a,c,d){return v(function(e,f){return a(e,f)?c(e,f):d(e,f)},{constant:a.constant&&c.constant&&d.constant})},binaryFn:function(a,c,d){return v(function(e,f){return c(e,f,a,d)},{constant:a.constant&&d.constant})},statements:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(c,d){for(var e,f=0;f<a.length;f++){var g=a[f];g&&(e=g(c,d))}return e}},filterChain:function(){for(var c,a=this.expression();;){if(!(c=this.expect("|")))return a;a=this.binaryFn(a,c.fn,this.filter())}},filter:function(){for(var a=this.expect(),c=this.$filter(a.text),d=[];;){if(!(a=this.expect(":"))){var e=function(a,e,h){h=[h];for(var m=0;m<d.length;m++)h.push(d[m](a,e));return c.apply(a,h)};return function(){return e}}d.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var c,d,a=this.ternary();return(d=this.expect("="))?(a.assign||this.throwError("implies assignment but ["+this.text.substring(0,d.index)+"] can not be assigned to",d),c=this.ternary(),function(d,f){return a.assign(d,c(d,f),f)}):a},ternary:function(){var c,d,a=this.logicalOR();return this.expect("?")?(c=this.ternary(),(d=this.expect(":"))?this.ternaryFn(a,c,this.ternary()):void this.throwError("expected :",d)):a},logicalOR:function(){for(var c,a=this.logicalAND();;){if(!(c=this.expect("||")))return a;a=this.binaryFn(a,c.fn,this.logicalAND())}},logicalAND:function(){var c,a=this.equality();return(c=this.expect("&&"))&&(a=this.binaryFn(a,c.fn,this.logicalAND())),a},equality:function(){var c,a=this.relational();return(c=this.expect("==","!=","===","!=="))&&(a=this.binaryFn(a,c.fn,this.equality())),a},relational:function(){var c,a=this.additive();return(c=this.expect("<",">","<=",">="))&&(a=this.binaryFn(a,c.fn,this.relational())),a},additive:function(){for(var c,a=this.multiplicative();c=this.expect("+","-");)a=this.binaryFn(a,c.fn,this.multiplicative());return a},multiplicative:function(){for(var c,a=this.unary();c=this.expect("*","/","%");)a=this.binaryFn(a,c.fn,this.unary());return a},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(Za.ZERO,a.fn,this.unary()):(a=this.expect("!"))?this.unaryFn(a.fn,this.unary()):this.primary()},fieldAccess:function(a){var c=this,d=this.expect().text,e=Bc(d,this.options,this.text);return v(function(c,d,h){return e(h||a(c,d))},{assign:function(e,g,h){return nb(a(e,h),d,g,c.text,c.options)}})},objectIndex:function(a){var c=this,d=this.expression();return this.consume("]"),v(function(e,f){var m,g=a(e,f),h=d(e,f);return g?((g=Ya(g[h],c.text))&&g.then&&c.options.unwrapPromises&&(m=g,"$$v"in g||(m.$$v=s,m.then(function(a){m.$$v=a})),g=g.$$v),g):s},{assign:function(e,f,g){var h=d(e,g);return Ya(a(e,g),c.text)[h]=f}})},functionCall:function(a,c){var d=[];if(")"!==this.peekToken().text)do d.push(this.expression());while(this.expect(","));this.consume(")");var e=this;return function(f,g){for(var h=[],m=c?c(f,g):f,k=0;k<d.length;k++)h.push(d[k](f,g));return k=a(f,g,m)||B,Ya(m,e.text),Ya(k,e.text),h=k.apply?k.apply(m,h):k(h[0],h[1],h[2],h[3],h[4]),Ya(h,e.text)}},arrayDeclaration:function(){var a=[],c=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var d=this.expression();a.push(d),d.constant||(c=!1)}while(this.expect(","));return this.consume("]"),v(function(c,d){for(var g=[],h=0;h<a.length;h++)g.push(a[h](c,d));return g},{literal:!0,constant:c})},object:function(){var a=[],c=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var d=this.expect(),d=d.string||d.text;this.consume(":");var e=this.expression();a.push({key:d,value:e}),e.constant||(c=!1)}while(this.expect(","));return this.consume("}"),v(function(c,d){for(var e={},m=0;m<a.length;m++){var k=a[m];e[k.key]=k.value(c,d)}return e},{literal:!0,constant:c})}};var Kb={},ra=z("$sce"),ea={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},V=T.createElement("a"),Fc=pa(Q.location.href,!0);ec.$inject=["$provide"],Gc.$inject=["$locale"],Ic.$inject=["$locale"];var Lc=".",Ee={yyyy:X("FullYear",4),yy:X("FullYear",2,0,!0),y:X("FullYear",1),MMMM:ob("Month"),MMM:ob("Month",!0),MM:X("Month",2,1),M:X("Month",1,1),dd:X("Date",2),d:X("Date",1),HH:X("Hours",2),H:X("Hours",1),hh:X("Hours",2,-12),h:X("Hours",1,-12),mm:X("Minutes",2),m:X("Minutes",1),ss:X("Seconds",2),s:X("Seconds",1),sss:X("Milliseconds",3),EEEE:ob("Day"),EEE:ob("Day",!0),a:function(a,c){return 12>a.getHours()?c.AMPMS[0]:c.AMPMS[1]},Z:function(a){return a=-1*a.getTimezoneOffset(),a=(a>=0?"+":"")+(Mb(Math[a>0?"floor":"ceil"](a/60),2)+Mb(Math.abs(a%60),2))}},De=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Ce=/^\-?\d+$/;Hc.$inject=["$locale"];var Ae=Y(O),Be=Y(Da);Jc.$inject=["$parse"];var ad=Y({restrict:"E",compile:function(a,c){return 8>=P&&(c.href||c.name||c.$set("href",""),a.append(T.createComment("IE fix"))),c.href||c.xlinkHref||c.name?void 0:function(a,c){var f="[object SVGAnimatedString]"===ta.call(c.prop("href"))?"xlink:href":"href";c.on("click",function(a){c.attr(f)||a.preventDefault()})}}}),yb={};r(jb,function(a,c){if("multiple"!=a){var d=ka("ng-"+c);yb[d]=function(){return{priority:100,link:function(a,f,g){a.$watch(g[d],function(a){g.$set(c,!!a)})}}}}}),r(["src","srcset","href"],function(a){var c=ka("ng-"+a);yb[c]=function(){return{priority:99,link:function(d,e,f){var g=a,h=a;"href"===a&&"[object SVGAnimatedString]"===ta.call(e.prop("href"))&&(h="xlinkHref",f.$attr[h]="xlink:href",g=null),f.$observe(c,function(a){a&&(f.$set(h,a),P&&g&&e.prop(g,f[h]))})}}}});var rb={$addControl:B,$removeControl:B,$setValidity:B,$setDirty:B,$setPristine:B};Mc.$inject=["$element","$attrs","$scope","$animate"];var Oc=function(a){return["$timeout",function(c){return{name:"form",restrict:a?"EAC":"E",controller:Mc,compile:function(){return{pre:function(a,e,f,g){if(!f.action){var h=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};Nc(e[0],"submit",h),e.on("$destroy",function(){c(function(){Db(e[0],"submit",h)},0,!1)})}var m=e.parent().controller("form"),k=f.name||f.ngForm;k&&nb(a,k,g,k),m&&e.on("$destroy",function(){m.$removeControl(g),k&&nb(a,k,s,k),v(g,rb)})}}}}}]},bd=Oc(),od=Oc(!0),Ke=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Le=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9-]+(\.[a-z0-9-]+)*$/i,Me=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Pc={text:tb,number:function(a,c,d,e,f,g){tb(a,c,d,e,f,g),e.$parsers.push(function(a){var c=e.$isEmpty(a);return c||Me.test(a)?(e.$setValidity("number",!0),""===a?null:c?a:parseFloat(a)):(e.$setValidity("number",!1),s)}),Fe(e,"number",c),e.$formatters.push(function(a){return e.$isEmpty(a)?"":""+a}),d.min&&(a=function(a){var c=parseFloat(d.min);return na(e,"min",e.$isEmpty(a)||a>=c,a)},e.$parsers.push(a),e.$formatters.push(a)),d.max&&(a=function(a){var c=parseFloat(d.max);return na(e,"max",e.$isEmpty(a)||c>=a,a)},e.$parsers.push(a),e.$formatters.push(a)),e.$formatters.push(function(a){return na(e,"number",e.$isEmpty(a)||ub(a),a)})},url:function(a,c,d,e,f,g){tb(a,c,d,e,f,g),a=function(a){return na(e,"url",e.$isEmpty(a)||Ke.test(a),a)},e.$formatters.push(a),e.$parsers.push(a)},email:function(a,c,d,e,f,g){tb(a,c,d,e,f,g),a=function(a){return na(e,"email",e.$isEmpty(a)||Le.test(a),a)},e.$formatters.push(a),e.$parsers.push(a)},radio:function(a,c,d,e){E(d.name)&&c.attr("name",ab()),c.on("click",function(){c[0].checked&&a.$apply(function(){e.$setViewValue(d.value)})}),e.$render=function(){c[0].checked=d.value==e.$viewValue},d.$observe("value",e.$render)},checkbox:function(a,c,d,e){var f=d.ngTrueValue,g=d.ngFalseValue;x(f)||(f=!0),x(g)||(g=!1),c.on("click",function(){a.$apply(function(){e.$setViewValue(c[0].checked)})}),e.$render=function(){c[0].checked=e.$viewValue},e.$isEmpty=function(a){return a!==f},e.$formatters.push(function(a){return a===f}),e.$parsers.push(function(a){return a?f:g})},hidden:B,button:B,submit:B,reset:B,file:B},bc=["$browser","$sniffer",function(a,c){return{restrict:"E",require:"?ngModel",link:function(d,e,f,g){g&&(Pc[O(f.type)]||Pc.text)(d,e,f,g,c,a)}}}],qb="ng-valid",pb="ng-invalid",Ka="ng-pristine",sb="ng-dirty",Ne=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(a,c,d,e,f,g){function h(a,c){c=c?"-"+eb(c,"-"):"",g.removeClass(e,(a?pb:qb)+c),g.addClass(e,(a?qb:pb)+c)}this.$modelValue=this.$viewValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=d.name;var m=f(d.ngModel),k=m.assign;if(!k)throw z("ngModel")("nonassign",d.ngModel,fa(e));this.$render=B,this.$isEmpty=function(a){return E(a)||""===a||null===a||a!==a};var l=e.inheritedData("$formController")||rb,n=0,q=this.$error={};e.addClass(Ka),h(!0),this.$setValidity=function(a,c){q[a]!==!c&&(c?(q[a]&&n--,n||(h(!0),this.$valid=!0,this.$invalid=!1)):(h(!1),this.$invalid=!0,this.$valid=!1,n++),q[a]=!c,h(c,a),l.$setValidity(a,c,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,g.removeClass(e,sb),g.addClass(e,Ka)},this.$setViewValue=function(d){this.$viewValue=d,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,g.removeClass(e,Ka),g.addClass(e,sb),l.$setDirty()),r(this.$parsers,function(a){d=a(d)}),this.$modelValue!==d&&(this.$modelValue=d,k(a,d),r(this.$viewChangeListeners,function(a){try{a()}catch(d){c(d)}}))};var p=this;a.$watch(function(){var c=m(a);if(p.$modelValue!==c){var d=p.$formatters,e=d.length;for(p.$modelValue=c;e--;)c=d[e](c);p.$viewValue!==c&&(p.$viewValue=c,p.$render())}return c})}],Dd=function(){return{require:["ngModel","^?form"],controller:Ne,link:function(a,c,d,e){var f=e[0],g=e[1]||rb;g.$addControl(f),a.$on("$destroy",function(){g.$removeControl(f)})}}},Fd=Y({require:"ngModel",link:function(a,c,d,e){e.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),cc=function(){return{require:"?ngModel",link:function(a,c,d,e){if(e){d.required=!0;var f=function(a){return d.required&&e.$isEmpty(a)?void e.$setValidity("required",!1):(e.$setValidity("required",!0),a)};e.$formatters.push(f),e.$parsers.unshift(f),d.$observe("required",function(){f(e.$viewValue)})}}}},Ed=function(){return{require:"ngModel",link:function(a,c,d,e){var f=(a=/\/(.*)\//.exec(d.ngList))&&RegExp(a[1])||d.ngList||",";e.$parsers.push(function(a){if(!E(a)){var c=[];return a&&r(a.split(f),function(a){a&&c.push(aa(a))}),c}}),e.$formatters.push(function(a){return M(a)?a.join(", "):s}),e.$isEmpty=function(a){return!a||!a.length}}}},Oe=/^(true|false|\d+)$/,Gd=function(){return{priority:100,compile:function(a,c){return Oe.test(c.ngValue)?function(a,c,f){f.$set("value",a.$eval(f.ngValue))}:function(a,c,f){a.$watch(f.ngValue,function(a){f.$set("value",a)})}}}},gd=sa(function(a,c,d){c.addClass("ng-binding").data("$binding",d.ngBind),a.$watch(d.ngBind,function(a){c.text(a==s?"":a)})}),id=["$interpolate",function(a){return function(c,d,e){c=a(d.attr(e.$attr.ngBindTemplate)),d.addClass("ng-binding").data("$binding",c),e.$observe("ngBindTemplate",function(a){d.text(a)})}}],hd=["$sce","$parse",function(a,c){return function(d,e,f){e.addClass("ng-binding").data("$binding",f.ngBindHtml);var g=c(f.ngBindHtml);d.$watch(function(){return(g(d)||"").toString()},function(c){e.html(a.getTrustedHtml(g(d))||"")})}}],jd=Nb("",!0),ld=Nb("Odd",0),kd=Nb("Even",1),md=sa({compile:function(a,c){c.$set("ngCloak",s),a.removeClass("ng-cloak")}}),nd=[function(){return{scope:!0,controller:"@",priority:500}}],dc={};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var c=ka("ng-"+a);dc[c]=["$parse",function(d){return{compile:function(e,f){var g=d(f[c]);return function(c,d,e){d.on(O(a),function(a){c.$apply(function(){g(c,{$event:a})})})}}}}]});var qd=["$animate",function(a){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,m,k;c.$watch(e.ngIf,function(f){Pa(f)?m||(m=c.$new(),g(m,function(c){c[c.length++]=T.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)})):(k&&(k.remove(),k=null),m&&(m.$destroy(),m=null),h&&(k=xb(h.clone),a.leave(k,function(){k=null}),h=null))})}}}],rd=["$http","$templateCache","$anchorScroll","$animate","$sce",function(a,c,d,e,f){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Ca.noop,compile:function(g,h){var m=h.ngInclude||h.src,k=h.onload||"",l=h.autoscroll;return function(g,h,p,r,s){var A,w,F,v=0,y=function(){w&&(w.remove(),w=null),A&&(A.$destroy(),A=null),F&&(e.leave(F,function(){w=null}),w=F,F=null)};g.$watch(f.parseAsResourceUrl(m),function(f){var m=function(){!u(l)||l&&!g.$eval(l)||d()},p=++v;f?(a.get(f,{cache:c}).success(function(a){if(p===v){var c=g.$new();r.template=a,a=s(c,function(a){y(),e.enter(a,null,h,m)}),A=c,F=a,A.$emit("$includeContentLoaded"),g.$eval(k)}}).error(function(){p===v&&y()}),g.$emit("$includeContentRequested")):(y(),r.template=null)})}}}}],Hd=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){d.html(f.template),a(d.contents())(c)}}}],sd=sa({priority:450,compile:function(){return{pre:function(a,c,d){a.$eval(d.ngInit)}}}}),td=sa({terminal:!0,priority:1e3}),ud=["$locale","$interpolate",function(a,c){var d=/{}/g;return{restrict:"EA",link:function(e,f,g){var h=g.count,m=g.$attr.when&&f.attr(g.$attr.when),k=g.offset||0,l=e.$eval(m)||{},n={},q=c.startSymbol(),p=c.endSymbol(),t=/^when(Minus)?(.+)$/;r(g,function(a,c){t.test(c)&&(l[O(c.replace("when","").replace("Minus","-"))]=f.attr(g.$attr[c]))}),r(l,function(a,e){n[e]=c(a.replace(d,q+h+"-"+k+p))}),e.$watch(function(){var c=parseFloat(e.$eval(h));return isNaN(c)?"":(c in l||(c=a.pluralCat(c-k)),n[c](e,f,!0))},function(a){f.text(a)})}}}],vd=["$parse","$animate",function(a,c){var d=z("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(e,f,g,h,m){var n,q,p,t,s,v,k=g.ngRepeat,l=k.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),u={$id:Ga};if(!l)throw d("iexp",k);if(g=l[1],h=l[2],(l=l[3])?(n=a(l),q=function(a,c,d){return v&&(u[v]=a),u[s]=c,u.$index=d,n(e,u)}):(p=function(a,c){return Ga(c)},t=function(a){return a}),l=g.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!l)throw d("iidexp",g);s=l[3]||l[1],v=l[2];var J={};e.$watchCollection(h,function(a){var g,h,n,A,I,x,B,E,K,l=f[0],u={},z=[];if($a(a))E=a,n=q||p;else{n=q||t,E=[];for(x in a)a.hasOwnProperty(x)&&"$"!=x.charAt(0)&&E.push(x);E.sort()}for(A=E.length,h=z.length=E.length,g=0;h>g;g++)if(x=a===E?g:E[g],B=a[x],B=n(x,B,g),xa(B,"`track by` id"),J.hasOwnProperty(B))K=J[B],delete J[B],u[B]=K,z[g]=K;else{if(u.hasOwnProperty(B))throw r(z,function(a){a&&a.scope&&(J[a.id]=a)}),d("dupes",k,B);z[g]={id:B},u[B]=!1}for(x in J)J.hasOwnProperty(x)&&(K=J[x],g=xb(K.clone),c.leave(g),r(g,function(a){a.$$NG_REMOVED=!0}),K.scope.$destroy());for(g=0,h=E.length;h>g;g++){if(x=a===E?g:E[g],B=a[x],K=z[g],z[g-1]&&(l=z[g-1].clone[z[g-1].clone.length-1]),K.scope){I=K.scope,n=l;do n=n.nextSibling;while(n&&n.$$NG_REMOVED);K.clone[0]!=n&&c.move(xb(K.clone),null,w(l)),l=K.clone[K.clone.length-1]}else I=e.$new();I[s]=B,v&&(I[v]=x),I.$index=g,I.$first=0===g,I.$last=g===A-1,I.$middle=!(I.$first||I.$last),I.$odd=!(I.$even=0===(1&g)),K.scope||m(I,function(a){a[a.length++]=T.createComment(" end ngRepeat: "+k+" "),c.enter(a,null,w(l)),l=a,K.scope=I,K.clone=a,u[K.id]=K})}J=u})}}}],wd=["$animate",function(a){return function(c,d,e){c.$watch(e.ngShow,function(c){a[Pa(c)?"removeClass":"addClass"](d,"ng-hide")})}}],pd=["$animate",function(a){return function(c,d,e){c.$watch(e.ngHide,function(c){a[Pa(c)?"addClass":"removeClass"](d,"ng-hide")})}}],xd=sa(function(a,c,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&r(d,function(a,d){c.css(d,"")}),a&&c.css(a);
},!0)}),yd=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,f){var g,h,m,k=[];c.$watch(e.ngSwitch||e.on,function(d){var n,q=k.length;if(q>0){if(m){for(n=0;q>n;n++)m[n].remove();m=null}for(m=[],n=0;q>n;n++){var p=h[n];k[n].$destroy(),m[n]=p,a.leave(p,function(){m.splice(n,1),0===m.length&&(m=null)})}}h=[],k=[],(g=f.cases["!"+d]||f.cases["?"])&&(c.$eval(e.change),r(g,function(d){var e=c.$new();k.push(e),d.transclude(e,function(c){var e=d.element;h.push(c),a.enter(c,e.parent(),e)})}))})}}}],zd=sa({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,c,d,e,f){e.cases["!"+d.ngSwitchWhen]=e.cases["!"+d.ngSwitchWhen]||[],e.cases["!"+d.ngSwitchWhen].push({transclude:f,element:c})}}),Ad=sa({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,c,d,e,f){e.cases["?"]=e.cases["?"]||[],e.cases["?"].push({transclude:f,element:c})}}),Cd=sa({link:function(a,c,d,e,f){if(!f)throw z("ngTransclude")("orphan",fa(c));f(function(a){c.empty(),c.append(a)})}}),cd=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(c,d){"text/ng-template"==d.type&&a.put(d.id,c[0].text)}}}],Pe=z("ngOptions"),Bd=Y({terminal:!0}),dd=["$compile","$parse",function(a,c){var d=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,e={$setViewValue:B};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,c,d){var n,m=this,k={},l=e;m.databound=d.ngModel,m.init=function(a,c,d){l=a,n=d},m.addOption=function(c){xa(c,'"option value"'),k[c]=!0,l.$viewValue==c&&(a.val(c),n.parent()&&n.remove())},m.removeOption=function(a){this.hasOption(a)&&(delete k[a],l.$viewValue==a&&this.renderUnknownOption(a))},m.renderUnknownOption=function(c){c="? "+Ga(c)+" ?",n.val(c),a.prepend(n),a.val(c),n.prop("selected",!0)},m.hasOption=function(a){return k.hasOwnProperty(a)},c.$on("$destroy",function(){m.renderUnknownOption=B})}],link:function(e,g,h,m){function k(a,c,d,e){d.$render=function(){var a=d.$viewValue;e.hasOption(a)?(z.parent()&&z.remove(),c.val(a),""===a&&x.prop("selected",!0)):E(a)&&x?c.val(""):e.renderUnknownOption(a)},c.on("change",function(){a.$apply(function(){z.parent()&&z.remove(),d.$setViewValue(c.val())})})}function l(a,c,d){var e;d.$render=function(){var a=new Ua(d.$viewValue);r(c.find("option"),function(c){c.selected=u(a.get(c.value))})},a.$watch(function(){ua(e,d.$viewValue)||(e=$(d.$viewValue),d.$render())}),c.on("change",function(){a.$apply(function(){var a=[];r(c.find("option"),function(c){c.selected&&a.push(c.value)}),d.$setViewValue(a)})})}function n(e,f,g){function h(){var d,k,s,t,z,a={"":[]},c=[""];t=g.$modelValue,z=y(e)||[];var I,C,D,E=n?Ob(z):z;C={},s=!1;var F,L;if(p)if(w&&M(t))for(s=new Ua([]),D=0;D<t.length;D++)C[m]=t[D],s.put(w(e,C),t[D]);else s=new Ua(t);for(D=0;I=E.length,I>D;D++){if(k=D,n){if(k=E[D],"$"===k.charAt(0))continue;C[n]=k}C[m]=z[k],d=q(e,C)||"",(k=a[d])||(k=a[d]=[],c.push(d)),p?d=u(s.remove(w?w(e,C):r(e,C))):(w?(d={},d[m]=t,d=w(e,d)===w(e,C)):d=t===r(e,C),s=s||d),F=l(e,C),F=u(F)?F:"",k.push({id:w?w(e,C):n?E[D]:D,label:F,selected:d})}for(p||(v||null===t?a[""].unshift({id:"",label:"",selected:!s}):s||a[""].unshift({id:"?",label:"",selected:!0})),C=0,E=c.length;E>C;C++){for(d=c[C],k=a[d],x.length<=C?(t={element:B.clone().attr("label",d),label:k.label},z=[t],x.push(z),f.append(t.element)):(z=x[C],t=z[0],t.label!=d&&t.element.attr("label",t.label=d)),F=null,D=0,I=k.length;I>D;D++)s=k[D],(d=z[D+1])?(F=d.element,d.label!==s.label&&F.text(d.label=s.label),d.id!==s.id&&F.val(d.id=s.id),d.selected!==s.selected&&F.prop("selected",d.selected=s.selected)):(""===s.id&&v?L=v:(L=A.clone()).val(s.id).attr("selected",s.selected).text(s.label),z.push({element:L,label:s.label,id:s.id,selected:s.selected}),F?F.after(L):t.element.append(L),F=L);for(D++;z.length>D;)z.pop().element.remove()}for(;x.length>C;)x.pop()[0].element.remove()}var k;if(!(k=t.match(d)))throw Pe("iexp",t,fa(f));var l=c(k[2]||k[1]),m=k[4]||k[6],n=k[5],q=c(k[3]||""),r=c(k[2]?k[1]:m),y=c(k[7]),w=k[8]?c(k[8]):null,x=[[{element:f,label:""}]];v&&(a(v)(e),v.removeClass("ng-scope"),v.remove()),f.empty(),f.on("change",function(){e.$apply(function(){var a,h,k,l,q,t,v,u,c=y(e)||[],d={};if(p){for(k=[],q=0,v=x.length;v>q;q++)for(a=x[q],l=1,t=a.length;t>l;l++)if((h=a[l].element)[0].selected){if(h=h.val(),n&&(d[n]=h),w)for(u=0;u<c.length&&(d[m]=c[u],w(e,d)!=h);u++);else d[m]=c[h];k.push(r(e,d))}}else{if(h=f.val(),"?"==h)k=s;else if(""===h)k=null;else if(w){for(u=0;u<c.length;u++)if(d[m]=c[u],w(e,d)==h){k=r(e,d);break}}else d[m]=c[h],n&&(d[n]=h),k=r(e,d);1<x[0].length&&x[0][1].id!==h&&(x[0][1].selected=!1)}g.$setViewValue(k)})}),g.$render=h,e.$watch(h)}if(m[1]){var q=m[0];m=m[1];var x,p=h.multiple,t=h.ngOptions,v=!1,A=w(T.createElement("option")),B=w(T.createElement("optgroup")),z=A.clone();h=0;for(var y=g.children(),D=y.length;D>h;h++)if(""===y[h].value){x=v=y.eq(h);break}q.init(m,v,z),p&&(m.$isEmpty=function(a){return!a||0===a.length}),t?n(e,g,m):p?l(e,g,m):k(e,g,m,q)}}}}],fd=["$interpolate",function(a){var c={addOption:B,removeOption:B};return{restrict:"E",priority:100,compile:function(d,e){if(E(e.value)){var f=a(d.text(),!0);f||e.$set("value",d.text())}return function(a,d,e){var k=d.parent(),l=k.data("$selectController")||k.parent().data("$selectController");l&&l.databound?d.prop("selected",!1):l=c,f?a.$watch(f,function(a,c){e.$set("value",a),a!==c&&l.removeOption(c),l.addOption(a)}):l.addOption(e.value),d.on("$destroy",function(){l.removeOption(e.value)})}}}}],ed=Y({restrict:"E",terminal:!0});Q.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):((Ea=Q.jQuery)?(w=Ea,v(Ea.fn,{scope:Ha.scope,isolateScope:Ha.isolateScope,controller:Ha.controller,injector:Ha.injector,inheritedData:Ha.inheritedData}),zb("remove",!0,!0,!1),zb("empty",!1,!1,!1),zb("html",!1,!1,!0)):w=L,Ca.element=w,Xc(Ca),w(T).ready(function(){Uc(T,Yb)}))}(window,document),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}</style>');;!function(y,w,z){"use strict";function u(f,a,c){r.directive(f,["$parse","$swipe",function(m,p){var q=75,g=.3,e=30;return function(h,n,l){function k(d){if(!b)return!1;var s=Math.abs(d.y-b.y);return d=(d.x-b.x)*a,v&&q>s&&d>0&&d>e&&g>s/d}var b,v,s=m(l[f]);p.bind(n,{start:function(d,s){b=d,v=!0},cancel:function(b){v=!1},end:function(b,a){k(b)&&h.$apply(function(){n.triggerHandler(c),s(h,{$event:a})})}})}}])}var r=w.module("ngTouch",[]);r.factory("$swipe",[function(){function f(a){var c=a.touches&&a.touches.length?a.touches:[a];return a=a.changedTouches&&a.changedTouches[0]||a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]||c[0].originalEvent||c[0],{x:a.clientX,y:a.clientY}}return{bind:function(a,c){var m,p,q,g,e=!1;a.on("touchstart mousedown",function(a){q=f(a),e=!0,p=m=0,g=q,c.start&&c.start(q,a)}),a.on("touchcancel",function(a){e=!1,c.cancel&&c.cancel(a)}),a.on("touchmove mousemove",function(a){if(e&&q){var n=f(a);m+=Math.abs(n.x-g.x),p+=Math.abs(n.y-g.y),g=n,10>m&&10>p||(p>m?(e=!1,c.cancel&&c.cancel(a)):(a.preventDefault(),c.move&&c.move(n,a)))}}),a.on("touchend mouseup",function(a){e&&(e=!1,c.end&&c.end(f(a),a))})}}}]),r.config(["$provide",function(f){f.decorator("ngClickDirective",["$delegate",function(a){return a.shift(),a}])}]),r.directive("ngClick",["$parse","$timeout","$rootElement",function(f,a,c){function m(a,b,c){for(var d=0;d<a.length;d+=2)if(Math.abs(a[d]-b)<e&&Math.abs(a[d+1]-c)<e)return a.splice(d,d+2),!0;return!1}function p(a){if(!(Date.now()-n>g)){var b=a.touches&&a.touches.length?a.touches:[a],c=b[0].clientX,b=b[0].clientY;1>c&&1>b||k&&k[0]===c&&k[1]===b||(k&&(k=null),"label"===a.target.tagName.toLowerCase()&&(k=[c,b]),m(l,c,b)||(a.stopPropagation(),a.preventDefault(),a.target&&a.target.blur()))}}function q(c){c=c.touches&&c.touches.length?c.touches:[c];var b=c[0].clientX,e=c[0].clientY;l.push(b,e),a(function(){for(var a=0;a<l.length;a+=2)if(l[a]==b&&l[a+1]==e){l.splice(a,a+2);break}},g,!1)}var n,l,k,g=2500,e=25,h="ng-click-active";return function(a,b,e){function d(){k=!1,b.removeClass(h)}var t,r,u,x,g=f(e.ngClick),k=!1;b.on("touchstart",function(a){k=!0,t=a.target?a.target:a.srcElement,3==t.nodeType&&(t=t.parentNode),b.addClass(h),r=Date.now(),a=a.touches&&a.touches.length?a.touches:[a],a=a[0].originalEvent||a[0],u=a.clientX,x=a.clientY}),b.on("touchmove",function(a){d()}),b.on("touchcancel",function(a){d()}),b.on("touchend",function(a){var g=Date.now()-r,f=a.changedTouches&&a.changedTouches.length?a.changedTouches:a.touches&&a.touches.length?a.touches:[a],h=f[0].originalEvent||f[0],f=h.clientX,h=h.clientY,s=Math.sqrt(Math.pow(f-u,2)+Math.pow(h-x,2));k&&750>g&&12>s&&(l||(c[0].addEventListener("click",p,!0),c[0].addEventListener("touchstart",q,!0),l=[]),n=Date.now(),m(l,f,h),t&&t.blur(),w.isDefined(e.disabled)&&!1!==e.disabled||b.triggerHandler("click",[a])),d()}),b.onclick=function(a){},b.on("click",function(b,c){a.$apply(function(){g(a,{$event:c||b})})}),b.on("mousedown",function(a){b.addClass(h)}),b.on("mousemove mouseup",function(a){b.removeClass(h)})}}]),u("ngSwipeLeft",-1,"swipeleft"),u("ngSwipeRight",1,"swiperight")}(window,window.angular);;"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return R(new(R(function(){},{prototype:a})),b)}function e(a){return Q(arguments,function(b){b!==a&&Q(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return Q(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l]&&i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return R({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return Q(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return Q(c,function(c){c in a&&(b[c]=a[c])}),b}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function n(a,b){var c=P(a),d=c?[]:{};return Q(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function o(a,b){var c=P(a)?[]:{};return Q(a,function(a,d){c[d]=b(a,d)}),c}function p(a,b){var d=1,f=2,i={},j=[],k=i,l=R(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,N(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);Q(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return O(a)&&a.then&&a.$$promises}if(!O(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return Q(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!L(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;Q(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!O(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=l;var n=a.defer(),r=n.promise,s=r.$$promises={},t=R({},d),u=1+q.length/3,v=!1;if(L(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,m(f.$$inheritedValues,p)),R(s,f.$$promises),f.$$values?(v=e(t,m(f.$$values,p)),r.$$inheritedValues=m(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=m(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function q(a,b,c){this.fromConfig=function(a,b,c){return L(a.template)?this.fromString(a.template,b):L(a.templateUrl)?this.fromUrl(a.templateUrl,b):L(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return M(a)?a(b):a},this.fromUrl=function(c,d){return M(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function r(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new U.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:f=f.replace(/\/$/,""),e=["(?:/(",")|/)?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),h&&(j=U.type(h)||d(U.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)})),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=R({params:{}},O(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new U.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function s(a){R(this,a)}function t(){function a(a){return null!=a?a.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):a}function e(a){return null!=a?a.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):a}function f(){return{strict:p,caseInsensitive:m}}function i(a){return M(a)||P(a)&&M(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(u[a.name],l.invoke(a.def))}}function k(a){R(this,a||{})}U=this;var l,m=!1,p=!0,q=!1,u={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return null==a||!L(a)||"string"==typeof a},pattern:/[^\/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return L(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^\/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};t.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return L(a)&&(m=a),m},this.strictMode=function(a){return L(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!L(a))return q;if(a!==!0&&a!==!1&&!N(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return q=a,a},this.compile=function(a,b){return new r(a,R(f(),b))},this.isMatcher=function(a){if(!O(a))return!1;var b=!0;return Q(r.prototype,function(c,d){M(c)&&(b=b&&L(a[d])&&M(a[d]))}),b},this.type=function(a,b,c){if(!L(b))return u[a];if(u.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return u[a]=new s(R({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},Q(x,function(a,b){u[b]=new s(R({name:b},a))}),u=d(u,{}),this.$get=["$injector",function(a){return l=a,v=!1,j(),Q(x,function(a,b){u[b]||(u[b]=new s(a))}),this}],this.Param=function(a,d,e,f){function j(a){var b=O(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}function k(c,d,e){if(c.type&&d)throw new Error("Param '"+a+"' has two type configurations.");return d?d:c.type?b.isString(c.type)?u[c.type]:c.type instanceof s?c.type:new s(c.type):"config"===e?u.any:u.string}function m(){var b={array:"search"===f?"auto":!1},c=a.match(/\[\]$/)?{array:!0}:{};return R(b,c,e).array}function p(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!L(c)||null==c)return q;if(c===!0||N(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function r(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=P(a.replace)?a.replace:[],N(e)&&f.push({from:e,to:c}),g=o(f,function(a){return a.from}),n(i,function(a){return-1===h(g,a.from)}).concat(f)}function t(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(e.$$fn);if(null!==a&&a!==c&&!x.type.is(a))throw new Error("Default value ("+a+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return a}function v(a){function b(a){return function(b){return b.from===a}}function c(a){var c=o(n(x.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),L(a)?x.type.$normalize(a):t()}function w(){return"{Param:"+a+" "+d+" squash: '"+A+"' optional: "+z+"}"}var x=this;e=j(e),d=k(e,d,f);var y=m();d=y?d.$asArray(y,"search"===f):d,"string"!==d.name||y||"path"!==f||e.value!==c||(e.value="");var z=e.value!==c,A=p(e,z),B=r(e,y,z,A);R(this,{id:a,type:d,location:f,array:y,squash:A,replace:B,isOptional:z,value:v,dynamic:c,config:e,toString:w})},k.prototype={$$new:function(){return d(this,R(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),Q(b,function(b){Q(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return Q(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return Q(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],f=a[i[d]],f!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function u(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return L(d)?d:!0}function h(d,e,f,g,h){function m(a,b,c){return"/"===q?a:b?q.slice(0,-1)+a:c?q.slice(1)+a:a}function n(a){function b(a){var b=a(f,d);return b?(N(b)&&d.replace().url(b),!0):!1}if(!a||!a.defaultPrevented){p&&d.url()===p,p=c;var e,g=j.length;for(e=0;g>e;e++)if(b(j[e]))return;k&&b(k)}}function o(){return i=i||e.$on("$locationChangeSuccess",n)}var p,q=g.baseHref(),r=d.url();return l||o(),{sync:function(){n()},listen:function(){return o()},update:function(a){return a?void(r=d.url()):void(d.url()!==r&&(d.url(r),d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),p=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled),g=g&&h.history;var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=m(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!M(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(N(a)){var b=a;a=function(){return b}}else if(!M(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=N(b);if(N(a)&&(a=d.compile(a)),!h&&!M(b)&&!P(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),R(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:N(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),R(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function v(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function m(a,b){if(!a)return c;var d=N(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=m(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var l=z[e];return!l||!d&&(d||l!==a&&l.self!==a)?c:l}function n(a,b){A[a]||(A[a]=[]),A[a].push(b)}function p(a){for(var b=A[a]||[];b.length;)q(b.shift())}function q(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!N(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(z.hasOwnProperty(c))throw new Error("State '"+c+"' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):N(b.parent)?b.parent:O(b.parent)&&N(b.parent.name)?b.parent.name:"";if(e&&!z[e])return n(e,b.self);for(var f in C)M(C[f])&&(b[f]=C[f](b,C.$delegates[f]));return z[c]=b,!b[B]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){y.$current.navigable==b&&j(a,c)||y.transitionTo(b,a,{inherit:!0,location:!1})}]),p(c),b}function r(a){return a.indexOf("*")>-1}function s(a){for(var b=a.split("."),c=y.$current.name.split("."),d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length?!1:c.join("")===b.join("")}function t(a,b){return N(a)&&!L(b)?C[a]:M(b)&&N(a)?(C[a]&&!C.$delegates[a]&&(C.$delegates[a]=C[a]),C[a]=b,this):this}function u(a,b){return O(a)?b=a:b.name=a,q(b),this}function v(a,e,f,h,l,n,p,q,t){function u(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),D;if(!g.retry)return null;if(f.$retry)return p.update(),E;var h=y.transition=e.when(g.retry);return h.then(function(){return h!==y.transition?A:(b.options.$retry=!0,y.transitionTo(b.to,b.toParams,b.options))},function(){return D}),p.update(),h}function v(a,c,d,g,i,j){function m(){var c=[];return Q(a.views,function(d,e){var g=d.resolve&&d.resolve!==a.resolve?d.resolve:{};g.$template=[function(){return f.load(e,{view:d,locals:i.globals,params:n,notify:j.notify})||""}],c.push(l.resolve(g,i.globals,i.resolve,a).then(function(c){if(M(d.controllerProvider)||P(d.controllerProvider)){var f=b.extend({},g,i.globals);c.$$controller=h.invoke(d.controllerProvider,null,f)}else c.$$controller=d.controller;c.$$state=a,c.$$controllerAs=d.controllerAs,i[e]=c}))}),e.all(c).then(function(){return i.globals})}var n=d?c:k(a.params.$$keys(),c),o={$stateParams:n};i.resolve=l.resolve(a.resolve,o,i.resolve,a);var p=[i.resolve.then(function(a){i.globals=a})];return g&&p.push(g),e.all(p).then(m).then(function(a){return i})}var A=e.reject(new Error("transition superseded")),C=e.reject(new Error("transition prevented")),D=e.reject(new Error("transition aborted")),E=e.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},y={params:{},current:x.self,$current:x,transition:null},y.reload=function(a){return y.transitionTo(y.current,n,{reload:a||!0,inherit:!1,notify:!0})},y.go=function(a,b,c){return y.transitionTo(a,b,R({inherit:!0,relative:y.$current},c))},y.transitionTo=function(b,c,f){c=c||{},f=R({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=y.$current,l=y.params,o=j.path,q=m(b,f.relative),r=c["#"];if(!L(q)){var s={to:b,toParams:c,options:f},t=u(s,j.self,l,f);if(t)return t;if(b=s.to,c=s.toParams,f=s.options,q=m(b,f.relative),!L(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[B])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(n,c||{},y.$current,q)),!q.params.$$validates(c))return E;c=q.params.$$values(c),b=q;var z=b.path,D=0,F=z[D],G=x.locals,H=[];if(f.reload){if(N(f.reload)||O(f.reload)){if(O(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");var I=f.reload===!0?o[0]:m(f.reload);if(f.reload&&!I)throw new Error("No such reload state '"+(N(f.reload)?f.reload:f.reload.name)+"'");for(;F&&F===o[D]&&F!==I;)G=H[D]=F.locals,D++,F=z[D]}}else for(;F&&F===o[D]&&F.ownParams.$$equals(c,l);)G=H[D]=F.locals,D++,F=z[D];if(w(b,c,j,l,G,f))return r&&(c["#"]=r),y.params=c,S(y.params,n),S(k(b.params.$$keys(),n),b.locals.globals.$stateParams),f.location&&b.navigable&&b.navigable.url&&(p.push(b.navigable.url,c,{$$avoidResync:!0,replace:"replace"===f.location}),p.update(!0)),y.transition=null,e.when(y.current);if(c=k(b.params.$$keys(),c||{}),r&&(c["#"]=r),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,l,f).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),null==y.transition&&p.update(),C;for(var J=e.when(G),K=D;K<z.length;K++,F=z[K])G=H[K]=d(G),J=v(F,c,F===b,J,G,f);var M=y.transition=J.then(function(){var d,e,g;if(y.transition!==M)return A;for(d=o.length-1;d>=D;d--)g=o[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<z.length;d++)e=z[d],e.locals=H[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return y.transition!==M?A:(y.$current=b,y.current=b.self,y.params=c,S(y.params,n),y.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,l),p.update(!0),y.current)},function(d){return y.transition!==M?A:(y.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,l,d),g.defaultPrevented||p.update(),e.reject(d))});return M},y.is=function(a,b,d){d=R({relative:y.$current},d||{});var e=m(a,d.relative);return L(e)?y.$current!==e?!1:b?j(e.params.$$values(b),n):!0:c},y.includes=function(a,b,d){if(d=R({relative:y.$current},d||{}),N(a)&&r(a)){if(!s(a))return!1;a=y.$current.name}var e=m(a,d.relative);return L(e)?L(y.$current.includes[e.name])?b?j(e.params.$$values(b),n,g(b)):!0:!1:c},y.href=function(a,b,d){d=R({lossy:!0,inherit:!0,absolute:!1,relative:y.$current},d||{});var e=m(a,d.relative);if(!L(e))return null;d.inherit&&(b=i(n,b||{},y.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{absolute:d.absolute}):null},y.get=function(a,b){if(0===arguments.length)return o(g(z),function(a){return z[a].self});var c=m(a,b||y.$current);return c&&c.self?c.self:null},y}function w(a,b,c,d,e,f){function g(a,b,c){function d(b){return"search"!=a.params[b].location}var e=a.params.$$keys().filter(d),f=l.apply({},[a.params].concat(e)),g=new U.ParamSet(f);return g.$$equals(b,c)}return!f.reload&&a===c&&(e===c.locals||a.self.reloadOnSearch===!1&&g(c,d,b))?!0:void 0}var x,y,z={},A={},B="abstract",C={parent:function(a){if(L(a.parent)&&a.parent)return m(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?m(b[1]):x},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=d(a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(N(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||x).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new U.ParamSet;return Q(a.params||{},function(a,c){b[c]||(b[c]=new U.Param(c,null,a,"config"))}),b},params:function(a){var b=l(a.ownParams,a.ownParams.$$keys());return a.parent&&a.parent.params?R(a.parent.params.$$new(),b):new U.ParamSet},views:function(a){var b={};return Q(L(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?R({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};x=q({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=t,this.state=u,this.$get=v,v.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function a(a,b){return{load:function(a,c){var d,e={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return c=R(e,c),c.view&&(d=b.fromConfig(c.view,c.params,c.locals)),d}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function x(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function y(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function g(a,c){function d(a){return 1===V&&W>=4?!!j.enabled(a):1===V&&W>=2?!!j.enabled():!!i}var e={enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}};if(a.noanimation)return e;if(j)return{enter:function(a,c,f){d(a)?b.version.minor>2?j.enter(a,null,c).then(f):j.enter(a,null,c,f):e.enter(a,c,f)},leave:function(a,c){d(a)?b.version.minor>2?j.leave(a).then(c):j.leave(a,c):e.leave(a,c)}};if(i){var f=i&&i(c,a);return{enter:function(a,b,c){f.enter(a,null,b),c()},leave:function(a,b){f.leave(a),b()}}}return e}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){function a(){b&&b.remove(),c&&c.$destroy()}var b=l,c=n;c&&(c._willBeDestroyed=!0),m?(r.leave(m,function(){a(),l=null}),l=m):(a(),l=null),m=null,n=null}function k(g){var k,l=A(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if((g||s!==o)&&!c._willBeDestroyed){k=c.$new(),o=a.$current.locals[l],k.$emit("$viewContentLoading",l);var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded",l),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),k(!0)}}};return k}function z(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=A(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e,k.$element=g;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function A(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function B(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function C(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function D(a){var b="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href")),c="FORM"===a[0].nodeName;return{attr:c?"action":b?"xlink:href":"href",isAnchor:"A"===a.prop("tagName").toUpperCase(),clickable:!c}}function E(a,b,c,d,e){return function(f){var g=f.which||f.button,h=e();if(!(g>1||f.ctrlKey||f.metaKey||f.shiftKey||a.attr("target"))){var i=c(function(){b.go(h.state,h.params,h.options)});f.preventDefault();var j=d.isAnchor&&!h.href?1:0;f.preventDefault=function(){j--<=0&&c.cancel(i)}}}}function F(a,b){return{relative:C(a)||b.$current,inherit:!0}}function G(a,c){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(d,e,f,g){var h=B(f.uiSref,a.current.name),i={state:h.state,href:null,params:null},j=D(e),k=g[1]||g[0];i.options=R(F(e,a),f.uiSrefOpts?d.$eval(f.uiSrefOpts):{});var l=function(c){c&&(i.params=b.copy(c)),i.href=a.href(h.state,i.params,i.options),k&&k.$$addStateInfo(h.state,i.params),null!==i.href&&f.$set(j.attr,i.href)};h.paramExpr&&(d.$watch(h.paramExpr,function(a){a!==i.params&&l(a)},!0),i.params=b.copy(d.$eval(h.paramExpr))),l(),j.clickable&&e.bind("click",E(e,a,c,j,function(){return i}))}}}function H(a,b){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(c,d,e,f){function g(b){l.state=b[0],l.params=b[1],l.options=b[2],l.href=a.href(l.state,l.params,l.options),i&&i.$$addStateInfo(l.state,l.params),l.href&&e.$set(h.attr,l.href)}var h=D(d),i=f[1]||f[0],j=[e.uiState,e.uiStateParams||null,e.uiStateOpts||null],k="["+j.map(function(a){return a||"null"}).join(", ")+"]",l={state:null,params:null,options:null,href:null};c.$watch(k,g,!0),g(c.$eval(k)),h.clickable&&d.bind("click",E(d,a,b,h,function(){return l}))}}}function I(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(b,d,e,f){function g(b,c,e){var f=a.get(b,C(d)),g=h(b,c);p.push({state:f||{name:b},params:c,hash:g}),q[g]=e}function h(a,c){if(!N(a))throw new Error("state should be a string");return O(c)?a+T(c):(c=b.$eval(c),O(c)?a+T(c):a)}function i(){for(var a=0;a<p.length;a++)l(p[a].state,p[a].params)?j(d,q[p[a].hash]):k(d,q[p[a].hash]),m(p[a].state,p[a].params)?j(d,n):k(d,n)}function j(a,b){f(function(){a.addClass(b)})}function k(a,b){a.removeClass(b)}function l(b,c){return a.includes(b.name,c)}function m(b,c){return a.is(b.name,c)}var n,o,p=[],q={};n=c(e.uiSrefActiveEq||"",!1)(b);try{o=b.$eval(e.uiSrefActive)}catch(r){}o=o||c(e.uiSrefActive||"",!1)(b),O(o)&&Q(o,function(c,d){if(N(c)){var e=B(c,a.current.name);g(e.state,b.$eval(e.paramExpr),d)}}),this.$$addStateInfo=function(a,b){O(o)&&p.length>0||(g(a,b,o),i())},b.$on("$stateChangeSuccess",i),i()}]}}function J(a){var b=function(b,c){return a.is(b,c)};return b.$stateful=!0,b}function K(a){var b=function(b,c,d){return a.includes(b,c,d)};return b.$stateful=!0,b}var L=b.isDefined,M=b.isFunction,N=b.isString,O=b.isObject,P=b.isArray,Q=b.forEach,R=b.extend,S=b.copy,T=b.toJson;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",p),q.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",q);var U;r.prototype.concat=function(a,b){var c={caseInsensitive:U.caseInsensitive(),strict:U.strictMode(),squash:U.defaultSquashPolicy()};return new r(this.sourcePath+a+this.sourceSearch,R(c,b),this)},r.prototype.toString=function(){return this.source},r.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var d=b(a).split(/-(?!\\)/),e=o(d,b);return o(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var l,m;for(e=0;j>e;e++){for(g=h[e],l=this.params[g],m=d[e+1],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),L(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}for(;i>e;e++){for(g=h[e],k[g]=this.params[g].value(b[g]),l=this.params[g],m=b[g],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);L(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}return k},r.prototype.parameters=function(a){return L(a)?this.params[a]||null:this.$$paramNames},r.prototype.validates=function(a){return this.params.$$validates(a)},r.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],n=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),n),q=p?m.squash:!1,r=m.type.encode(n);if(k){var s=c[f+1],t=f+1===h;if(q===!1)null!=r&&(j+=P(r)?o(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var u=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(u)[1]}else N(q)&&(j+=q+s);t&&m.squash===!0&&"/"===j.slice(-1)&&(j=j.slice(0,-1))}else{if(null==r||p&&q!==!1)continue;if(P(r)||(r=[r]),0===r.length)continue;r=o(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},s.prototype.is=function(a,b){return!0},s.prototype.encode=function(a,b){return a},s.prototype.decode=function(a,b){return a},s.prototype.equals=function(a,b){return a==b},s.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},s.prototype.pattern=/.*/,s.prototype.toString=function(){return"{Type:"+this.name+"}"},s.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},s.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return P(a)?a:L(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){if(P(c)&&0===c.length)return c;c=e(c);var d=o(c,a);return b===!0?0===n(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",t),b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),u.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",u),v.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",v),w.$inject=[],b.module("ui.router.state").provider("$view",w),b.module("ui.router.state").provider("$uiViewScroll",x);var V=b.version.major,W=b.version.minor;y.$inject=["$state","$injector","$uiViewScroll","$interpolate"],z.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",y),b.module("ui.router.state").directive("uiView",z),G.$inject=["$state","$timeout"],H.$inject=["$state","$timeout"],I.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",G).directive("uiSrefActive",I).directive("uiSrefActiveEq",I).directive("uiState",H),
J.$inject=["$state"],K.$inject=["$state"],b.module("ui.router.state").filter("isState",J).filter("includedByState",K)}(window,window.angular);;"use strict";angular.module("ab-base64",[]).constant("base64",function(){var a={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",lookup:null,ie:/MSIE /.test(navigator.userAgent),ieo:/MSIE [67]/.test(navigator.userAgent),encode:function(b){var c,d,e,f,g=a.toUtf8(b),h=-1,i=g.length,j=[,,,];if(a.ie){for(c=[];++h<i;)d=g[h],e=g[++h],j[0]=d>>2,j[1]=(3&d)<<4|e>>4,isNaN(e)?j[2]=j[3]=64:(f=g[++h],j[2]=(15&e)<<2|f>>6,j[3]=isNaN(f)?64:63&f),c.push(a.alphabet.charAt(j[0]),a.alphabet.charAt(j[1]),a.alphabet.charAt(j[2]),a.alphabet.charAt(j[3]));return c.join("")}for(c="";++h<i;)d=g[h],e=g[++h],j[0]=d>>2,j[1]=(3&d)<<4|e>>4,isNaN(e)?j[2]=j[3]=64:(f=g[++h],j[2]=(15&e)<<2|f>>6,j[3]=isNaN(f)?64:63&f),c+=a.alphabet[j[0]]+a.alphabet[j[1]]+a.alphabet[j[2]]+a.alphabet[j[3]];return c},decode:function(b){if(b=b.replace(/\s/g,""),b.length%4)throw new Error("InvalidLengthError: decode failed: The string to be decoded is not the correct length for a base64 encoded string.");if(/[^A-Za-z0-9+\/=\s]/g.test(b))throw new Error("InvalidCharacterError: decode failed: The string contains characters invalid in a base64 encoded string.");var c,d=a.fromUtf8(b),e=0,f=d.length;if(a.ieo){for(c=[];f>e;)c.push(String.fromCharCode(d[e]<128?d[e++]:d[e]>191&&d[e]<224?(31&d[e++])<<6|63&d[e++]:(15&d[e++])<<12|(63&d[e++])<<6|63&d[e++]));return c.join("")}for(c="";f>e;)c+=String.fromCharCode(d[e]<128?d[e++]:d[e]>191&&d[e]<224?(31&d[e++])<<6|63&d[e++]:(15&d[e++])<<12|(63&d[e++])<<6|63&d[e++]);return c},toUtf8:function(a){var b,c=-1,d=a.length,e=[];if(/^[\x00-\x7f]*$/.test(a))for(;++c<d;)e.push(a.charCodeAt(c));else for(;++c<d;)b=a.charCodeAt(c),128>b?e.push(b):2048>b?e.push(b>>6|192,63&b|128):e.push(b>>12|224,b>>6&63|128,63&b|128);return e},fromUtf8:function(b){var c,d=-1,e=[],f=[,,,];if(!a.lookup){for(c=a.alphabet.length,a.lookup={};++d<c;)a.lookup[a.alphabet.charAt(d)]=d;d=-1}for(c=b.length;++d<c&&(f[0]=a.lookup[b.charAt(d)],f[1]=a.lookup[b.charAt(++d)],e.push(f[0]<<2|f[1]>>4),f[2]=a.lookup[b.charAt(++d)],64!==f[2])&&(e.push((15&f[1])<<4|f[2]>>2),f[3]=a.lookup[b.charAt(++d)],64!==f[3]);)e.push((3&f[2])<<6|f[3]);return e}},b={decode:function(b){b=b.replace(/-/g,"+").replace(/_/g,"/");var c=b.length%4;if(c){if(1===c)throw new Error("InvalidLengthError: Input base64url string is the wrong length to determine padding");b+=new Array(5-c).join("=")}return a.decode(b)},encode:function(b){var c=a.encode(b);return c.replace(/\+/g,"-").replace(/\//g,"_").split("=",1)[0]}};return{decode:a.decode,encode:a.encode,urldecode:b.decode,urlencode:b.encode}}());;!function(a,b){var c=b.isDefined,d=b.isUndefined,e=b.isNumber,f=b.isObject,g=b.isArray,h=b.extend,i=b.toJson;b.module("LocalStorageModule",[]).provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.defaultToCookie=!0,this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(a){return this.prefix=a,this},this.setStorageType=function(a){return this.storageType=a,this},this.setDefaultToCookie=function(a){return this.defaultToCookie=!!a,this},this.setStorageCookie=function(a,b){return this.cookie.expiry=a,this.cookie.path=b,this},this.setStorageCookieDomain=function(a){return this.cookie.domain=a,this},this.setNotify=function(a,b){return this.notify={setItem:a,removeItem:b},this},this.$get=["$rootScope","$window","$document","$parse","$timeout",function(a,b,j,k,l){function m(c){if(c||(c=b.event),r.setItem&&v(c.key)){var d=u(c.key);l(function(){a.$broadcast("LocalStorageModule.notification.changed",{key:d,newvalue:c.newValue,storageType:o.storageType})})}}var n,o=this,p=o.prefix,q=o.cookie,r=o.notify,s=o.storageType;j?j[0]&&(j=j[0]):j=document,"."!==p.substr(-1)&&(p=p?p+".":"");var t=function(a){return p+a},u=function(a){return a.replace(new RegExp("^"+p,"g"),"")},v=function(a){return 0===a.indexOf(p)},w=function(){try{var c=s in b&&null!==b[s],d=t("__"+Math.round(1e7*Math.random()));return c&&(n=b[s],n.setItem(d,""),n.removeItem(d)),c}catch(e){return o.defaultToCookie&&(s="cookie"),a.$broadcast("LocalStorageModule.notification.error",e.message),!1}}(),x=function(b,c){if(c=d(c)?null:i(c),!w&&o.defaultToCookie||"cookie"===o.storageType)return w||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),r.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:"cookie"}),D(b,c);try{n&&n.setItem(t(b),c),r.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:o.storageType})}catch(e){return a.$broadcast("LocalStorageModule.notification.error",e.message),D(b,c)}return!0},y=function(b){if(!w&&o.defaultToCookie||"cookie"===o.storageType)return w||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),E(b);var c=n?n.getItem(t(b)):null;if(!c||"null"===c)return null;try{return JSON.parse(c)}catch(d){return c}},z=function(){var b,c;for(b=0;b<arguments.length;b++)if(c=arguments[b],!w&&o.defaultToCookie||"cookie"===o.storageType)w||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),r.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:c,storageType:"cookie"}),F(c);else try{n.removeItem(t(c)),r.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:c,storageType:o.storageType})}catch(d){a.$broadcast("LocalStorageModule.notification.error",d.message),F(c)}},A=function(){if(!w)return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),[];var b=p.length,c=[];for(var d in n)if(d.substr(0,b)===p)try{c.push(d.substr(b))}catch(e){return a.$broadcast("LocalStorageModule.notification.error",e.Description),[]}return c},B=function(b){var c=p?new RegExp("^"+p):new RegExp,d=b?new RegExp(b):new RegExp;if(!w&&o.defaultToCookie||"cookie"===o.storageType)return w||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),G();if(!w&&!o.defaultToCookie)return!1;var e=p.length;for(var f in n)if(c.test(f)&&d.test(f.substr(e)))try{z(f.substr(e))}catch(g){return a.$broadcast("LocalStorageModule.notification.error",g.message),G()}return!0},C=function(){try{return b.navigator.cookieEnabled||"cookie"in j&&(j.cookie.length>0||(j.cookie="test").indexOf.call(j.cookie,"test")>-1)}catch(c){return a.$broadcast("LocalStorageModule.notification.error",c.message),!1}}(),D=function(b,c,h){if(d(c))return!1;if((g(c)||f(c))&&(c=i(c)),!C)return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var k="",l=new Date,m="";if(null===c?(l.setTime(l.getTime()+-864e5),k="; expires="+l.toGMTString(),c=""):e(h)&&0!==h?(l.setTime(l.getTime()+24*h*60*60*1e3),k="; expires="+l.toGMTString()):0!==q.expiry&&(l.setTime(l.getTime()+24*q.expiry*60*60*1e3),k="; expires="+l.toGMTString()),b){var n="; path="+q.path;q.domain&&(m="; domain="+q.domain),j.cookie=t(b)+"="+encodeURIComponent(c)+k+n+m}}catch(o){return a.$broadcast("LocalStorageModule.notification.error",o.message),!1}return!0},E=function(b){if(!C)return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var c=j.cookie&&j.cookie.split(";")||[],d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t(b)+"=")){var f=decodeURIComponent(e.substring(p.length+b.length+1,e.length));try{return JSON.parse(f)}catch(g){return f}}}return null},F=function(a){D(a,null)},G=function(){for(var a=null,b=p.length,c=j.cookie.split(";"),d=0;d<c.length;d++){for(a=c[d];" "===a.charAt(0);)a=a.substring(1,a.length);var e=a.substring(b,a.indexOf("="));F(e)}},H=function(){return s},I=function(a,b,d,e){e=e||b;var g=y(e);return null===g&&c(d)?g=d:f(g)&&f(d)&&(g=h(g,d)),k(b).assign(a,g),a.$watch(b,function(a){x(e,a)},f(a[b]))};w&&(b.addEventListener?b.addEventListener("storage",m,!1):b.attachEvent&&b.attachEvent("onstorage",m));var J=function(){for(var a=0,c=b[s],d=0;d<c.length;d++)0===c.key(d).indexOf(p)&&a++;return a};return{isSupported:w,getStorageType:H,set:x,add:x,get:y,keys:A,remove:z,clearAll:B,bind:I,deriveKey:t,underiveKey:u,length:J,defaultToCookie:this.defaultToCookie,cookie:{isSupported:C,set:D,add:D,get:E,remove:F,clearAll:G}}}]})}(window,window.angular);;(function(c,b){var a=a||function(k){var f={element:null,dragger:null,disable:"none",addBodyClasses:!0,hyperextensible:!0,resistance:.5,flickThreshold:50,transitionSpeed:.3,easing:"ease",maxPosition:266,minPosition:-266,tapToClose:!0,touchToDrag:!0,slideIntent:40,minDragDistance:5},e={simpleStates:{opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},h={},d={hasTouch:null===b.ontouchstart,eventType:function(m){var l={down:d.hasTouch?"touchstart":"mousedown",move:d.hasTouch?"touchmove":"mousemove",up:d.hasTouch?"touchend":"mouseup",out:d.hasTouch?"touchcancel":"mouseout"};return l[m]},page:function(l,m){return d.hasTouch&&m.touches.length&&m.touches[0]?m.touches[0]["page"+l]:m["page"+l]},klass:{has:function(m,l){return-1!==m.className.indexOf(l)},add:function(m,l){!d.klass.has(m,l)&&f.addBodyClasses&&(m.className+=" "+l)},remove:function(m,l){f.addBodyClasses&&(m.className=m.className.replace(l,"").replace(/^\s+|\s+$/g,""))}},dispatchEvent:function(l){return"function"==typeof h[l]?h[l].call():void 0},vendor:function(){var l,m=b.createElement("div"),n="webkit Moz O ms".split(" ");for(l in n)if("undefined"!=typeof m.style[n[l]+"Transition"])return n[l]},transitionCallback:function(){return"Moz"===e.vendor||"ms"===e.vendor?"transitionend":e.vendor+"TransitionEnd"},canTransform:function(){return"undefined"!=typeof f.element.style[e.vendor+"Transform"]},deepExtend:function(l,n){var m;for(m in n)n[m]&&n[m].constructor&&n[m].constructor===Object?(l[m]=l[m]||{},d.deepExtend(l[m],n[m])):l[m]=n[m];return l},angleOfDrag:function(l,o){var n,m;return m=Math.atan2(-(e.startDragY-o),e.startDragX-l),0>m&&(m+=2*Math.PI),n=Math.floor(m*(180/Math.PI)-180),0>n&&n>-180&&(n=360-Math.abs(n)),Math.abs(n)},events:{addEvent:function(m,l,n){return m.addEventListener?m.addEventListener(l,n,!1):m.attachEvent?m.attachEvent("on"+l,n):void 0},removeEvent:function(m,l,n){return m.addEventListener?m.removeEventListener(l,n,!1):m.attachEvent?m.detachEvent("on"+l,n):void 0},prevent:function(l){l.preventDefault?l.preventDefault():l.returnValue=!1}},parentUntil:function(n,l){for(var m="string"==typeof l;n.parentNode;){if(m&&n.getAttribute&&n.getAttribute(l))return n;if(!m&&n===l)return n;n=n.parentNode}return null}},i={translate:{get:{matrix:function(n){if(d.canTransform()){var m=c.getComputedStyle(f.element)[e.vendor+"Transform"].match(/\((.*)\)/),l=8;return m?(m=m[1].split(","),16===m.length&&(n+=l),parseInt(m[n],10)):0}return parseInt(f.element.style.left,10)}},easeCallback:function(){f.element.style[e.vendor+"Transition"]="",e.translation=i.translate.get.matrix(4),e.easing=!1,clearInterval(e.animatingInterval),0===e.easingTo&&(d.klass.remove(b.body,"snapjs-right"),d.klass.remove(b.body,"snapjs-left")),d.dispatchEvent("animated"),d.events.removeEvent(f.element,d.transitionCallback(),i.translate.easeCallback)},easeTo:function(l){d.canTransform()?(e.easing=!0,e.easingTo=l,f.element.style[e.vendor+"Transition"]="all "+f.transitionSpeed+"s "+f.easing,e.animatingInterval=setInterval(function(){d.dispatchEvent("animating")},1),d.events.addEvent(f.element,d.transitionCallback(),i.translate.easeCallback),i.translate.x(l)):(e.translation=l,i.translate.x(l)),0===l&&(f.element.style[e.vendor+"Transform"]="")},x:function(m){if(!("left"===f.disable&&m>0||"right"===f.disable&&0>m))if(f.hyperextensible||(m===f.maxPosition||m>f.maxPosition?m=f.maxPosition:(m===f.minPosition||m<f.minPosition)&&(m=f.minPosition)),m=parseInt(m,10),isNaN(m)&&(m=0),d.canTransform()){var l="translate3d("+m+"px, 0,0)";f.element.style[e.vendor+"Transform"]=l}else f.element.style.width=(c.innerWidth||b.documentElement.clientWidth)+"px",f.element.style.left=m+"px",f.element.style.right=""}},drag:{listen:function(){e.translation=0,e.easing=!1,d.events.addEvent(f.element,d.eventType("down"),i.drag.startDrag),d.events.addEvent(f.element,d.eventType("move"),i.drag.dragging),d.events.addEvent(f.element,d.eventType("up"),i.drag.endDrag)},stopListening:function(){d.events.removeEvent(f.element,d.eventType("down"),i.drag.startDrag),d.events.removeEvent(f.element,d.eventType("move"),i.drag.dragging),d.events.removeEvent(f.element,d.eventType("up"),i.drag.endDrag)},startDrag:function(n){var m=n.target?n.target:n.srcElement,l=d.parentUntil(m,"data-snap-ignore");if(l)return void d.dispatchEvent("ignore");if(f.dragger){var o=d.parentUntil(m,f.dragger);if(!o&&e.translation!==f.minPosition&&e.translation!==f.maxPosition)return}d.dispatchEvent("start"),f.element.style[e.vendor+"Transition"]="",e.isDragging=!0,e.hasIntent=null,e.intentChecked=!1,e.startDragX=d.page("X",n),e.startDragY=d.page("Y",n),e.dragWatchers={current:0,last:0,hold:0,state:""},e.simpleStates={opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},dragging:function(s){if(e.isDragging&&f.touchToDrag){var w,v=d.page("X",s),u=d.page("Y",s),t=e.translation,o=i.translate.get.matrix(4),n=v-e.startDragX,p=o>0,q=n;if(e.intentChecked&&!e.hasIntent)return;if(f.addBodyClasses&&(o>0?(d.klass.add(b.body,"snapjs-left"),d.klass.remove(b.body,"snapjs-right")):0>o&&(d.klass.add(b.body,"snapjs-right"),d.klass.remove(b.body,"snapjs-left"))),e.hasIntent===!1||null===e.hasIntent){var m=d.angleOfDrag(v,u),l=m>=0&&m<=f.slideIntent||360>=m&&m>360-f.slideIntent,r=m>=180&&m<=180+f.slideIntent||180>=m&&m>=180-f.slideIntent;e.hasIntent=r||l?!0:!1,e.intentChecked=!0}if(f.minDragDistance>=Math.abs(v-e.startDragX)||e.hasIntent===!1)return;d.events.prevent(s),d.dispatchEvent("drag"),e.dragWatchers.current=v,e.dragWatchers.last>v?("left"!==e.dragWatchers.state&&(e.dragWatchers.state="left",e.dragWatchers.hold=v),e.dragWatchers.last=v):e.dragWatchers.last<v&&("right"!==e.dragWatchers.state&&(e.dragWatchers.state="right",e.dragWatchers.hold=v),e.dragWatchers.last=v),p?(f.maxPosition<o&&(w=(o-f.maxPosition)*f.resistance,q=n-w),e.simpleStates={opening:"left",towards:e.dragWatchers.state,hyperExtending:f.maxPosition<o,halfway:o>f.maxPosition/2,flick:Math.abs(e.dragWatchers.current-e.dragWatchers.hold)>f.flickThreshold,translation:{absolute:o,relative:n,sinceDirectionChange:e.dragWatchers.current-e.dragWatchers.hold,percentage:o/f.maxPosition*100}}):(f.minPosition>o&&(w=(o-f.minPosition)*f.resistance,q=n-w),e.simpleStates={opening:"right",towards:e.dragWatchers.state,hyperExtending:f.minPosition>o,halfway:o<f.minPosition/2,flick:Math.abs(e.dragWatchers.current-e.dragWatchers.hold)>f.flickThreshold,translation:{absolute:o,relative:n,sinceDirectionChange:e.dragWatchers.current-e.dragWatchers.hold,percentage:o/f.minPosition*100}}),i.translate.x(q+t)}},endDrag:function(m){if(e.isDragging){d.dispatchEvent("end");var l=i.translate.get.matrix(4);if(0===e.dragWatchers.current&&0!==l&&f.tapToClose)return d.dispatchEvent("close"),d.events.prevent(m),i.translate.easeTo(0),e.isDragging=!1,void(e.startDragX=0);"left"===e.simpleStates.opening?e.simpleStates.halfway||e.simpleStates.hyperExtending||e.simpleStates.flick?e.simpleStates.flick&&"left"===e.simpleStates.towards?i.translate.easeTo(0):(e.simpleStates.flick&&"right"===e.simpleStates.towards||e.simpleStates.halfway||e.simpleStates.hyperExtending)&&i.translate.easeTo(f.maxPosition):i.translate.easeTo(0):"right"===e.simpleStates.opening&&(e.simpleStates.halfway||e.simpleStates.hyperExtending||e.simpleStates.flick?e.simpleStates.flick&&"right"===e.simpleStates.towards?i.translate.easeTo(0):(e.simpleStates.flick&&"left"===e.simpleStates.towards||e.simpleStates.halfway||e.simpleStates.hyperExtending)&&i.translate.easeTo(f.minPosition):i.translate.easeTo(0)),e.isDragging=!1,e.startDragX=d.page("X",m)}}}},j=function(l){l.element&&(d.deepExtend(f,l),e.vendor=d.vendor(),i.drag.listen())};this.open=function(l){d.dispatchEvent("open"),d.klass.remove(b.body,"snapjs-expand-left"),d.klass.remove(b.body,"snapjs-expand-right"),"left"===l?(e.simpleStates.opening="left",e.simpleStates.towards="right",d.klass.add(b.body,"snapjs-left"),d.klass.remove(b.body,"snapjs-right"),i.translate.easeTo(f.maxPosition)):"right"===l&&(e.simpleStates.opening="right",e.simpleStates.towards="left",d.klass.remove(b.body,"snapjs-left"),d.klass.add(b.body,"snapjs-right"),i.translate.easeTo(f.minPosition))},this.close=function(){d.dispatchEvent("close"),i.translate.easeTo(0)},this.expand=function(l){var m=c.innerWidth||b.documentElement.clientWidth;"left"===l?(d.dispatchEvent("expandLeft"),d.klass.add(b.body,"snapjs-expand-left"),d.klass.remove(b.body,"snapjs-expand-right")):(d.dispatchEvent("expandRight"),d.klass.add(b.body,"snapjs-expand-right"),d.klass.remove(b.body,"snapjs-expand-left"),m*=-1),i.translate.easeTo(m)},this.on=function(l,m){return h[l]=m,this},this.off=function(l){h[l]&&(h[l]=!1)},this.enable=function(){d.dispatchEvent("enable"),i.drag.listen()},this.disable=function(){d.dispatchEvent("disable"),i.drag.stopListening()},this.settings=function(l){d.deepExtend(f,l)},this.state=function(){var l,m=i.translate.get.matrix(4);return l=m===f.maxPosition?"left":m===f.minPosition?"right":"closed",{state:l,info:e.simpleStates}},j(k)};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"==typeof ender&&(this.Snap=a),"function"==typeof define&&define.amd&&define("snap",[],function(){return a})}).call(this,window,document);;(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&o>i;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&u>i;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&a>i;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,g=c.bind,y=Object.create,d=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;a>c;c++){var f=o[c];t&&void 0!==r[f]||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&A>=t};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;u>o;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),void 0!==e&&-1!==e?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],i>e&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o>u||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);a>o;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;l>f;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);a>o;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);u>e;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;r>o&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;t>e;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);o>i;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;u>o;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;t>f&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;i>a;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;o>i;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;c>a;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;e>i;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n?!0:k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return void 0===n},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this),window.underscore=_;;!function(){function n(n,r){function t(n,t,u,e){return i(n,u,r(t,u,e))}return o(n,t,{})}function r(n,r){function t(n,t,u,e){return r(t,u,e)?i(n,u,t):n}return o(n,t,{})}function t(n,t){return r(n,c(t))}function u(n,r){function t(n,t,u,e){return i(n[+!!r(t,u,e)],u,t),n}return o(n,t,[{},{}])}function e(n){return r(n,a)}function o(n,r,t){var u=t;for(var e in n)u=r(u,n[e],e,n);return u}function f(n){return n?Object.keys(n).map(function(r){return n[r]}):[]}function i(n,r,t){return n[r]=t,n}function c(n){return function(r,t,u){return!n.apply(null,arguments)}}function a(n){return n}var p={map:n,filter:r,reject:t,partition:u,compact:e,reduce:o,toArray:f};"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=p:window.funo=p}();;"use strict";angular.module("unsavedChanges",["lazyModel","translate"]).provider("unsavedWarningsConfig",function(){var _this=this,logEnabled=!1,useTranslateService=!0,routeEvent=["$locationChangeStart","$stateChangeStart"],navigateMessage="You will lose unsaved changes if you leave this page",reloadMessage="You will lose unsaved changes if you reload this page";Object.defineProperty(_this,"navigateMessage",{get:function(){return navigateMessage},set:function(value){navigateMessage=value}}),Object.defineProperty(_this,"reloadMessage",{get:function(){return reloadMessage},set:function(value){reloadMessage=value}}),Object.defineProperty(_this,"useTranslateService",{get:function(){return useTranslateService},set:function(value){useTranslateService=!!value}}),Object.defineProperty(_this,"routeEvent",{get:function(){return routeEvent},set:function(value){"string"==typeof value&&(value=[value]),routeEvent=value}}),Object.defineProperty(_this,"logEnabled",{get:function(){return logEnabled},set:function(value){logEnabled=!!value}}),this.$get=["$injector",function($injector){function translateIfAble(message){return $injector.has("$translate")&&useTranslateService?$injector.get("$translate")(message):!1}var publicInterface={log:function(){if(console.log&&logEnabled&&arguments.length){var newarr=[].slice.call(arguments);"object"==typeof console.log?log.apply.call(console.log,console,newarr):console.log.apply(console,newarr)}}};return Object.defineProperty(publicInterface,"useTranslateService",{get:function(){return useTranslateService}}),Object.defineProperty(publicInterface,"reloadMessage",{get:function(){return translateIfAble(reloadMessage)||reloadMessage}}),Object.defineProperty(publicInterface,"navigateMessage",{get:function(){return translateIfAble(navigateMessage)||navigateMessage}}),Object.defineProperty(publicInterface,"routeEvent",{get:function(){return routeEvent}}),Object.defineProperty(publicInterface,"logEnabled",{get:function(){return logEnabled}}),publicInterface}]}).service("unsavedWarningSharedService",["$rootScope","unsavedWarningsConfig","$injector","translate","history","unloadHandler",function($rootScope,unsavedWarningsConfig,$injector,translate,history,unloadHandler){function allFormsClean(){return areAllFormsClean=!0,angular.forEach(allForms,function(item,idx){unsavedWarningsConfig.log("Form : "+item.$name+" dirty : "+item.$dirty),item.$dirty&&(areAllFormsClean=!1)}),areAllFormsClean}function tearDown(){unsavedWarningsConfig.log("No more forms, tearing down"),angular.forEach(removeFunctions,function(fn){fn()}),unloadHandler.before.clean()}function setup(){function isOnlyChangeUrlParams(current,next){var arrCurrent=current.split("?"),arrNext=next.split("?");return arrCurrent[0]==arrNext[0]}function isExceptionState(current,next){var reWanAdd=/network.wan.connection.add.+|settings.internet.wan.connection.add.+/;return current&&next&&reWanAdd.test(current.name)&&reWanAdd.test(next.name)?!0:!1}function confirmAction(event){confirm(translate(messages.navigate))?_this.setStopWatch(!0):(event.preventDefault(),history.setCleanLastHistory(!1),$rootScope.$emit("stateChangeBreak"))}unsavedWarningsConfig.log("Setting up"),unloadHandler.before.add(_this.confirmExit);var eventsToWatchFor=unsavedWarningsConfig.routeEvent;angular.forEach(eventsToWatchFor,function(aEvent){var removeFn=$rootScope.$on(aEvent,function(event){if("$locationChangeStart"==event.name){var nextUrl=arguments[1],currentUrl=arguments[2];if(isOnlyChangeUrlParams(currentUrl,nextUrl))return}if("$stateChangeStart"==event.name){var next=arguments[1],current=arguments[3];if(isExceptionState(current,next))return}var backupStatus=_this.getBackup(),stopWatch=_this.getStopWatch();_.isNull(backupStatus)&&allFormsClean()||backupStatus||stopWatch||confirmAction(event)});removeFunctions.push(removeFn)})}var _this=this,allForms=[],areAllFormsClean=!0,removeFunctions=[angular.noop],isBackupForm=null,isStopWatch=null;this.allForms=function(){return allForms};var messages={navigate:unsavedWarningsConfig.navigateMessage,reload:unsavedWarningsConfig.reloadMessage};this.init=function(form){0===allForms.length&&setup(),unsavedWarningsConfig.log("Registering form",form),allForms.push(form)},this.removeForm=function(form){var idx=allForms.indexOf(form);-1!==idx&&(allForms.splice(idx,1),unsavedWarningsConfig.log("Removing form from watch list",form),0===allForms.length&&tearDown())},this.confirmExit=function(){var backupStatus=_this.getBackup();if(_.isNull(backupStatus)){if(!allFormsClean())return translate(messages.reload)}else if(!backupStatus||!backupStatus&&!allFormsClean())return translate(messages.reload);tearDown()},this.setBackup=function(status){isBackupForm=status},this.getBackup=function(){return isBackupForm},this.setStopWatch=function(value){isStopWatch=value},this.getStopWatch=function(){return isStopWatch},$rootScope.$on("unsavedStop",function(event,value){_this.setStopWatch(value)})}]).directive("unsavedWarningClear",["unsavedWarningSharedService",function(unsavedWarningSharedService){return{scope:!0,require:"^form",priority:3e3,link:function(scope,element,attrs,formCtrl){element.bind("click",function(event){unsavedWarningSharedService.setBackup(null),unsavedWarningSharedService.setStopWatch(null),formCtrl.$setPristine()})}}}]).directive("unsavedBackupStatus",["unsavedWarningSharedService",function(unsavedWarningSharedService){return{link:function(scope,element,attrs,formCtrl){attrs.$observe("unsavedBackupStatus",function(key){key&&unsavedWarningSharedService.setBackup("true"==key?!0:!1)})}}}]).directive("unsavedCleanForm",["unsavedWarningSharedService",function(unsavedWarningSharedService){return{scope:!0,require:"^form",link:function(scope,element,attrs,formCtrl){element.bind("click",function(event){formCtrl.$setPristine()})}}}]).directive("unsavedWarningForm",["unsavedWarningSharedService",function(unsavedWarningSharedService){return{require:"form",link:function(scope,formElement,attrs,formCtrl){unsavedWarningSharedService.init(formCtrl),formElement.bind("submit",function(event){formCtrl.$valid&&(formCtrl.$setPristine(),unsavedWarningSharedService.setBackup(null),unsavedWarningSharedService.setStopWatch(null))}),scope.$on("$destroy",function(){unsavedWarningSharedService.removeForm(formCtrl),unsavedWarningSharedService.setBackup(null),unsavedWarningSharedService.setStopWatch(null)}),scope.$on("unsavewWarningStopWatch",function(){unsavedWarningSharedService.removeForm(formCtrl),unsavedWarningSharedService.setBackup(null),unsavedWarningSharedService.setStopWatch(null)})}}}]),angular.module("lazyModel",[]).directive("lazyModel",["$parse","$compile",function($parse,$compile){return{restrict:"A",priority:500,terminal:!0,require:"^form",scope:!0,compile:function(elem,attr){var ngModelGet=$parse(attr.lazyModel),ngModelSet=ngModelGet.assign;return elem.attr("ng-model","buffer"),elem.removeAttr("lazy-model"),{pre:function(scope,elem){scope.buffer=ngModelGet(scope.$parent),$compile(elem)(scope)},post:function(scope,elem,attr,formCtrl){for(var form=elem.parent();"FORM"!==form[0].tagName;)form=form.parent();form.bind("submit",function(){formCtrl.$valid&&scope.$apply(function(){ngModelSet(scope.$parent,scope.buffer)})}),form.bind("reset",function(e){e.preventDefault(),scope.$apply(function(){scope.buffer=ngModelGet(scope.$parent)})})}}}}}]);;!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.svg4everybody=b()}):"object"==typeof exports?module.exports=b():a.svg4everybody=b()}(this,function(){function a(a,b){if(b){var c=document.createDocumentFragment(),d=!a.getAttribute("viewBox")&&b.getAttribute("viewBox");d&&a.setAttribute("viewBox",d);for(var e=b.cloneNode(!0);e.childNodes.length;)c.appendChild(e.firstChild);a.appendChild(c)}}function b(b){b.onreadystatechange=function(){if(4===b.readyState){var c=b._cachedDocument;c||(c=b._cachedDocument=document.implementation.createHTMLDocument(""),c.body.innerHTML=b.responseText,b._cachedTarget={}),b._embeds.splice(0).map(function(d){var e=b._cachedTarget[d.id];e||(e=b._cachedTarget[d.id]=c.getElementById(d.id)),a(d.svg,e)})}},b.onreadystatechange()}function c(c){function d(){for(var c=0;c<l.length;){var g=l[c],h=g.parentNode;if(h&&/svg/i.test(h.nodeName)){var i=g.getAttribute("xlink:href");if(e&&(!f.validate||f.validate(i,h,g))){h.removeChild(g);var m=i.split("#"),n=m.shift(),o=m.join("#");if(n.length){var p=j[n];p||(p=j[n]=new XMLHttpRequest,p.open("GET",n),p.send(),p._embeds=[]),p._embeds.push({svg:h,id:o}),b(p)}else a(h,document.getElementById(o))}}else++c}k(d,67)}var e,f=Object(c),g=/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/,h=/\bAppleWebKit\/(\d+)\b/,i=/\bEdge\/12\.(\d+)\b/;e="polyfill"in f?f.polyfill:g.test(navigator.userAgent)||(navigator.userAgent.match(i)||[])[1]<10547||(navigator.userAgent.match(h)||[])[1]<537;var j={},k=window.requestAnimationFrame||setTimeout,l=document.getElementsByTagName("use");e&&d()}return c});;"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="angular-md5"),function(r){r.module("angular-md5",["gdi2290.md5"]),r.module("ngMd5",["gdi2290.md5"]),r.module("gdi2290.md5",["gdi2290.gravatar-filter","gdi2290.md5-service","gdi2290.md5-filter"]),r.module("gdi2290.gravatar-filter",[]).filter("gravatar",["md5",function(e){var n={};return function(r,t){return n[r]||(t=t?e.createHash(t.toString().toLowerCase()):"",n[r]=r?e.createHash(r.toString().toLowerCase()):t),n[r]}}]),r.module("gdi2290.md5-filter",[]).filter("md5",["md5",function(t){return function(r){return r?t.createHash(r.toString().toLowerCase()):r}}]),r.module("gdi2290.md5-service",[]).factory("md5",[function(){return{createHash:function(r){if(null===r)return null;var t,e,n,o,u,a,i,d,f,g,l,m=function(r,t){return r<<t|r>>>32-t},c=function(r,t){var e,n,o,u,a;return o=2147483648&r,u=2147483648&t,a=(1073741823&r)+(1073741823&t),(e=1073741824&r)&(n=1073741824&t)?2147483648^a^o^u:e|n?1073741824&a?3221225472^a^o^u:1073741824^a^o^u:a^o^u},s=function(r,t,e,n,o,u,a){var i;return r=c(r,c(c((i=t)&e|~i&n,o),a)),c(m(r,u),t)},C=function(r,t,e,n,o,u,a){var i;return r=c(r,c(c(t&(i=n)|e&~i,o),a)),c(m(r,u),t)},h=function(r,t,e,n,o,u,a){return r=c(r,c(c(t^e^n,o),a)),c(m(r,u),t)},v=function(r,t,e,n,o,u,a){return r=c(r,c(c(e^(t|~n),o),a)),c(m(r,u),t)},S=function(r){var t,e="",n="";for(t=0;3>=t;t++)e+=(n="0"+(r>>>8*t&255).toString(16)).substr(n.length-2,2);return e};for(d=1732584193,f=4023233417,g=2562383102,l=271733878,t=(e=function(r){for(var t,e=r.length,n=e+8,o=16*((n-n%64)/64+1),u=new Array(o-1),a=0,i=0;e>i;)a=i%4*8,u[t=(i-i%4)/4]=u[t]|r.charCodeAt(i)<<a,i++;return a=i%4*8,u[t=(i-i%4)/4]=u[t]|128<<a,u[o-2]=e<<3,u[o-1]=e>>>29,u}(r=function(r){r=r.replace(/\r\n/g,"\n");for(var t="",e=0;e<r.length;e++){var n=r.charCodeAt(e);128>n?t+=String.fromCharCode(n):(n>127&&2048>n?t+=String.fromCharCode(n>>6|192):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128)),t+=String.fromCharCode(63&n|128))}return t}(r))).length,n=0;t>n;n+=16)f=v(f=v(f=v(f=v(f=h(f=h(f=h(f=h(f=C(f=C(f=C(f=C(f=s(f=s(f=s(f=s(u=f,g=s(a=g,l=s(i=l,d=s(o=d,f,g,l,e[n+0],7,3614090360),f,g,e[n+1],12,3905402710),d,f,e[n+2],17,606105819),l,d,e[n+3],22,3250441966),g=s(g,l=s(l,d=s(d,f,g,l,e[n+4],7,4118548399),f,g,e[n+5],12,1200080426),d,f,e[n+6],17,2821735955),l,d,e[n+7],22,4249261313),g=s(g,l=s(l,d=s(d,f,g,l,e[n+8],7,1770035416),f,g,e[n+9],12,2336552879),d,f,e[n+10],17,4294925233),l,d,e[n+11],22,2304563134),g=s(g,l=s(l,d=s(d,f,g,l,e[n+12],7,1804603682),f,g,e[n+13],12,4254626195),d,f,e[n+14],17,2792965006),l,d,e[n+15],22,1236535329),g=C(g,l=C(l,d=C(d,f,g,l,e[n+1],5,4129170786),f,g,e[n+6],9,3225465664),d,f,e[n+11],14,643717713),l,d,e[n+0],20,3921069994),g=C(g,l=C(l,d=C(d,f,g,l,e[n+5],5,3593408605),f,g,e[n+10],9,38016083),d,f,e[n+15],14,3634488961),l,d,e[n+4],20,3889429448),g=C(g,l=C(l,d=C(d,f,g,l,e[n+9],5,568446438),f,g,e[n+14],9,3275163606),d,f,e[n+3],14,4107603335),l,d,e[n+8],20,1163531501),g=C(g,l=C(l,d=C(d,f,g,l,e[n+13],5,2850285829),f,g,e[n+2],9,4243563512),d,f,e[n+7],14,1735328473),l,d,e[n+12],20,2368359562),g=h(g,l=h(l,d=h(d,f,g,l,e[n+5],4,4294588738),f,g,e[n+8],11,2272392833),d,f,e[n+11],16,1839030562),l,d,e[n+14],23,4259657740),g=h(g,l=h(l,d=h(d,f,g,l,e[n+1],4,2763975236),f,g,e[n+4],11,1272893353),d,f,e[n+7],16,4139469664),l,d,e[n+10],23,3200236656),g=h(g,l=h(l,d=h(d,f,g,l,e[n+13],4,681279174),f,g,e[n+0],11,3936430074),d,f,e[n+3],16,3572445317),l,d,e[n+6],23,76029189),g=h(g,l=h(l,d=h(d,f,g,l,e[n+9],4,3654602809),f,g,e[n+12],11,3873151461),d,f,e[n+15],16,530742520),l,d,e[n+2],23,3299628645),g=v(g,l=v(l,d=v(d,f,g,l,e[n+0],6,4096336452),f,g,e[n+7],10,1126891415),d,f,e[n+14],15,2878612391),l,d,e[n+5],21,4237533241),g=v(g,l=v(l,d=v(d,f,g,l,e[n+12],6,1700485571),f,g,e[n+3],10,2399980690),d,f,e[n+10],15,4293915773),l,d,e[n+1],21,2240044497),g=v(g,l=v(l,d=v(d,f,g,l,e[n+8],6,1873313359),f,g,e[n+15],10,4264355552),d,f,e[n+6],15,2734768916),l,d,e[n+13],21,1309151649),g=v(g,l=v(l,d=v(d,f,g,l,e[n+4],6,4149444226),f,g,e[n+11],10,3174756917),d,f,e[n+2],15,718787259),l,d,e[n+9],21,3951481745),d=c(d,o),f=c(f,u),g=c(g,a),l=c(l,i);return(S(d)+S(f)+S(g)+S(l)).toLowerCase()}}}])}(angular);;!function(a,b){"undefined"!=typeof module&&module.exports?(b("undefined"==typeof angular?require("angular"):angular),module.exports="ngDialog"):"function"==typeof define&&define.amd?define(["angular"],b):b(a.angular)}(this,function(a){"use strict";var b=a.module("ngDialog",[]),c=a.element,d=a.isDefined,e=(document.body||document.documentElement).style,f=d(e.animation)||d(e.WebkitAnimation)||d(e.MozAnimation)||d(e.MsAnimation)||d(e.OAnimation),g="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",h="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",i="ngdialog-disabled-animation",j={html:!1,body:!1},k={},l=[],m=!1,n=!1;return b.provider("ngDialog",function(){var b=this.defaults={className:"ngdialog-theme-default",appendClassName:"",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null,bodyClassName:"ngdialog-open",width:null};this.setForceHtmlReload=function(a){j.html=a||!1},this.setForceBodyReload=function(a){j.body=a||!1},this.setDefaults=function(c){a.extend(b,c)},this.setOpenOnePerName=function(a){n=a||!1};var d,e=0,o=0,p={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(q,r,s,t,u,v,w,x,y,z){var A=[],B={onDocumentKeydown:function(a){27===a.keyCode&&C.close("$escape")},activate:function(a){var b=a.data("$ngDialogOptions");b.trapFocus&&(a.on("keydown",B.onTrapFocusKeydown),A.body.on("keydown",B.onTrapFocusKeydown))},deactivate:function(a){a.off("keydown",B.onTrapFocusKeydown),A.body.off("keydown",B.onTrapFocusKeydown)},deactivateAll:function(b){a.forEach(b,function(b){var c=a.element(b);B.deactivate(c)})},setBodyPadding:function(a){var b=parseInt(A.body.css("padding-right")||0,10);A.body.css("padding-right",b+a+"px"),A.body.data("ng-dialog-original-padding",b),v.$broadcast("ngDialog.setPadding",a)},resetBodyPadding:function(){var a=A.body.data("ng-dialog-original-padding");a?A.body.css("padding-right",a+"px"):A.body.css("padding-right",""),v.$broadcast("ngDialog.setPadding",0)},performCloseDialog:function(a,b){var c=a.data("$ngDialogOptions"),e=a.attr("id"),h=k[e];if(h){if("undefined"!=typeof x.Hammer){var i=h.hammerTime;i.off("tap",d),i.destroy&&i.destroy(),delete h.hammerTime}else a.unbind("click");1===o&&A.body.unbind("keydown",B.onDocumentKeydown),a.hasClass("ngdialog-closing")||(o-=1);var j=a.data("$ngDialogPreviousFocus");j&&j.focus&&j.focus(),v.$broadcast("ngDialog.closing",a,b),o=0>o?0:o,f&&!c.disableAnimation?(h.$destroy(),a.unbind(g).bind(g,function(){B.closeDialogElement(a,b)}).addClass("ngdialog-closing")):(h.$destroy(),B.closeDialogElement(a,b)),p[e]&&(p[e].resolve({id:e,value:b,$dialog:a,remainingDialogs:o}),delete p[e]),k[e]&&delete k[e],l.splice(l.indexOf(e),1),l.length||(A.body.unbind("keydown",B.onDocumentKeydown),m=!1)}},closeDialogElement:function(a,b){var c=a.data("$ngDialogOptions");a.remove(),0===o&&(A.html.removeClass(c.bodyClassName),A.body.removeClass(c.bodyClassName),B.resetBodyPadding()),v.$broadcast("ngDialog.closed",a,b)},closeDialog:function(b,c){var d=b.data("$ngDialogPreCloseCallback");if(d&&a.isFunction(d)){var e=d.call(b,c);a.isObject(e)?e.closePromise?e.closePromise.then(function(){B.performCloseDialog(b,c)}):e.then(function(){B.performCloseDialog(b,c)},function(){}):e!==!1&&B.performCloseDialog(b,c)}else B.performCloseDialog(b,c)},onTrapFocusKeydown:function(b){var c,d=a.element(b.currentTarget);if(d.hasClass("ngdialog"))c=d;else if(c=B.getActiveDialog(),null===c)return;var e=9===b.keyCode,f=b.shiftKey===!0;e&&B.handleTab(c,b,f)},handleTab:function(a,b,c){var d=B.getFocusableElements(a);if(0===d.length)return void(document.activeElement&&document.activeElement.blur&&document.activeElement.blur());var e=document.activeElement,f=Array.prototype.indexOf.call(d,e),g=-1===f,h=0===f,i=f===d.length-1,j=!1;c?(g||h)&&(d[d.length-1].focus(),j=!0):(g||i)&&(d[0].focus(),j=!0),j&&(b.preventDefault(),b.stopPropagation())},autoFocus:function(a){var b=a[0],d=b.querySelector("*[autofocus]");if(null===d||(d.focus(),document.activeElement!==d)){var e=B.getFocusableElements(a);if(e.length>0)return void e[0].focus();var f=B.filterVisibleElements(b.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));if(f.length>0){var g=f[0];c(g).attr("tabindex","-1").css("outline","0"),g.focus()}}},getFocusableElements:function(a){var b=a[0],c=b.querySelectorAll(h),d=B.filterTabbableElements(c);return B.filterVisibleElements(d)},filterTabbableElements:function(a){for(var b=[],d=0;d<a.length;d++){var e=a[d];"-1"!==c(e).attr("tabindex")&&b.push(e)}return b},filterVisibleElements:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];(d.offsetWidth>0||d.offsetHeight>0)&&b.push(d)}return b},getActiveDialog:function(){var a=document.querySelectorAll(".ngdialog");return 0===a.length?null:c(a[a.length-1])},applyAriaAttributes:function(a,b){if(b.ariaAuto){if(!b.ariaRole){var c=B.getFocusableElements(a).length>0?"dialog":"alertdialog";b.ariaRole=c}b.ariaLabelledBySelector||(b.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),b.ariaDescribedBySelector||(b.ariaDescribedBySelector="article,section,p")}b.ariaRole&&a.attr("role",b.ariaRole),B.applyAriaAttribute(a,"aria-labelledby",b.ariaLabelledById,b.ariaLabelledBySelector),B.applyAriaAttribute(a,"aria-describedby",b.ariaDescribedById,b.ariaDescribedBySelector)},applyAriaAttribute:function(a,b,d,e){if(d&&a.attr(b,d),e){var f=a.attr("id"),g=a[0].querySelector(e);if(!g)return;var h=f+"-"+b;return c(g).attr("id",h),a.attr(b,h),h}},detectUIRouter:function(){try{return a.module("ui.router"),!0}catch(b){return!1}},getRouterLocationEventName:function(){return B.detectUIRouter()?"$stateChangeSuccess":"$locationChangeSuccess"}},C={__PRIVATE__:B,open:function(f){function g(a,b){return v.$broadcast("ngDialog.templateLoading",a),u.get(a,b||{}).then(function(b){return v.$broadcast("ngDialog.templateLoaded",a),b.data||""})}function h(b){return b?a.isString(b)&&q.plain?b:"boolean"!=typeof q.cache||q.cache?g(b,{cache:r}):g(b,{cache:!1}):"Empty template"}var j=null;if(f=f||{},!(n&&f.name&&(j=f.name+" dialog",this.isOpen(j)))){var q=a.copy(b),D=++e;j=j||"ngdialog"+D,l.push(j),"undefined"!=typeof q.data&&("undefined"==typeof f.data&&(f.data={}),f.data=a.merge(a.copy(q.data),f.data)),a.extend(q,f);var E;p[j]=E=t.defer();var F;k[j]=F=a.isObject(q.scope)?q.scope.$new():v.$new();var G,H,I=a.extend({},q.resolve);return a.forEach(I,function(b,c){I[c]=a.isString(b)?z.get(b):z.invoke(b,null,null,c)}),t.all({template:h(q.template||q.templateUrl),locals:t.all(I)}).then(function(b){var e=b.template,f=b.locals;q.showClose&&(e+='<div class="ngdialog-close"></div>');var g=q.overlay?"":" ngdialog-no-overlay";if(G=c('<div id="'+j+'" class="ngdialog'+g+'"></div>'),G.html(q.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+e+"</div>":'<div class="ngdialog-content" role="document">'+e+"</div>"),G.data("$ngDialogOptions",q),F.ngDialogId=j,q.data&&a.isString(q.data)){var h=q.data.replace(/^\s*/,"")[0];F.ngDialogData="{"===h||"["===h?a.fromJson(q.data):new String(q.data),F.ngDialogData.ngDialogId=j}else q.data&&a.isObject(q.data)&&(F.ngDialogData=q.data,F.ngDialogData.ngDialogId=j);if(q.className&&G.addClass(q.className),q.appendClassName&&G.addClass(q.appendClassName),q.width){var k=G[0].querySelector(".ngdialog-content");k.style.width=a.isString(q.width)?q.width:q.width+"px"}if(q.disableAnimation&&G.addClass(i),H=q.appendTo&&a.isString(q.appendTo)?a.element(document.querySelector(q.appendTo)):A.body,B.applyAriaAttributes(G,q),q.preCloseCallback){var l;a.isFunction(q.preCloseCallback)?l=q.preCloseCallback:a.isString(q.preCloseCallback)&&F&&(a.isFunction(F[q.preCloseCallback])?l=F[q.preCloseCallback]:F.$parent&&a.isFunction(F.$parent[q.preCloseCallback])?l=F.$parent[q.preCloseCallback]:v&&a.isFunction(v[q.preCloseCallback])&&(l=v[q.preCloseCallback])),l&&G.data("$ngDialogPreCloseCallback",l)}if(F.closeThisDialog=function(a){B.closeDialog(G,a)},q.controller&&(a.isString(q.controller)||a.isArray(q.controller)||a.isFunction(q.controller))){var n;q.controllerAs&&a.isString(q.controllerAs)&&(n=q.controllerAs);var p=y(q.controller,a.extend(f,{$scope:F,$element:G}),!0,n);q.bindToController&&a.extend(p.instance,{ngDialogId:F.ngDialogId,ngDialogData:F.ngDialogData,closeThisDialog:F.closeThisDialog,confirm:F.confirm}),"function"==typeof p?G.data("$ngDialogControllerController",p()):G.data("$ngDialogControllerController",p)}if(w(function(){var a=document.querySelectorAll(".ngdialog");B.deactivateAll(a),s(G)(F);var b=x.innerWidth-A.body.prop("clientWidth");A.html.addClass(q.bodyClassName),A.body.addClass(q.bodyClassName);var c=b-(x.innerWidth-A.body.prop("clientWidth"));c>0&&B.setBodyPadding(c),H.append(G),B.activate(G),q.trapFocus&&B.autoFocus(G),q.name?v.$broadcast("ngDialog.opened",{dialog:G,name:q.name}):v.$broadcast("ngDialog.opened",G)}),m||(A.body.bind("keydown",B.onDocumentKeydown),m=!0),q.closeByNavigation){var r=B.getRouterLocationEventName();v.$on(r,function(){B.closeDialog(G)})}if(q.preserveFocus&&G.data("$ngDialogPreviousFocus",document.activeElement),d=function(a){var b=!!q.closeByDocument&&c(a.target).hasClass("ngdialog-overlay"),d=c(a.target).hasClass("ngdialog-close");(b||d)&&C.close(G.attr("id"),d?"$closeButton":"$document")},"undefined"!=typeof x.Hammer){var t=F.hammerTime=x.Hammer(G[0]);t.on("tap",d)}else G.bind("click",d);return o+=1,C}),{id:j,closePromise:E.promise,close:function(a){B.closeDialog(G,a)}}}},openConfirm:function(d){var e=t.defer(),f=a.copy(b);d=d||{},"undefined"!=typeof f.data&&("undefined"==typeof d.data&&(d.data={}),d.data=a.merge(a.copy(f.data),d.data)),a.extend(f,d),f.scope=a.isObject(f.scope)?f.scope.$new():v.$new(),f.scope.confirm=function(a){e.resolve(a);var b=c(document.getElementById(g.id));B.performCloseDialog(b,a)};var g=C.open(f);return g?(g.closePromise.then(function(a){return a?e.reject(a.value):e.reject()}),e.promise):void 0},isOpen:function(a){var b=c(document.getElementById(a));return b.length>0},close:function(a,b){var d=c(document.getElementById(a));if(d.length)B.closeDialog(d,b);else if("$escape"===a){var e=l[l.length-1];d=c(document.getElementById(e)),d.data("$ngDialogOptions").closeByEscape&&B.closeDialog(d,"$escape")}else C.closeAll(b);return C},closeAll:function(a){for(var b=document.querySelectorAll(".ngdialog"),d=b.length-1;d>=0;d--){var e=b[d];B.closeDialog(c(e),a)}},getOpenDialogs:function(){return l},getDefaults:function(){return b}};return a.forEach(["html","body"],function(a){if(A[a]=q.find(a),j[a]){var b=B.getRouterLocationEventName();v.$on(b,function(){A[a]=q.find(a)})}}),C}]}),b.directive("ngDialog",["ngDialog",function(b){return{restrict:"A",scope:{ngDialogScope:"="},link:function(c,d,e){d.on("click",function(d){d.preventDefault();var f=a.isDefined(c.ngDialogScope)?c.ngDialogScope:"noScope";a.isDefined(e.ngDialogClosePrevious)&&b.close(e.ngDialogClosePrevious);var g=b.getDefaults();b.open({template:e.ngDialog,className:e.ngDialogClass||g.className,appendClassName:e.ngDialogAppendClass,controller:e.ngDialogController,controllerAs:e.ngDialogControllerAs,bindToController:e.ngDialogBindToController,scope:f,data:e.ngDialogData,showClose:"false"!==e.ngDialogShowClose&&("true"===e.ngDialogShowClose||g.showClose),closeByDocument:"false"!==e.ngDialogCloseByDocument&&("true"===e.ngDialogCloseByDocument||g.closeByDocument),closeByEscape:"false"!==e.ngDialogCloseByEscape&&("true"===e.ngDialogCloseByEscape||g.closeByEscape),overlay:"false"!==e.ngDialogOverlay&&("true"===e.ngDialogOverlay||g.overlay),preCloseCallback:e.ngDialogPreCloseCallback||g.preCloseCallback,bodyClassName:e.ngDialogBodyClass||g.bodyClassName})})}}}]),b});;function FastClick(t,e){"use strict";function i(t,e){return function(){return t.apply(e,arguments)}}var n;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,!FastClick.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],r=this,s=0,c=o.length;c>s;s++)r[o[s]]=i(r[o[s]],r);deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,n){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,i.hijacked||i,n):o.call(t,e,i,n)},t.addEventListener=function(e,i,n){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),n):o.call(t,e,i,n)}),"function"==typeof t.onclick&&(n=t.onclick,t.addEventListener("click",function(t){n(t)},!1),t.onclick=null)}}var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0;FastClick.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},FastClick.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},FastClick.prototype.sendClick=function(t,e){"use strict";var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},FastClick.prototype.determineEventType=function(t){"use strict";return deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(t){"use strict";var e;deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},FastClick.prototype.updateScrollParent=function(t){"use strict";var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},FastClick.prototype.onTouchStart=function(t){"use strict";var e,i,n;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],deviceIsIOS){if(n=window.getSelection(),n.rangeCount&&!n.isCollapsed)return!0;if(!deviceIsIOS4){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i?!0:!1},FastClick.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(t){"use strict";var e,i,n,o,r,s=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(r=t.changedTouches[0],s=document.elementFromPoint(r.pageX-window.pageXOffset,r.pageY-window.pageYOffset)||s,s.fastClickScrollParent=this.targetElement.fastClickScrollParent),n=s.tagName.toLowerCase(),"label"===n){if(e=this.findControl(s)){if(this.focus(s),deviceIsAndroid)return!1;s=e}}else if(this.needsFocus(s))return t.timeStamp-i>100||deviceIsIOS&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(s),this.sendClick(s,t),deviceIsIOS&&"select"===n||(this.targetElement=null,t.preventDefault()),!1);return deviceIsIOS&&!deviceIsIOS4&&(o=s.fastClickScrollParent,o&&o.fastClickLastScrollTop!==o.scrollTop)?!0:(this.needsClick(s)||(t.preventDefault(),this.sendClick(s,t)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:!t.cancelable||this.needsClick(this.targetElement)&&!this.cancelNextClick?!0:(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0},FastClick.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},FastClick.prototype.destroy=function(){"use strict";var t=this.layer;deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(t){"use strict";var e,i,n;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(deviceIsBlackBerry10&&(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),n[1]>=10&&n[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction?!0:!1},FastClick.attach=function(t,e){"use strict";return new FastClick(t,e)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick;;!function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):this[e]=t()}("$script",function(){function p(e,t){for(var n=0,i=e.length;i>n;++n)if(!t(e[n]))return r;return 1}function d(e,t){p(e,function(e){return!t(e)})}function v(e,t,n){function g(e){return e.call?e():u[e]}function y(){if(!--h){u[o]=1,s&&s();for(var e in f)p(e.split("|"),g)&&!d(f[e],g)&&(f[e]=[])}}e=e[i]?e:[e];var r=t&&t.call,s=r?t:n,o=r?e.join(""):t,h=e.length;return setTimeout(function(){d(e,function t(e,n){return null===e?y():(e=n||-1!==e.indexOf(".js")||/^https?:\/\//.test(e)||!c?e:c+e+".js",l[e]?(o&&(a[o]=1),2==l[e]?y():setTimeout(function(){t(e,!0)},0)):(l[e]=1,o&&(a[o]=1),m(e,y),void 0))})},0),v}function m(n,r){var u,i=e.createElement("script");i.onload=i.onerror=i[o]=function(){i[s]&&!/^c|loade/.test(i[s])||u||(i.onload=i[o]=null,u=1,l[n]=2,r())},i.async=1,i.src=h?n+(-1===n.indexOf("?")?"?":"&")+h:n,t.insertBefore(i,t.lastChild)}var c,h,e=document,t=e.getElementsByTagName("head")[0],r=!1,i="push",s="readyState",o="onreadystatechange",u={},a={},f={},l={};return v.get=m,v.order=function(e,t,n){!function r(i){i=e.shift(),e.length?v(i,r):v(i,t,n)}()},v.path=function(e){c=e},v.urlArgs=function(e){h=e},v.ready=function(e,t,n){e=e[i]?e:[e];var r=[];return!d(e,function(e){u[e]||r[i](e)})&&p(e,function(e){return u[e]})?t():!function(e){f[e]=f[e]||[],f[e][i](t),n&&n(r)}(e.join("|")),v},v.done=function(e){v([null],e)},v});;!function(angular){"use strict";var app=angular.module("angular-progress-arc",[]);app.provider("progressArcDefaults",function(){var defaults={size:200,strokeWidth:10,stroke:"#2f7ca6",background:"#eee",counterClockwise:1};this.setDefault=function(name,value){return defaults[name]=value,this},this.$get=function(){return function(attr){angular.forEach(defaults,function(value,key){attr[key]||(attr[key]=value)})}}}),app.provider("progressbar",function(){this.$get=["$rootScope","$compile",function($rootScope,$compile){var timer,scope=$rootScope.$new();return scope.show=!1,scope.complete=0,scope.message="",scope.submessage="",function(){var template='<div class="overley" ng-show="show"> <div class="overley_bg"> </div> <div class="overley_preload overlay_arc"> <div class="progress_arc" progress-arc complete="complete" message="{{message}}" submessage="{{submessage}}"></div></div> </div>',el=$compile(template)(scope);angular.element(document).find("body").append(el)}(),{open:function(fulltime,submessage,cb){function time_format(ms){return parseInt(ms/1e3)}scope.show=!0,scope.message=time_format(fulltime),scope.submessage=submessage;var time=fulltime;timer=setInterval(function(){scope.message=time_format(time),time?time-=500:((cb||angular.noop)(),clearInterval(timer)),scope.complete=1-time/fulltime,scope.$digest()},500)},close:function(){clearInterval(timer),scope.show=!1,scope.$digest()}}}]}),app.directive("progressArc",["progressArcDefaults",function(progressArcDefaults){return{restrict:"AE",scope:{message:"@",submessage:"@",size:"@",strokeWidth:"@",stroke:"@",counterClockwise:"@",complete:"&",background:"@"},compile:function(element,attr){return progressArcDefaults(attr),function(scope,element,attr){scope.offset=/firefox/i.test(navigator.userAgent)?-89.9:-90;var updateRadius=function(){scope.strokeWidthCapped=Math.min(scope.strokeWidth,scope.size/2-1),scope.radius=Math.max((scope.size-scope.strokeWidthCapped)/2-1,0),scope.circumference=2*Math.PI*scope.radius};scope.$watchCollection("[size, strokeWidth]",updateRadius),updateRadius()}},template:'<svg ng-attr-width="{{size}}" ng-attr-height="{{size}}" class="progressArc"><circle fill="none" ng-if="background" ng-attr-cx="{{size/2}}" ng-attr-cy="{{size/2}}" ng-attr-r="{{radius}}" ng-attr-stroke="{{background}}" ng-attr-stroke-width="{{strokeWidthCapped}}"/><circle fill="none" ng-attr-cx="{{size/2}}" ng-attr-cy="{{size/2}}" ng-attr-r="{{radius}}" ng-attr-stroke="{{stroke}}" ng-attr-stroke-width="{{strokeWidthCapped}}"ng-attr-stroke-dasharray="{{circumference}}"ng-attr-stroke-dashoffset="{{(counterClockwise?-1:1)*(1+complete())*circumference}}"ng-attr-transform="rotate({{offset}}, {{size/2}}, {{size/2}})"/><text ng-attr-x="{{size/2}}" ng-attr-y="{{size/2 + 35}}" font-size="30px" text-anchor="middle" alignment-baseline="middle" ng-bind="message"></text><text ng-attr-x="{{size/2}}" ng-attr-y="{{size/2 - 5}}" font-size="16px" text-anchor="middle" alignment-baseline="middle" ng-bind="submessage"></text></svg>'}}])}(window.angular);;var duScrollDefaultEasing=function(e){"use strict";return.5>e?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2};angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset",function(e,t,n,r,o,l,u){"use strict";var i={},c=function(e){return"undefined"!=typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE},a=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE},s=function(e){return a(e)||c(e)?e:e[0]};i.duScrollTo=function(t,n,r){var o;if(angular.isElement(t)?o=this.duScrollToElement:angular.isDefined(r)&&(o=this.duScrollToAnimated),o)return o.apply(this,arguments);var l=s(this);return c(l)?e.scrollTo(t,n):(l.scrollLeft=t,void(l.scrollTop=n))};var d,f;i.duScrollToAnimated=function(e,l,u,i){u&&!i&&(i=o);var c=this.duScrollLeft(),a=this.duScrollTop(),s=Math.round(e-c),p=Math.round(l-a),m=null,g=this,S="scroll mousedown mousewheel touchmove keydown",h=function(e){(!e||e.which>0)&&(g.unbind(S,h),n(d),f.reject(),d=null)};if(d&&h(),f=t.defer(),0===u||!s&&!p)return 0===u&&g.duScrollTo(e,l),f.resolve(),f.promise;var v=function(e){null===m&&(m=e);var t=e-m,n=t>=u?1:i(t/u);g.scrollTo(c+Math.ceil(s*n),a+Math.ceil(p*n)),1>n?d=r(v):(g.unbind(S,h),d=null,f.resolve())};return g.duScrollTo(c,a),g.bind(S,h),d=r(v),f.promise},i.duScrollToElement=function(e,t,n,r){var o=s(this);(!angular.isNumber(t)||isNaN(t))&&(t=u);var l=this.duScrollTop()+s(e).getBoundingClientRect().top-t;return a(o)&&(l-=o.getBoundingClientRect().top),this.duScrollTo(0,l,n,r)},i.duScrollLeft=function(t,n,r){if(angular.isNumber(t))return this.duScrollTo(t,this.duScrollTop(),n,r);var o=s(this);return c(o)?e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:o.scrollLeft},i.duScrollTop=function(t,n,r){if(angular.isNumber(t))return this.duScrollTo(this.duScrollLeft(),t,n,r);var o=s(this);return c(o)?e.scrollY||document.documentElement.scrollTop||document.body.scrollTop:o.scrollTop},i.duScrollToElementAnimated=function(e,t,n,r){return this.duScrollToElement(e,t,n||l,r)},i.duScrollTopAnimated=function(e,t,n){return this.duScrollTop(e,t||l,n)},i.duScrollLeftAnimated=function(e,t,n){return this.duScrollLeft(e,t||l,n)},angular.forEach(i,function(e,t){angular.element.prototype[t]=e;var n=t.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=e)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(e){"use strict";var t=["webkit","moz","o","ms"];return function(n,r){if(e[n])return e[n];for(var o,l=n.substr(0,1).toUpperCase()+n.substr(1),u=0;u<t.length;u++)if(o=t[u]+l,e[o])return e[o];return r}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=0,r=function(e){var r=(new Date).getTime(),o=Math.max(0,16-(r-n)),l=t(function(){e(r+o)},o);return n=r+o,l};return e("requestAnimationFrame",r)}]).factory("cancelAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=function(e){t.cancel(e)};return e("cancelAnimationFrame",n)}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait",function(e,t,n,r,o,l,u){"use strict";var i=function(o){var i=!1,c=!1,a=function(){c=!1;var t,u=o.container,i=u[0],a=0;"undefined"!=typeof HTMLElement&&i instanceof HTMLElement||i.nodeType&&i.nodeType===i.ELEMENT_NODE?(a=i.getBoundingClientRect().top,t=Math.round(i.scrollTop+i.clientHeight)>=i.scrollHeight):t=Math.round(n.pageYOffset+n.innerHeight)>=r[0].body.scrollHeight;var s,d,f,p,m,g,S=t?"bottom":"top";for(p=o.spies,d=o.currentlyActive,f=void 0,s=0;s<p.length;s++)m=p[s],g=m.getTargetPosition(),g&&(t||g.top+m.offset-a<20&&(l||-1*g.top+a)<g.height)&&(!f||f[S]<g[S])&&(f={spy:m},f[S]=g[S]);f&&(f=f.spy),d===f||l&&!f||(d&&(d.$element.removeClass("active"),e.$broadcast("duScrollspy:becameInactive",d.$element)),f&&(f.$element.addClass("active"),e.$broadcast("duScrollspy:becameActive",f.$element)),o.currentlyActive=f)};return u?function(){i?c=!0:(a(),i=t(function(){i=!1,c&&a()},u,!1))}:a},c={},a=function(e){var t=e.$id,n={spies:[]};return n.handler=i(n),c[t]=n,e.$on("$destroy",function(){s(e)}),t},s=function(e){var t=e.$id,n=c[t],r=n.container;r&&r.off("scroll",n.handler),delete c[t]},d=a(e),f=function(e){return c[e.$id]?c[e.$id]:e.$parent?f(e.$parent):c[d]},p=function(e){var t,n,r=e.$scope;if(r)return f(r);for(n in c)if(t=c[n],-1!==t.spies.indexOf(e))return t},m=function(e){for(;e.parentNode;)if(e=e.parentNode,e===document)return!0;return!1},g=function(e){var t=p(e);t&&(t.spies.push(e),t.container&&m(t.container)||(t.container&&t.container.off("scroll",t.handler),t.container=o.getContainer(e.$scope),t.container.on("scroll",t.handler).triggerHandler("scroll")))},S=function(e){var t=p(e);e===t.currentlyActive&&(t.currentlyActive=null);var n=t.spies.indexOf(e);-1!==n&&t.spies.splice(n,1),e.$element=null};return{addSpy:g,removeSpy:S,createContext:a,destroyContext:s,getContextForScope:f}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(e){"use strict";var t={},n=function(e,n){var r=e.$id;return t[r]=n,r},r=function(e){return t[e.$id]?e.$id:e.$parent?r(e.$parent):void 0},o=function(n){var o=r(n);return o?t[o]:e},l=function(e){var n=r(e);n&&delete t[n]};return{getContainerId:r,getContainer:o,setContainer:n,removeContainer:l}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(e,t,n){"use strict";return{link:function(r,o,l){o.on("click",function(o){if(l.href&&-1!==l.href.indexOf("#")){var u=document.getElementById(l.href.replace(/.*(?=#[^\s]+$)/,"").substring(1));if(u&&u.getBoundingClientRect){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault();var i=l.offset?parseInt(l.offset,10):t,c=l.duration?parseInt(l.duration,10):e,a=n.getContainer(r);a.duScrollToElement(angular.element(u),isNaN(i)?0:i,isNaN(c)?0:c)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t){e.createContext(t)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,n,r){r.$observe("duScrollContainer",function(r){angular.isString(r)&&(r=document.getElementById(r)),r=angular.isElement(r)?angular.element(r):n,e.setContainer(t,r),t.$on("$destroy",function(){e.removeContainer(t)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(e,t,n,r){"use strict";var o=function(e,t,n,r){angular.isElement(e)?this.target=e:angular.isString(e)&&(this.targetId=e),this.$scope=t,this.$element=n,this.offset=r};return o.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)),this.target},o.prototype.getTargetPosition=function(){var e=this.getTargetElement();return e?e.getBoundingClientRect():void 0},o.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(l,u,i){var c,a=i.ngHref||i.href;a&&-1!==a.indexOf("#")?c=a.replace(/.*(?=#[^\s]+$)/,"").substring(1):i.duScrollspy&&(c=i.duScrollspy),c&&n(function(){var n=new o(c,l,u,-(i.offset?parseInt(i.offset,10):t));e.addSpy(n),l.$on("$destroy",function(){e.removeSpy(n)}),l.$on("$locationChangeSuccess",n.flushTargetCache.bind(n)),r.$on("$stateChangeSuccess",n.flushTargetCache.bind(n))},0,!1)}}}]);;!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var parentJsonpFunction=window.webpackJsonp;window.webpackJsonp=function(chunkIds,moreModules){for(var moduleId,chunkId,i=0,callbacks=[];i<chunkIds.length;i++)chunkId=chunkIds[i],installedChunks[chunkId]&&callbacks.push.apply(callbacks,installedChunks[chunkId]),installedChunks[chunkId]=0;for(moduleId in moreModules)Object.prototype.hasOwnProperty.call(moreModules,moduleId)&&(modules[moduleId]=moreModules[moduleId]);for(parentJsonpFunction&&parentJsonpFunction(chunkIds,moreModules);callbacks.length;)callbacks.shift().call(null,__webpack_require__);return moreModules[0]?(installedModules[0]=0,__webpack_require__(0)):void 0};var installedModules={},installedChunks={4:0};__webpack_require__.e=function(chunkId,callback){if(0===installedChunks[chunkId])return callback.call(null,__webpack_require__);if(void 0!==installedChunks[chunkId])installedChunks[chunkId].push(callback);else{installedChunks[chunkId]=[callback];var head=document.getElementsByTagName("head")[0],script=document.createElement("script");script.type="text/javascript",script.charset="utf-8",script.async=!0,script.src=__webpack_require__.p+""+chunkId+"."+({0:"angular-dcc-device-somovd",1:"angular-dcc-manual-dir",2:"angular-device-somovd",3:"angular-funcs"}[chunkId]||chunkId)+".min.js",head.appendChild(script)}},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p=""}([,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _assign=__webpack_require__(3),_assign2=_interopRequireDefault(_assign),_=__webpack_require__(41),funcs=(__webpack_require__(42),__webpack_require__(43));module.exports=function(moduleName){angular.module(moduleName).provider("somovd",function(){var providerObj={somovdEndPoint:null,$get:["$http","$q",function($http,$q){function Somovd(config){function post(opt){if(opt.config=opt.config?_.extend(opt.config,config):config,taskLimit>taskCount){var successCb=function(data,status,headers,config){data.result?data=data.error?data.error:data.result:_.isArray(data)&&(data={rq:_.map(data,function(item){return item.error?item.error:item.result})}),opt.cb&&opt.cb(data),opt.defer.resolve(data)},errorCb=function(data,status,headers,config){opt.defer.reject(data)},finallyCb=function(){for(var _len=arguments.length,params=Array(_len),_key=0;_len>_key;_key++)params[_key]=arguments[_key];taskCount--,_.each(doneHooks,function(hook){hook&&hook.apply(void 0,params)}),taskQueue.length&&post(taskQueue.shift())};taskCount++,$http.post(providerObj.somovdEndPoint,opt.request,opt.config).success(successCb).error(errorCb)["finally"](finallyCb)}else taskQueue.push(opt)}function prepare(opt){opt.defer=$q.defer(),$q.all(_.map(prepareHooks,function(hook){return hook(_.flatten([opt.request]))})).then(function(){post(opt)})["catch"](function(){opt.defer.reject()});var promise=opt.defer.promise;return publish(opt),promise}function jsonrpc(method,params){return{jsonrpc:"2.0",method:method,params:params,id:_.random(1e3)}}function subscribe(method,params,handler){subscribes.push({method:method,params:params,handler:handler})}function publish(opt){function checkSubscribe(subscribe,request){function hasParam(elem,params){return _.every(params,function(value,key){return elem[key]&&(elem[key]==value||_.isObject(value)&&_.isEqual(elem[key],value))})}var method=subscribe.method,params=subscribe.params;_.isArray(request)||(request=[request]);var positions=[];return _.each(request,function(elem,inx){elem.method==method&&hasParam(elem.params,params)&&positions.push(inx)}),positions}_.each(subscribes,function(elem){function success(result){_.each(requestPositions,function(pos){var output=_.has(result,"rq")?result.rq[pos]:result;output.request=_.isArray(opt.request)?opt.request[pos]:opt.request,elem.handler(null,output)})}function error(error){elem.handler(error)}var requestPositions=checkSubscribe(elem,opt.request);requestPositions.length&&opt.defer.promise.then(success,error)})}var taskQueue=[],taskLimit=1,taskCount=0,prepareHooks=[],doneHooks=[],subscribes=[];return{subscribe:subscribe,publish:publish,getInstance:function(config){return Somovd(config)},prepareHook:function(cb){prepareHooks.push(cb)},doneHook:function(cb){doneHooks.push(cb)},read:function(){var args=new funcs.argSchema(arguments);return args.checkin("number id","opt function cb","opt object options")?prepare({request:jsonrpc("read",{id:args.id,options:args.options}),cb:args.cb}):args.checkin("array pack","opt function cb","opt object options")?prepare({request:_.map(args.pack,function(id){return jsonrpc("read",{id:id,options:args.options})}),cb:args.cb}):void 0},write:function(){var args=new funcs.argSchema(arguments);if(args.checkin("number id","object data","opt number pos","opt bool save","opt function cb","opt object options"))return prepare({request:jsonrpc("write",{id:args.id,pos:args.pos,data:args.data,save:_.isUndefined(args.save)||args.save,options:args.options}),config:args.options?_assign2["default"]({},args.options.config):void 0,cb:args.cb});if(args.checkin("array pack","opt bool save","opt function cb","opt object options")){var req=_.map(args.pack,function(item){return jsonrpc("write",{id:item.id,pos:item.pos,data:item.data,options:args.options})});return(_.isUndefined(args.save)||args.save)&&req.push(jsonrpc("cmd",{id:20})),prepare({request:req,config:args.options?_assign2["default"]({},args.options.config):void 0,cb:args.cb})}},remove:function(){var args=new funcs.argSchema(arguments);if(args.checkin("number id","object data","opt number pos","opt bool save","opt function cb"))return prepare({request:jsonrpc("remove",{id:args.id,pos:args.pos,data:args.data,save:!0}),cb:args.cb});if(args.checkin("array pack","opt bool save","opt function cb")){var req=_.map(args.pack,function(item){return jsonrpc("remove",{id:item.id,pos:item.pos,data:item.data})});return req.push(jsonrpc("cmd",{id:20})),prepare({request:req,cb:args.cb})}},multi:function(){var args=new funcs.argSchema(arguments);if(args.checkin("object pack","opt bool save","opt function cb")){var req=[];return _.each(args.pack.remove,function(item){req.push(jsonrpc("remove",{id:item.id,data:item.data,pos:item.pos}))}),_.each(args.pack.write,function(item){req.push(jsonrpc("write",{id:item.id,data:item.data,pos:item.pos}))}),_.each(args.pack.read,function(id){req.push(jsonrpc("read",{id:id}))}),req.push(jsonrpc("cmd",{id:20})),prepare({request:req,cb:args.cb})}},reboot:function(save,cb){return prepare({request:jsonrpc("cmd",{id:save?8:6}),cb:cb,config:{timeout:5e3}})},save:function(cb){return prepare({request:jsonrpc("cmd",{id:20}),cb:cb})},reset:function(cb){return prepare({request:jsonrpc("cmd",{id:10}),cb:cb,config:{timeout:5e3}})},backup:function(cb){return prepare({request:jsonrpc("cmd",{id:12}),cb:cb})},build_backup:function(cb){return prepare({request:jsonrpc("cmd",{id:44}),cb:cb})},cmd:function(id,cb){return prepare({request:jsonrpc("cmd",{id:id}),cb:cb})}}}return Somovd()}]};return providerObj})}},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(4),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(5),module.exports=__webpack_require__(8).Object.assign},function(module,exports,__webpack_require__){var $export=__webpack_require__(6);$export($export.S+$export.F,"Object",{assign:__webpack_require__(22)})},function(module,exports,__webpack_require__){var global=__webpack_require__(7),core=__webpack_require__(8),ctx=__webpack_require__(9),hide=__webpack_require__(11),has=__webpack_require__(21),PROTOTYPE="prototype",$export=function(type,name,source){var key,own,out,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,IS_WRAP=type&$export.W,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports[PROTOTYPE],target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{})[PROTOTYPE];IS_GLOBAL&&(source=name);for(key in source)own=!IS_FORCED&&target&&void 0!==target[key],own&&has(exports,key)||(out=own?target[key]:source[key],exports[key]=IS_GLOBAL&&"function"!=typeof target[key]?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?function(C){var F=function(a,b,c){if(this instanceof C){switch(arguments.length){case 0:return new C;case 1:return new C(a);case 2:return new C(a,b)}return new C(a,b,c)}return C.apply(this,arguments)};return F[PROTOTYPE]=C[PROTOTYPE],F}(out):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,IS_PROTO&&((exports.virtual||(exports.virtual={}))[key]=out,type&$export.R&&expProto&&!expProto[key]&&hide(expProto,key,out)))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},function(module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},function(module,exports){var core=module.exports={version:"2.6.3"};"number"==typeof __e&&(__e=core)},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(10);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},function(module,exports,__webpack_require__){var dP=__webpack_require__(12),createDesc=__webpack_require__(20);module.exports=__webpack_require__(16)?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(13),IE8_DOM_DEFINE=__webpack_require__(15),toPrimitive=__webpack_require__(19),dP=Object.defineProperty;exports.f=__webpack_require__(16)?Object.defineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(14);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(16)&&!__webpack_require__(17)(function(){return 7!=Object.defineProperty(__webpack_require__(18)("div"),"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(17)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(14),document=__webpack_require__(7).document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(14);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__webpack_require__){"use strict";var getKeys=__webpack_require__(23),gOPS=__webpack_require__(38),pIE=__webpack_require__(39),toObject=__webpack_require__(40),IObject=__webpack_require__(26),$assign=Object.assign;module.exports=!$assign||__webpack_require__(17)(function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";return A[S]=7,K.split("").forEach(function(k){B[k]=k}),7!=$assign({},A)[S]||Object.keys($assign({},B)).join("")!=K})?function(target,source){for(var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;aLen>index;)for(var key,S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0;length>j;)isEnum.call(S,key=keys[j++])&&(T[key]=S[key]);return T}:$assign},function(module,exports,__webpack_require__){var $keys=__webpack_require__(24),enumBugKeys=__webpack_require__(37);module.exports=Object.keys||function(O){return $keys(O,enumBugKeys)}},function(module,exports,__webpack_require__){var has=__webpack_require__(21),toIObject=__webpack_require__(25),arrayIndexOf=__webpack_require__(29)(!1),IE_PROTO=__webpack_require__(33)("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},function(module,exports,__webpack_require__){var IObject=__webpack_require__(26),defined=__webpack_require__(28);module.exports=function(it){return IObject(defined(it))}},function(module,exports,__webpack_require__){var cof=__webpack_require__(27);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports){module.exports=function(it){if(void 0==it)throw TypeError("Can't call method on  "+it);return it}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(25),toLength=__webpack_require__(30),toAbsoluteIndex=__webpack_require__(32);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if(value=O[index++],value!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(31),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(31),max=Math.max,min=Math.min;module.exports=function(index,length){return index=toInteger(index),0>index?max(index+length,0):min(index,length)}},function(module,exports,__webpack_require__){var shared=__webpack_require__(34)("keys"),uid=__webpack_require__(36);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},function(module,exports,__webpack_require__){var core=__webpack_require__(8),global=__webpack_require__(7),SHARED="__core-js_shared__",store=global[SHARED]||(global[SHARED]={});(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:core.version,mode:__webpack_require__(35)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(module,exports){module.exports=!0},function(module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},function(module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports){exports.f={}.propertyIsEnumerable},function(module,exports,__webpack_require__){var defined=__webpack_require__(28);module.exports=function(it){return Object(defined(it))}},function(module,exports){module.exports=_},function(module,exports,__webpack_require__){"use strict";var funcs=__webpack_require__(43);module.exports=function(){var providerObj={somovdEndPoint:null,$get:["$http","$q",function($http,$q){function post(opt){if(taskLimit>taskCount){var successCb=function(data,status,headers,config){data.result?data=data.error?data.error:data.result:_.isArray(data)&&(data={rq:_.map(data,function(item){return item.error?item.error:item.result})}),opt.cb&&opt.cb(data),opt.defer.resolve(data)},errorCb=function(data,status,headers,config){opt.defer.reject(data)},finallyCb=function(){for(var _len=arguments.length,params=Array(_len),_key=0;_len>_key;_key++)params[_key]=arguments[_key];taskCount--,_.each(doneHooks,function(hook){hook&&hook.apply(void 0,params)}),taskQueue.length&&post(taskQueue.shift())};taskCount++,$http.post(providerObj.somovdEndPoint,opt.request,opt.config).success(successCb).error(errorCb)["finally"](finallyCb)}else taskQueue.push(opt)}function prepare(opt){opt.defer=$q.defer(),$q.all(_.map(prepareHooks,function(hook){return hook(_.flatten([opt.request]))})).then(function(){post(opt)})["catch"](function(){opt.defer.reject()});var promise=opt.defer.promise;return publish(opt),promise}function jsonrpc(method,params){return{jsonrpc:"2.0",method:method,params:params,id:_.random(1e3)}}function subscribe(method,params,handler){subscribes.push({method:method,params:params,handler:handler})}function publish(opt){function checkSubscribe(subscribe,request){function hasParam(elem,params){return _.every(params,function(value,key){return elem[key]&&(elem[key]==value||_.isObject(value)&&_.isEqual(elem[key],value))})}var method=subscribe.method,params=subscribe.params;_.isArray(request)||(request=[request]);var positions=[];return _.each(request,function(elem,inx){elem.method==method&&hasParam(elem.params,params)&&positions.push(inx)}),positions}_.each(subscribes,function(elem){function success(result){_.each(requestPositions,function(pos){var output=_.has(result,"rq")?result.rq[pos]:result;output.request=_.isArray(opt.request)?opt.request[pos]:opt.request,elem.handler(null,output)})}function error(error){elem.handler(error)}var requestPositions=checkSubscribe(elem,opt.request);requestPositions.length&&opt.defer.promise.then(success,error)})}var taskQueue=[],taskLimit=1,taskCount=0,prepareHooks=[],doneHooks=[],subscribes=[];return{subscribe:subscribe,publish:publish,prepareHook:function(cb){prepareHooks.push(cb)},doneHook:function(cb){doneHooks.push(cb)},read:function(){var args=new funcs.argSchema(arguments);return args.checkin("number id","opt function cb")?prepare({request:jsonrpc("read",{id:args.id}),cb:args.cb}):args.checkin("array pack","opt function cb")?prepare({request:_.map(args.pack,function(id){return jsonrpc("read",{id:id})}),cb:args.cb}):void 0},write:function(){var args=new funcs.argSchema(arguments);if(args.checkin("number id","object data","opt number pos","opt bool save","opt function cb"))return prepare({request:jsonrpc("write",{id:args.id,pos:args.pos,data:args.data,save:_.isUndefined(args.save)||args.save}),cb:args.cb});if(args.checkin("array pack","opt bool save","opt function cb")){var req=_.map(args.pack,function(item){return jsonrpc("write",{id:item.id,pos:item.pos,data:item.data})});return(_.isUndefined(args.save)||args.save)&&req.push(jsonrpc("cmd",{id:20})),prepare({request:req,cb:args.cb})}},remove:function(){var args=new funcs.argSchema(arguments);if(args.checkin("number id","object data","opt number pos","opt bool save","opt function cb"))return prepare({request:jsonrpc("remove",{id:args.id,pos:args.pos,data:args.data,save:!0}),cb:args.cb});if(args.checkin("array pack","opt bool save","opt function cb")){var req=_.map(args.pack,function(item){return jsonrpc("remove",{id:item.id,pos:item.pos,data:item.data})});return req.push(jsonrpc("cmd",{id:20})),prepare({request:req,cb:args.cb})}},multi:function(){var args=new funcs.argSchema(arguments);if(args.checkin("object pack","opt bool save","opt function cb")){var req=[];return _.each(args.pack.remove,function(item){req.push(jsonrpc("remove",{id:item.id,data:item.data,pos:item.pos}))}),_.each(args.pack.write,function(item){req.push(jsonrpc("write",{id:item.id,data:item.data,pos:item.pos}))}),_.each(args.pack.read,function(id){req.push(jsonrpc("read",{id:id}))}),req.push(jsonrpc("cmd",{id:20})),prepare({request:req,cb:args.cb})}},reboot:function(save,cb){return prepare({request:jsonrpc("cmd",{id:save?8:6}),cb:cb,config:{timeout:5e3}})},save:function(cb){return prepare({request:jsonrpc("cmd",{id:20}),cb:cb})},reset:function(cb){return prepare({request:jsonrpc("cmd",{id:10}),cb:cb,config:{timeout:5e3}})},backup:function(cb){return prepare({request:jsonrpc("cmd",{id:12}),cb:cb})},build_backup:function(cb){return prepare({request:jsonrpc("cmd",{id:44}),cb:cb})}}}]};return providerObj}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(41),shared=__webpack_require__(44),ipv4=__webpack_require__(108),ipv6=__webpack_require__(109),is=__webpack_require__(107),wifi=__webpack_require__(110),newConfig=__webpack_require__(111),format=__webpack_require__(112),customValidation=__webpack_require__(113),cryptoAES=__webpack_require__(114),funcs=_.extend({},shared);funcs.ipv4=ipv4,funcs.ipv6=ipv6,funcs.is=is,funcs.wifiHelper=wifi,funcs.newConfig=newConfig,funcs.format=format,funcs.customValidation=customValidation,funcs.cryptoAES=cryptoAES,module.exports=funcs},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function lngDummy(value){return value}function lookSize(size,metric){metric||(metric="byte");var metrics={"byte":["B","KB","MB","GB","TB","PB","EB","ZB","YB"],bit:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"]},i=0;size=new Number(size),"bit"==metric&&(size*=8);for(var useMetric=metrics[metric];size>=1024&&i<useMetric.length-1;)size/=1024,i++;return{value:size>0?size.toFixed(2):"0.00",metric:size>0?useMetric[i]:useMetric[0],toString:function(translate){var lng=translate||lngDummy;return this.value+" "+lng(this.metric)}}}function lookTime(time){var t={D:null,H:null,M:null,S:time,toString:function(translate){var lng=translate||lngDummy,r="";return this.D&&(r+=this.D+lng("D")+" "),this.H&&(r+=this.H+lng("H")+" "),this.M&&(r+=this.M+lng("M")+" "),this.S>=0&&(r+=this.S+lng("S")),r}};return t.S>=60&&(t.M=Math.floor(t.S/60),t.S=t.S-60*t.M),t.M>=60&&(t.H=Math.floor(t.M/60),t.M=t.M-60*t.H),t.H>=24&&(t.D=Math.floor(t.H/24),t.H=t.H-24*t.D),t}function setValue(path,data,obj){if(path){var arr=path.split(".");_.last(arr)||(arr=_.initial(arr));for(var o,p,subObj=obj,i=0;i<arr.length-1;i++)p=arr[i],o=subObj[p],o||(o={}),subObj=subObj[p]=o;return subObj[arr[arr.length-1]]=data,obj}return null}function fetchBranch(tree,path){if(!path)return tree;var matched=path.match(/^[#|\w|\x2b|-]+\.*/);if(!matched)return null;var addr=matched[0],pathRest=path.replace(/^[#|\w|\x2b|-]+\.*/,""),key=addr.match(/^[#|\w|\x2b|-]+/)[0];matched=addr.match(/\.$/);var period=matched?matched[0]:null,branch=tree[key];return period&&"object"==("undefined"==typeof branch?"undefined":_typeof3["default"](branch))?this.fetchBranch(branch,pathRest):period||_.isUndefined(branch)||_.isNull(branch)||"object"==("undefined"==typeof branch?"undefined":_typeof3["default"](branch))?null:branch}function cutBranch(object,path){if("string"==typeof path){var reEndPoint=/\.$/;reEndPoint.test(path)&&(path=path.replace(reEndPoint,"")),path=path.split(".")}if(!(path instanceof Array)||0===path.length)return console.log("funcs.cutBranch warning. Incorrect path value."),!1;path=path.slice();var key=path.shift();return"object"!==("undefined"==typeof object?"undefined":_typeof3["default"](object))||null===object?(console.log("funcs.cutBranch warning. Incorrect object."),!1):0==path.length?Object.hasOwnProperty.call(object,key)?(delete object[key],!0):(console.log("funcs.cutBranch warning. Incorrect object. hasOwnProperty not found."),!1):cutBranch(object[key],path)}function copyBranch(input,path,output){var obj=fetchBranch.call(this,input,path);return!!obj&&(setValue(path.replace(/\.$/,""),obj,output),!0)}function moveBranch(input,ipath,opath){var obj=fetchBranch.call(this,input,ipath);return!!obj&&(setValue(opath.replace(/\.$/,""),deepClone.call(this,obj),input),cutBranch(input,ipath),!0)}function buildTree(response){for(var r,obj={},i=0;i<response.length;i++)r=response[i],this.setValue(r.Name,r.Value,obj);return obj}function buildTreeAttributes(response){function getName(r){var name=r.Name,attrs=r.Attributes;return"object"==attrs.type&&(name+="#attr"),name}for(var obj={},i=0;i<response.length;i++){var r=response[i],name=getName(r),value=r.Attributes;this.setValue(name,value,obj)}return obj}function splitTree(tree,startPath,branches){var value;branches||(branches=[]),startPath||(startPath="");for(var key in tree)value=tree[key],"object"==("undefined"==typeof value?"undefined":_typeof3["default"](value))?this.splitTree(value,startPath+key+".",branches):branches.push({Name:startPath+key,Value:value});return branches}function splitTreeAttributes(tree,startPath,branches){function isValue(value){return _.has(value,"type")}branches||(branches=[]),startPath||(startPath="");for(var key in tree){var value=tree[key];if(_.isObject(value)&&!_.isArray(value))if(isValue(value)){var path="#attr"==key?startPath:startPath+key;branches.push({Name:path,Attributes:value})}else splitTreeAttributes(value,startPath+key+".",branches);else branches.push({Name:startPath+key,Attributes:value})}return branches}function deepClone(obj){var o,obj=_.clone(obj);for(var i in obj)o=obj[i],_.isObject(o)&&(obj[i]=this.deepClone(o));return obj}function deepExtend(obj){var parentRE=/#{\s*?_\s*?}/,slice=Array.prototype.slice;return _.each(slice.call(arguments,1),function(source){for(var prop in source)if(_.isUndefined(obj[prop])||_.isFunction(obj[prop])||_.isNull(source[prop])||_.isDate(source[prop]))obj[prop]=source[prop];else if(_.isString(source[prop])&&parentRE.test(source[prop]))_.isString(obj[prop])&&(obj[prop]=source[prop].replace(parentRE,obj[prop]));else if(_.isArray(obj[prop])||_.isArray(source[prop])){if(!_.isArray(obj[prop])||!_.isArray(source[prop]))throw new Error("Trying to combine an array with a non-array ("+prop+")");obj[prop]=_.reject(deepExtend(obj[prop],source[prop]),function(item){return _.isNull(item)})}else if(_.isObject(obj[prop])||_.isObject(source[prop])){if(!_.isObject(obj[prop])||!_.isObject(source[prop]))throw new Error("Trying to combine an object with a non-object ("+prop+")");obj[prop]=deepExtend(obj[prop],source[prop])}else obj[prop]=source[prop]}),obj}function objectDeepIterator(obj,iterator,context){for(var paths=_keys2["default"](obj),context=context||null;paths.length;){var path=paths.splice(0,1)[0],value=fetchBranch.call(this,obj,path)||fetchBranch.call(this,obj,path+".");if(_.isObject(value)){var deepKeys=_keys2["default"](value),deepPaths=deepKeys.map(function(key){return path+"."+key});paths=paths.concat(deepPaths)}iterator.call(context,value,path,obj)}}function getParamByName(list,value){return _.find(list,function(param){return param.Name==value})}function responseToConfig(response){var config={};return _.each(response,function(elem){config[elem.Name]=_.clone(elem),delete config[elem.Name].Name}),config}function configToResponse(config){return _.map(config,function(elem,inx){var obj=_.clone(elem);return obj.Name=inx,obj})}function getDiffExistings(oConfig,cConfig){var diff={};return _.each(cConfig,function(elem,inx){oConfig[inx]&&elem.Value==oConfig[inx].Value||(diff[inx]={Value:elem.Value})}),diff}function getDiffRemoved(oConfig,cConfig){var diff={};return _.each(oConfig,function(elem,inx){cConfig[inx]||(diff[inx]={Value:null,IsRemoved:!0})}),diff}function getChanges(origin,changed){var oConfig=this.responseToConfig(this.splitTree(origin)),cConfig=this.responseToConfig(this.splitTree(changed));return getDiffExistings(oConfig,cConfig)}function getChangesWithRemoved(origin,changed){var oConfig=this.responseToConfig(this.splitTree(origin)),cConfig=this.responseToConfig(this.splitTree(changed));return _.extend(getDiffExistings(oConfig,cConfig),getDiffRemoved(oConfig,cConfig))}function getChangesExpanded(original,changed){return buildTree.call(this,configToResponse.call(this,getChanges.call(this,original,changed)))}function eachAsync(arr,iterator,finish){var inx=0;iterator(arr[inx],inx,function handler(error){error?finish&&finish(inx,error):++inx<arr.length?iterator(arr[inx],inx,handler):finish&&finish(inx)})}function addInstance(obj,path,instance){if(path.match(/^\w+$/)){if(obj.__toAdd)var actions=obj.__toAdd.split(",");else var actions=[];obj[path]||(obj[path]={});var multiObject=obj[path],maxInstance=_.size(multiObject)+1,maxInstancePlus=maxInstance+"+",newPath=path+"."+maxInstancePlus;return actions.push(newPath),obj.__toAdd=_.uniq(actions).toString(),instance&&(multiObject[maxInstancePlus]=instance),newPath}return null}function setInstance(obj,path,instance){var arr=path.split("."),multiObject=obj[arr[0]],instanceName=arr[1];if(path.match(/^.+\.\d+\x2b$/)){var oldInstance=multiObject[instanceName];if(!oldInstance)return null;if(obj.__toAdd)var actions=obj.__toAdd.split(",");else var actions=[];return actions.push(path),obj.__toAdd=_.uniq(actions).toString(),instance&&(multiObject[instanceName]=instance),path}if(path.match(/^.+\.\d+$/)){var oldInstance=multiObject[instanceName+"-"];if(!oldInstance)return null;if(obj.__toDel){var actions=_.reject(obj.__toDel.split(","),function(elem){return elem==path});obj.__toDel=_.uniq(actions).toString(),obj.__toDel||delete obj.__toDel}return delete multiObject[instanceName+"-"],multiObject[instanceName]=instance?instance:oldInstance,path}return null}function cutInstance(obj,path){var instance=this.fetchBranch(obj,path+".");if(!_.isObject(instance))return null;if(path.match(/^.+\.\d+\x2b$/)){if(obj.__toAdd){var actions=_.reject(obj.__toAdd.split(","),function(elem){return elem==path});obj.__toAdd=_.uniq(actions).toString(),obj.__toAdd||delete obj.__toAdd}return this.deepClone(instance)}if(path.match(/^.+\.\d+$/)){if(obj.__toDel)var actions=obj.__toDel.split(",");else var actions=[];actions.push(path),obj.__toDel=_.uniq(actions).toString();var arr=path.split("."),multiObject=obj[arr[0]],instanceName=arr[1];return delete multiObject[instanceName],multiObject[instanceName+"-"]=instance,this.deepClone(instance)}return null}function isPart(path,part){if(""==part)return!0;part.match(/\.$/)&&(part=part.replace(/\.$/,""));for(var pathArr=path.split("."),partArr=part.split("."),i=0;i<partArr.length;i++)if(pathArr[i]!=partArr[i]&&"*"!=pathArr[i]&&"*"!=partArr[i])return!1;return!0}function checkResponse(dataModel,data){_.each(dataModel,function(elem,inx){_.find(data,function(_elem){return _elem.Name.replace(/\.\d+\./,".{i}.")==inx})?delete elem.unsupported:elem.unsupported=!0})}function copyParam(firstObj,firstParam,secObj,secParam){function hasPath(obj,path){var arr=path.split(".");return _.every(arr,function(key,index){return arr.length==index+1&&""==key||!!_.has(obj,key)&&(obj=obj[key],!0)})}if(hasPath(firstObj,firstParam)){
var value=deepClone(this.fetchBranch(firstObj,firstParam));setValue(secParam,value,secObj)}return secObj[secParam]}function randomString(len){len||(len=10);for(var letters="AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz1234567890",result="",i=0;len>i;i++)result+=letters[Math.floor(Math.random()*letters.length)];return result}function getRpcSnackbarMsg(res,type){var type=type||"write";return"rpc_"+type+"_"+(is.allRPCSuccess(res)?"success":"error")}function getLazyResolve(lazyDeps,ctrl){return lazyDeps&&lazyDeps.length?{deps:function($q,$rootScope,$state){var deferred=$q.defer();return $script(lazyDeps,"deps",function(){$rootScope.$apply(function(){angular.module("app").controllerProvider.has(ctrl)||(deferred.reject(),$state.go("error",{code:"msg_lazy_load_error",message:"msg_lazy_load_error_desc"})),deferred.resolve()})}),deferred.promise}}:{deps:function(){}}}function sequencePromises(list,iterator,context){return context=context||this,_.reduce(list,function(sequence,obj,i){return sequence.then(function(){return iterator.call(context,obj,i,list)})},_promise2["default"].resolve())}function argSchema(argArr){this.checkin=function(){function check(type,arg){if(_.isNull(arg)||_.isUndefined(arg))return!0;switch(type){case"string":if(!_.isString(arg))return!1;this[name]=arg;break;case"number":if(!_.isNumber(arg))return!1;this[name]=arg;break;case"bool":if(!_.isBoolean(arg))return!1;this[name]=arg;break;case"object":if(!_.isObject(arg))return!1;this[name]=arg;break;case"function":if(!_.isFunction(arg))return!1;this[name]=arg;break;case"array":if(!_.isArray(arg))return!1;this[name]=arg}return!0}for(var arr,qual,type,name,i=0,j=0;i<arguments.length;i++)if(arr=arguments[i].split(" "),qual=type=name=null,3==arr.length?(qual=arr[0],type=arr[1],name=arr[2]):2==arr.length&&(type=arr[0],name=arr[1]),delete this[name],"opt"==qual)check.call(this,type,argArr[j])&&j++;else{if(!check.call(this,type,argArr[j]))return!1;j++}return!0}}function getIfaces(tree){function getResult(iface,ifname,service){return{iface:service.iface,name:service.name,l2_key:iface.ifname,l3_key:ifname,gwif:service.gwif,type:service.type,is_wan:service.is_wan,connection_status:service.connection_status}}var result=[];return _.each(tree,function(iface,ifname){iface.ifname=ifname,_.each(iface.services,function(service,ifname){"auto"!=service.type&&result.push(getResult(iface,ifname,service)),_.each(service.tunnels,function(tunnel,ifname){result.push(getResult(iface,ifname,tunnel))})})}),result}function getContypeList(){return{pppoa:"pppoa",ipoa:"ipv4oa",dynamic:"dynip",dynamicv6:"dynipv6","static":"statip",staticv6:"statipv6",pppoe:"pppoe",pppoev6:"pppoev6",pppoedual:"pppoedual",dynl2tp:"dynl2tp",statl2tp:"statl2tp",dynpptp:"dynpptp",statpptp:"statpptp",USB:"mobileinet"}}function getConstateList(){return{Connected:"connected",Connecting:"wan_status_connecting",Disconnected:"disconnected"}}function promiseDelay(ms){var args=Array.prototype.slice.call(arguments,1).shift();return new _promise2["default"](function(resolve){setTimeout(function(){resolve.apply(null,args)},ms)})}function dummy(){return{}}function findArrayIndex(array,predicateFunction){var length=array?array.length:0;if(!length)return-1;for(var index=-1,i=0;i<array.length;++i)if(predicateFunction(array[i])){index=i;break}return index}function isJSONString(str){try{JSON.parse(str)}catch(e){return!1}return!0}function checkVersion(currentVersion,newVersion){if(!currentVersion||!newVersion||newVersion==currentVersion||"develop"==currentVersion||"develop"==newVersion)return"";var vNew=newVersion.split("."),vCurrent=currentVersion.split(".");return parseInt(vNew[0])!=parseInt(vCurrent[0])?"need_backup":parseInt(vNew[1])<parseInt(vCurrent[1])?"maybe_backup":""}function sortPortsSomovd(ports){var sortData=[],wanPort=_.filter(ports,function(port){return"WAN"==port.alias||"SFP"==port.alias}),lanPorts=_.filter(ports,function(port){return/LAN/.test(port.alias)});return sortData=_.sortBy(lanPorts,"alias").reverse(),sortData=_.union(sortData,wanPort)}function getByteCount(s){var i,count=0,stringLenght=s.length;for(s=String(s||""),i=0;stringLenght>i;i++){var code=fixedCharCodeAt(s,i);if(code)switch(!0){case 127>=code:count++;break;case 2047>=code:count+=2;break;case 65535>=code:count+=3;break;case code>65535:count+=4}}return count}function fixedCharCodeAt(str,idx){idx=idx||0;var hi,low,code=str.charCodeAt(idx);return code>=55296&&56319>=code?(hi=code,low=str.charCodeAt(idx+1),!isNaN(low)&&1024*(hi-55296)+(low-56320)+65536):!(code>=56320&&57343>=code)&&code}var _promise=__webpack_require__(45),_promise2=_interopRequireDefault(_promise),_keys=__webpack_require__(84),_keys2=_interopRequireDefault(_keys),_typeof2=__webpack_require__(88),_typeof3=_interopRequireDefault(_typeof2),_=__webpack_require__(41),deepEqual=__webpack_require__(104),is=__webpack_require__(107);module.exports={setValue:setValue,fetchBranch:fetchBranch,cutBranch:cutBranch,moveBranch:moveBranch,copyBranch:copyBranch,buildTree:buildTree,buildTreeAttributes:buildTreeAttributes,splitTree:splitTree,splitTreeAttributes:splitTreeAttributes,deepClone:deepClone,deepExtend:deepExtend,deepEqual:deepEqual,objectDeepIterator:objectDeepIterator,getParamByName:getParamByName,responseToConfig:responseToConfig,configToResponse:configToResponse,getChanges:getChanges,getChangesWithRemoved:getChangesWithRemoved,getChangesExpanded:getChangesExpanded,eachAsync:eachAsync,addInstance:addInstance,setInstance:setInstance,cutInstance:cutInstance,copyParam:copyParam,isPart:isPart,checkResponse:checkResponse,argSchema:argSchema,lookSize:lookSize,lookTime:lookTime,randomString:randomString,getRpcSnackbarMsg:getRpcSnackbarMsg,getLazyResolve:getLazyResolve,sequencePromises:sequencePromises,getIfaces:getIfaces,getContypeList:getContypeList,getConstateList:getConstateList,promiseDelay:promiseDelay,dummy:dummy,findArrayIndex:findArrayIndex,isJSONString:isJSONString,checkVersion:checkVersion,sortPortsSomovd:sortPortsSomovd,getByteCount:getByteCount}},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(46),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(47),__webpack_require__(48),__webpack_require__(60),__webpack_require__(64),__webpack_require__(82),__webpack_require__(83),module.exports=__webpack_require__(8).Promise},function(module,exports){},function(module,exports,__webpack_require__){"use strict";var $at=__webpack_require__(49)(!0);__webpack_require__(50)(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var point,O=this._t,index=this._i;return index>=O.length?{value:void 0,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(31),defined=__webpack_require__(28);module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String(defined(that)),i=toInteger(pos),l=s.length;return 0>i||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i),55296>a||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):(a-55296<<10)+(b-56320)+65536)}}},function(module,exports,__webpack_require__){"use strict";var LIBRARY=__webpack_require__(35),$export=__webpack_require__(6),redefine=__webpack_require__(51),hide=__webpack_require__(11),Iterators=__webpack_require__(52),$iterCreate=__webpack_require__(53),setToStringTag=__webpack_require__(57),getPrototypeOf=__webpack_require__(59),ITERATOR=__webpack_require__(58)("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var methods,key,IteratorPrototype,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case KEYS:return function(){return new Constructor(this,kind)};case VALUES:return function(){return new Constructor(this,kind)}}return function(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES=DEFAULT==VALUES,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME?proto.entries||$native:$native;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)),IteratorPrototype!==Object.prototype&&IteratorPrototype.next&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||"function"==typeof IteratorPrototype[ITERATOR]||hide(IteratorPrototype,ITERATOR,returnThis))),DEF_VALUES&&$native&&$native.name!==VALUES&&(VALUES_BUG=!0,$default=function(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod(VALUES),keys:IS_SET?$default:getMethod(KEYS),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(11)},function(module,exports){module.exports={}},function(module,exports,__webpack_require__){"use strict";var create=__webpack_require__(54),descriptor=__webpack_require__(20),setToStringTag=__webpack_require__(57),IteratorPrototype={};__webpack_require__(11)(IteratorPrototype,__webpack_require__(58)("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(13),dPs=__webpack_require__(55),enumBugKeys=__webpack_require__(37),IE_PROTO=__webpack_require__(33)("IE_PROTO"),Empty=function(){},PROTOTYPE="prototype",createDict=function(){var iframeDocument,iframe=__webpack_require__(18)("iframe"),i=enumBugKeys.length,lt="<",gt=">";for(iframe.style.display="none",__webpack_require__(56).appendChild(iframe),iframe.src="javascript:",iframeDocument=iframe.contentWindow.document,iframeDocument.open(),iframeDocument.write(lt+"script"+gt+"document.F=Object"+lt+"/script"+gt),iframeDocument.close(),createDict=iframeDocument.F;i--;)delete createDict[PROTOTYPE][enumBugKeys[i]];return createDict()};module.exports=Object.create||function(O,Properties){var result;return null!==O?(Empty[PROTOTYPE]=anObject(O),result=new Empty,Empty[PROTOTYPE]=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:dPs(result,Properties)}},function(module,exports,__webpack_require__){var dP=__webpack_require__(12),anObject=__webpack_require__(13),getKeys=__webpack_require__(23);module.exports=__webpack_require__(16)?Object.defineProperties:function(O,Properties){anObject(O);for(var P,keys=getKeys(Properties),length=keys.length,i=0;length>i;)dP.f(O,P=keys[i++],Properties[P]);return O}},function(module,exports,__webpack_require__){var document=__webpack_require__(7).document;module.exports=document&&document.documentElement},function(module,exports,__webpack_require__){var def=__webpack_require__(12).f,has=__webpack_require__(21),TAG=__webpack_require__(58)("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},function(module,exports,__webpack_require__){var store=__webpack_require__(34)("wks"),uid=__webpack_require__(36),Symbol=__webpack_require__(7).Symbol,USE_SYMBOL="function"==typeof Symbol,$exports=module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))};$exports.store=store},function(module,exports,__webpack_require__){var has=__webpack_require__(21),toObject=__webpack_require__(40),IE_PROTO=__webpack_require__(33)("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}},function(module,exports,__webpack_require__){__webpack_require__(61);for(var global=__webpack_require__(7),hide=__webpack_require__(11),Iterators=__webpack_require__(52),TO_STRING_TAG=__webpack_require__(58)("toStringTag"),DOMIterables="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),i=0;i<DOMIterables.length;i++){var NAME=DOMIterables[i],Collection=global[NAME],proto=Collection&&Collection.prototype;proto&&!proto[TO_STRING_TAG]&&hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=Iterators.Array}},function(module,exports,__webpack_require__){"use strict";var addToUnscopables=__webpack_require__(62),step=__webpack_require__(63),Iterators=__webpack_require__(52),toIObject=__webpack_require__(25);module.exports=__webpack_require__(50)(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):"keys"==kind?step(0,index):"values"==kind?step(0,O[index]):step(0,[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},function(module,exports,__webpack_require__){"use strict";var Internal,newGenericPromiseCapability,OwnPromiseCapability,Wrapper,LIBRARY=__webpack_require__(35),global=__webpack_require__(7),ctx=__webpack_require__(9),classof=__webpack_require__(65),$export=__webpack_require__(6),isObject=__webpack_require__(14),aFunction=__webpack_require__(10),anInstance=__webpack_require__(66),forOf=__webpack_require__(67),speciesConstructor=__webpack_require__(71),task=__webpack_require__(72).set,microtask=__webpack_require__(74)(),newPromiseCapabilityModule=__webpack_require__(75),perform=__webpack_require__(76),userAgent=__webpack_require__(77),promiseResolve=__webpack_require__(78),PROMISE="Promise",TypeError=global.TypeError,process=global.process,versions=process&&process.versions,v8=versions&&versions.v8||"",$Promise=global[PROMISE],isNode="process"==classof(process),empty=function(){},newPromiseCapability=newGenericPromiseCapability=newPromiseCapabilityModule.f,USE_NATIVE=!!function(){try{var promise=$Promise.resolve(1),FakePromise=(promise.constructor={})[__webpack_require__(58)("species")]=function(exec){exec(empty,empty)};return(isNode||"function"==typeof PromiseRejectionEvent)&&promise.then(empty)instanceof FakePromise&&0!==v8.indexOf("6.6")&&-1===userAgent.indexOf("Chrome/66")}catch(e){}}(),isThenable=function(it){var then;return!(!isObject(it)||"function"!=typeof(then=it.then))&&then},notify=function(promise,isReject){if(!promise._n){promise._n=!0;var chain=promise._c;microtask(function(){for(var value=promise._v,ok=1==promise._s,i=0,run=function(reaction){var result,then,exited,handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2==promise._h&&onHandleUnhandled(promise),promise._h=1),handler===!0?result=value:(domain&&domain.enter(),result=handler(value),domain&&(domain.exit(),exited=!0)),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(e){domain&&!exited&&domain.exit(),reject(e)}};chain.length>i;)run(chain[i++]);promise._c=[],promise._n=!1,isReject&&!promise._h&&onUnhandled(promise)})}},onUnhandled=function(promise){task.call(global,function(){var result,handler,console,value=promise._v,unhandled=isUnhandled(promise);if(unhandled&&(result=perform(function(){isNode?process.emit("unhandledRejection",value,promise):(handler=global.onunhandledrejection)?handler({promise:promise,reason:value}):(console=global.console)&&console.error&&console.error("Unhandled promise rejection",value)}),promise._h=isNode||isUnhandled(promise)?2:1),promise._a=void 0,unhandled&&result.e)throw result.v})},isUnhandled=function(promise){return 1!==promise._h&&0===(promise._a||promise._c).length},onHandleUnhandled=function(promise){task.call(global,function(){var handler;isNode?process.emit("rejectionHandled",promise):(handler=global.onrejectionhandled)&&handler({promise:promise,reason:promise._v})})},$reject=function(value){var promise=this;promise._d||(promise._d=!0,promise=promise._w||promise,promise._v=value,promise._s=2,promise._a||(promise._a=promise._c.slice()),notify(promise,!0))},$resolve=function(value){var then,promise=this;if(!promise._d){promise._d=!0,promise=promise._w||promise;try{if(promise===value)throw TypeError("Promise can't be resolved itself");(then=isThenable(value))?microtask(function(){var wrapper={_w:promise,_d:!1};try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}}):(promise._v=value,promise._s=1,notify(promise,!1))}catch(e){$reject.call({_w:promise,_d:!1},e)}}};USE_NATIVE||($Promise=function(executor){anInstance(this,$Promise,PROMISE,"_h"),aFunction(executor),Internal.call(this);try{executor(ctx($resolve,this,1),ctx($reject,this,1))}catch(err){$reject.call(this,err)}},Internal=function(executor){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},Internal.prototype=__webpack_require__(79)($Promise.prototype,{then:function(onFulfilled,onRejected){var reaction=newPromiseCapability(speciesConstructor(this,$Promise));return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=isNode?process.domain:void 0,this._c.push(reaction),this._a&&this._a.push(reaction),this._s&&notify(this,!1),reaction.promise},"catch":function(onRejected){return this.then(void 0,onRejected)}}),OwnPromiseCapability=function(){var promise=new Internal;this.promise=promise,this.resolve=ctx($resolve,promise,1),this.reject=ctx($reject,promise,1)},newPromiseCapabilityModule.f=newPromiseCapability=function(C){return C===$Promise||C===Wrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise}),__webpack_require__(57)($Promise,PROMISE),__webpack_require__(80)(PROMISE),Wrapper=__webpack_require__(8)[PROMISE],$export($export.S+$export.F*!USE_NATIVE,PROMISE,{reject:function(r){var capability=newPromiseCapability(this),$$reject=capability.reject;return $$reject(r),capability.promise}}),$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),PROMISE,{resolve:function(x){return promiseResolve(LIBRARY&&this===Wrapper?$Promise:this,x)}}),$export($export.S+$export.F*!(USE_NATIVE&&__webpack_require__(81)(function(iter){$Promise.all(iter)["catch"](empty)})),PROMISE,{all:function(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,result=perform(function(){var values=[],index=0,remaining=1;forOf(iterable,!1,function(promise){var $index=index++,alreadyCalled=!1;values.push(void 0),remaining++,C.resolve(promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[$index]=value,--remaining||resolve(values))},reject)}),--remaining||resolve(values)});return result.e&&reject(result.v),capability.promise},race:function(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,result=perform(function(){forOf(iterable,!1,function(promise){C.resolve(promise).then(capability.resolve,reject)})});return result.e&&reject(result.v),capability.promise}})},function(module,exports,__webpack_require__){var cof=__webpack_require__(27),TAG=__webpack_require__(58)("toStringTag"),ARG="Arguments"==cof(function(){return arguments}()),tryGet=function(it,key){try{return it[key]}catch(e){}};module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=tryGet(O=Object(it),TAG))?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}},function(module,exports){module.exports=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||void 0!==forbiddenField&&forbiddenField in it)throw TypeError(name+": incorrect invocation!");return it}},function(module,exports,__webpack_require__){var ctx=__webpack_require__(9),call=__webpack_require__(68),isArrayIter=__webpack_require__(69),anObject=__webpack_require__(13),toLength=__webpack_require__(30),getIterFn=__webpack_require__(70),BREAK={},RETURN={},exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var length,step,iterator,result,iterFn=ITERATOR?function(){return iterable}:getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0;if("function"!=typeof iterFn)throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn)){for(length=toLength(iterable.length);length>index;index++)if(result=entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]),result===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;)if(result=call(iterator,f,step.value,entries),result===BREAK||result===RETURN)return result};exports.BREAK=BREAK,exports.RETURN=RETURN},function(module,exports,__webpack_require__){var anObject=__webpack_require__(13);module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator["return"];throw void 0!==ret&&anObject(ret.call(iterator)),e}}},function(module,exports,__webpack_require__){var Iterators=__webpack_require__(52),ITERATOR=__webpack_require__(58)("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},function(module,exports,__webpack_require__){var classof=__webpack_require__(65),ITERATOR=__webpack_require__(58)("iterator"),Iterators=__webpack_require__(52);module.exports=__webpack_require__(8).getIteratorMethod=function(it){return void 0!=it?it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]:void 0}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(13),aFunction=__webpack_require__(10),SPECIES=__webpack_require__(58)("species");module.exports=function(O,D){var S,C=anObject(O).constructor;return void 0===C||void 0==(S=anObject(C)[SPECIES])?D:aFunction(S)}},function(module,exports,__webpack_require__){var defer,channel,port,ctx=__webpack_require__(9),invoke=__webpack_require__(73),html=__webpack_require__(56),cel=__webpack_require__(18),global=__webpack_require__(7),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,Dispatch=global.Dispatch,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},listener=function(event){run.call(event.data)};setTask&&clearTask||(setTask=function(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){invoke("function"==typeof fn?fn:Function(fn),args)},defer(counter),counter},clearTask=function(id){delete queue[id]},"process"==__webpack_require__(27)(process)?defer=function(id){process.nextTick(ctx(run,id,1))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(ctx(run,id,1))}:MessageChannel?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listener,defer=ctx(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(id){global.postMessage(id+"","*")},global.addEventListener("message",listener,!1)):defer=ONREADYSTATECHANGE in cel("script")?function(id){html.appendChild(cel("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run.call(id)}}:function(id){setTimeout(ctx(run,id,1),0)}),module.exports={set:setTask,clear:clearTask}},function(module,exports){module.exports=function(fn,args,that){var un=void 0===that;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)}},function(module,exports,__webpack_require__){var global=__webpack_require__(7),macrotask=__webpack_require__(72).set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode="process"==__webpack_require__(27)(process);module.exports=function(){var head,last,notify,flush=function(){var parent,fn;for(isNode&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(e){throw head?notify():last=void 0,e}}last=void 0,parent&&parent.enter()};if(isNode)notify=function(){process.nextTick(flush)};else if(!Observer||global.navigator&&global.navigator.standalone)if(Promise&&Promise.resolve){var promise=Promise.resolve(void 0);notify=function(){promise.then(flush)}}else notify=function(){macrotask.call(global,flush)};else{var toggle=!0,node=document.createTextNode("");new Observer(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}}return function(fn){var task={fn:fn,next:void 0};last&&(last.next=task),head||(head=task,notify()),last=task}}},function(module,exports,__webpack_require__){"use strict";function PromiseCapability(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aFunction(resolve),this.reject=aFunction(reject)}var aFunction=__webpack_require__(10);module.exports.f=function(C){return new PromiseCapability(C)}},function(module,exports){module.exports=function(exec){try{return{e:!1,v:exec()}}catch(e){return{e:!0,v:e}}}},function(module,exports,__webpack_require__){var global=__webpack_require__(7),navigator=global.navigator;module.exports=navigator&&navigator.userAgent||""},function(module,exports,__webpack_require__){var anObject=__webpack_require__(13),isObject=__webpack_require__(14),newPromiseCapability=__webpack_require__(75);module.exports=function(C,x){if(anObject(C),isObject(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C),resolve=promiseCapability.resolve;return resolve(x),promiseCapability.promise}},function(module,exports,__webpack_require__){var hide=__webpack_require__(11);module.exports=function(target,src,safe){for(var key in src)safe&&target[key]?target[key]=src[key]:hide(target,key,src[key]);return target}},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(7),core=__webpack_require__(8),dP=__webpack_require__(12),DESCRIPTORS=__webpack_require__(16),SPECIES=__webpack_require__(58)("species");module.exports=function(KEY){var C="function"==typeof core[KEY]?core[KEY]:global[KEY];DESCRIPTORS&&C&&!C[SPECIES]&&dP.f(C,SPECIES,{configurable:!0,get:function(){return this}})}},function(module,exports,__webpack_require__){var ITERATOR=__webpack_require__(58)("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter["return"]=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe}},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(6),core=__webpack_require__(8),global=__webpack_require__(7),speciesConstructor=__webpack_require__(71),promiseResolve=__webpack_require__(78);$export($export.P+$export.R,"Promise",{"finally":function(onFinally){var C=speciesConstructor(this,core.Promise||global.Promise),isFunction="function"==typeof onFinally;return this.then(isFunction?function(x){return promiseResolve(C,onFinally()).then(function(){return x})}:onFinally,isFunction?function(e){return promiseResolve(C,onFinally()).then(function(){throw e})}:onFinally)}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(6),newPromiseCapability=__webpack_require__(75),perform=__webpack_require__(76);$export($export.S,"Promise",{"try":function(callbackfn){var promiseCapability=newPromiseCapability.f(this),result=perform(callbackfn);return(result.e?promiseCapability.reject:promiseCapability.resolve)(result.v),promiseCapability.promise}})},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(85),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(86),module.exports=__webpack_require__(8).Object.keys},function(module,exports,__webpack_require__){var toObject=__webpack_require__(40),$keys=__webpack_require__(23);__webpack_require__(87)("keys",function(){return function(it){return $keys(toObject(it))}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(6),core=__webpack_require__(8),fails=__webpack_require__(17);module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _iterator=__webpack_require__(89),_iterator2=_interopRequireDefault(_iterator),_symbol=__webpack_require__(92),_symbol2=_interopRequireDefault(_symbol),_typeof="function"==typeof _symbol2["default"]&&"symbol"==typeof _iterator2["default"]?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof _symbol2["default"]&&obj.constructor===_symbol2["default"]&&obj!==_symbol2["default"].prototype?"symbol":typeof obj};exports["default"]="function"==typeof _symbol2["default"]&&"symbol"===_typeof(_iterator2["default"])?function(obj){return"undefined"==typeof obj?"undefined":_typeof(obj)}:function(obj){return obj&&"function"==typeof _symbol2["default"]&&obj.constructor===_symbol2["default"]&&obj!==_symbol2["default"].prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof(obj)}},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(90),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(48),__webpack_require__(60),module.exports=__webpack_require__(91).f("iterator")},function(module,exports,__webpack_require__){exports.f=__webpack_require__(58)},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(93),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(94),__webpack_require__(47),__webpack_require__(102),__webpack_require__(103),module.exports=__webpack_require__(8).Symbol},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(7),has=__webpack_require__(21),DESCRIPTORS=__webpack_require__(16),$export=__webpack_require__(6),redefine=__webpack_require__(51),META=__webpack_require__(95).KEY,$fails=__webpack_require__(17),shared=__webpack_require__(34),setToStringTag=__webpack_require__(57),uid=__webpack_require__(36),wks=__webpack_require__(58),wksExt=__webpack_require__(91),wksDefine=__webpack_require__(96),enumKeys=__webpack_require__(97),isArray=__webpack_require__(98),anObject=__webpack_require__(13),isObject=__webpack_require__(14),toIObject=__webpack_require__(25),toPrimitive=__webpack_require__(19),createDesc=__webpack_require__(20),_create=__webpack_require__(54),gOPNExt=__webpack_require__(99),$GOPD=__webpack_require__(101),$DP=__webpack_require__(12),$keys=__webpack_require__(23),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,PROTOTYPE="prototype",HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object[PROTOTYPE],USE_NATIVE="function"==typeof $Symbol,QObject=global.QObject,setter=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){
return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP(it,key,D),protoDesc&&it!==ObjectProto&&dP(ObjectProto,key,protoDesc)}:dP,wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol[PROTOTYPE]);return sym._k=tag,sym},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return it instanceof $Symbol},$defineProperty=function(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_create(D,{enumerable:createDesc(0,!1)})):(has(it,HIDDEN)||dP(it,HIDDEN,createDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP(it,key,D)},$defineProperties=function(it,P){anObject(it);for(var key,keys=enumKeys(P=toIObject(P)),i=0,l=keys.length;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$create=function(it,P){return void 0===P?_create(it):$defineProperties(_create(it),P)},$propertyIsEnumerable=function(key){var E=isEnum.call(this,key=toPrimitive(key,!0));return!(this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key)||(E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key])&&!E)},$getOwnPropertyDescriptor=function(it,key){if(it=toIObject(it),key=toPrimitive(key,!0),it!==ObjectProto||!has(AllSymbols,key)||has(OPSymbols,key)){var D=gOPD(it,key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function(it){for(var key,names=gOPN(toIObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result},$getOwnPropertySymbols=function(it){for(var key,IS_OP=it===ObjectProto,names=gOPN(IS_OP?OPSymbols:toIObject(it)),result=[],i=0;names.length>i;)!has(AllSymbols,key=names[i++])||IS_OP&&!has(ObjectProto,key)||result.push(AllSymbols[key]);return result};USE_NATIVE||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(arguments.length>0?arguments[0]:void 0),$set=function(value){this===ObjectProto&&$set.call(OPSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,createDesc(1,value))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)},redefine($Symbol[PROTOTYPE],"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,__webpack_require__(100).f=gOPNExt.f=$getOwnPropertyNames,__webpack_require__(39).f=$propertyIsEnumerable,__webpack_require__(38).f=$getOwnPropertySymbols,DESCRIPTORS&&!__webpack_require__(35)&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(name){return wrap(wks(name))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{"for":function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol!");for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))})),"JSON",{stringify:function(it){for(var replacer,$replacer,args=[it],i=1;arguments.length>i;)args.push(arguments[i++]);return $replacer=replacer=args[1],!isObject(replacer)&&void 0===it||isSymbol(it)?void 0:(isArray(replacer)||(replacer=function(key,value){return"function"==typeof $replacer&&(value=$replacer.call(this,key,value)),isSymbol(value)?void 0:value}),args[1]=replacer,_stringify.apply($JSON,args))}}),$Symbol[PROTOTYPE][TO_PRIMITIVE]||__webpack_require__(11)($Symbol[PROTOTYPE],TO_PRIMITIVE,$Symbol[PROTOTYPE].valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0)},function(module,exports,__webpack_require__){var META=__webpack_require__(36)("meta"),isObject=__webpack_require__(14),has=__webpack_require__(21),setDesc=__webpack_require__(12).f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!__webpack_require__(17)(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},fastKey=function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak=function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze=function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it},meta=module.exports={KEY:META,NEED:!1,fastKey:fastKey,getWeak:getWeak,onFreeze:onFreeze}},function(module,exports,__webpack_require__){var global=__webpack_require__(7),core=__webpack_require__(8),LIBRARY=__webpack_require__(35),wksExt=__webpack_require__(91),defineProperty=__webpack_require__(12).f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});"_"==name.charAt(0)||name in $Symbol||defineProperty($Symbol,name,{value:wksExt.f(name)})}},function(module,exports,__webpack_require__){var getKeys=__webpack_require__(23),gOPS=__webpack_require__(38),pIE=__webpack_require__(39);module.exports=function(it){var result=getKeys(it),getSymbols=gOPS.f;if(getSymbols)for(var key,symbols=getSymbols(it),isEnum=pIE.f,i=0;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result}},function(module,exports,__webpack_require__){var cof=__webpack_require__(27);module.exports=Array.isArray||function(arg){return"Array"==cof(arg)}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(25),gOPN=__webpack_require__(100).f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}};module.exports.f=function(it){return windowNames&&"[object Window]"==toString.call(it)?getWindowNames(it):gOPN(toIObject(it))}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(24),hiddenKeys=__webpack_require__(37).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(O){return $keys(O,hiddenKeys)}},function(module,exports,__webpack_require__){var pIE=__webpack_require__(39),createDesc=__webpack_require__(20),toIObject=__webpack_require__(25),toPrimitive=__webpack_require__(19),has=__webpack_require__(21),IE8_DOM_DEFINE=__webpack_require__(15),gOPD=Object.getOwnPropertyDescriptor;exports.f=__webpack_require__(16)?gOPD:function(O,P){if(O=toIObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}return has(O,P)?createDesc(!pIE.f.call(O,P),O[P]):void 0}},function(module,exports,__webpack_require__){__webpack_require__(96)("asyncIterator")},function(module,exports,__webpack_require__){__webpack_require__(96)("observable")},function(module,exports,__webpack_require__){function isUndefinedOrNull(value){return null===value||void 0===value}function isBuffer(x){return!(!x||"object"!=typeof x||"number"!=typeof x.length||"function"!=typeof x.copy||"function"!=typeof x.slice||x.length>0&&"number"!=typeof x[0])}function objEquiv(a,b,opts){var i,key;if(isUndefinedOrNull(a)||isUndefinedOrNull(b))return!1;if(a.prototype!==b.prototype)return!1;if(isArguments(a))return!!isArguments(b)&&(a=pSlice.call(a),b=pSlice.call(b),deepEqual(a,b,opts));if(isBuffer(a)){if(!isBuffer(b))return!1;if(a.length!==b.length)return!1;for(i=0;i<a.length;i++)if(a[i]!==b[i])return!1;return!0}try{var ka=objectKeys(a),kb=objectKeys(b)}catch(e){return!1}if(ka.length!=kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;i>=0;i--)if(ka[i]!=kb[i])return!1;for(i=ka.length-1;i>=0;i--)if(key=ka[i],!deepEqual(a[key],b[key],opts))return!1;return typeof a==typeof b}var pSlice=Array.prototype.slice,objectKeys=__webpack_require__(105),isArguments=__webpack_require__(106),deepEqual=module.exports=function(actual,expected,opts){return opts||(opts={}),actual===expected||(actual instanceof Date&&expected instanceof Date?actual.getTime()===expected.getTime():!actual||!expected||"object"!=typeof actual&&"object"!=typeof expected?opts.strict?actual===expected:actual==expected:objEquiv(actual,expected,opts))}},function(module,exports){function shim(obj){var keys=[];for(var key in obj)keys.push(key);return keys}exports=module.exports="function"==typeof Object.keys?Object.keys:shim,exports.shim=shim},function(module,exports){function supported(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function unsupported(object){return object&&"object"==typeof object&&"number"==typeof object.length&&Object.prototype.hasOwnProperty.call(object,"callee")&&!Object.prototype.propertyIsEnumerable.call(object,"callee")||!1}var supportsArgumentsClass="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();exports=module.exports=supportsArgumentsClass?supported:unsupported,exports.supported=supported,exports.unsupported=unsupported},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function number(value){var patt_number=/(^-?[0-9]+$)/;return patt_number.test(value)&&_.isFinite(parseInt(value))}function ipv4(ip){var re=new RegExp("^(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])){3}$");return re.test(ip)}function ipv4Network(value){if(!_.isString(value))return!1;var arr=value.split("/");if(2!=arr.length)return!1;var ip=arr[0],mask=castToNumber(arr[1]);return!!ipv4(ip)&&!!ipv4Prefix(mask)}function ipv4Prefix(prefix){var input=_.isString(prefix)?Number(prefix):prefix;return!_.isNaN(input)&&input>=0&&32>=input}function ipv6(ip){var re=new RegExp(/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/);return re.test(ip)}function ipv6Network(value){if(!_.isString(value))return!1;var arr=value.split("/");if(2!=arr.length)return!1;var ip=arr[0],mask=castToNumber(arr[1]);return!(!ipv6(ip)||!_.isNumber(mask)||_.isNaN(mask)||0>mask||mask>128)}function ipv6Prefix(prefix){var re=/^(0|[1-9]|[1-9][0-9]|1[0-2][0-8])$/;return re.test(prefix)}function mask(msk){var re=/^(((255\.){3}(255|254|252|248|240|224|192|128|0))|((255\.){2}(255|254|252|248|240|224|192|128|0)\.0)|((255\.)(255|254|252|248|240|224|192|128|0)(\.0){2})|((255|254|252|248|240|224|192|128|0)(\.0){3}))$/;return re.test(msk)}function mac(value){var patt_mac=/^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/;return patt_mac.test(value)}function isPort(port){var minValue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,maxValue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:65535;return port=_.isString(port)?castToNumber(port):port,!(!_.isNumber(port)||_.isNaN(port)||minValue>port||port>maxValue)}function domain(host,opts){opts=opts||{};var regDomain=/^([a-zA-Z0-9--]([--a-zA-Z0-9\-]{0,61}[--a-zA-Z0-9])?\.)+[--a-zA-Z]{2,6}$/,regDomainNoCyrillic=/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/;return!host.length||(host=host.replace(/(^\s+|\s+$)/g,""),opts.noCyrillic?regDomainNoCyrillic.test(host):regDomain.test(host))}function hostname(value){var regHostnameWithDomain=/^([a-zA-Z0-9--]([--a-zA-Z0-9\-]{0,61}[--a-zA-Z0-9])?\.)+[--a-zA-Z]{2,6}$/,regHostname=/^([a-zA-Z0-9--]([--a-zA-Z0-9\-]{0,61}[--a-zA-Z0-9])?)$/;return!value.length||(value=value.replace(/(^\s+|\s+$)/g,""),_.contains(value,".")?regHostnameWithDomain.test(value):regHostname.test(value))}function castToNumber(value){var patt=/^[0-9]*$/;return value=value.match(/\S+/),value&&patt.test(value[0])?parseInt(value[0]):0/0}function RPCSuccess(response){var successStatuses=[11,12,13,20,24];return"object"===("undefined"==typeof response?"undefined":_typeof3["default"](response))&&"status"in response&&!!~successStatuses.indexOf(response.status)}function allRPCSuccess(response){return"object"===("undefined"==typeof response?"undefined":_typeof3["default"](response))&&("rq"in response?response.rq.every(RPCSuccess):RPCSuccess(response))}function RPCTryLater(response){return"object"===("undefined"==typeof response?"undefined":_typeof3["default"](response))&&"status"in response&&65==response.status}function somovdRequest(request,method,params){function hasParam(elem,params){return _.every(params,function(value,key){return elem[key]&&(elem[key]==value||_.isObject(value)&&_.isEqual(elem[key],value))})}var somovdUrl=["/jsonrpc","/dcc_somovd.cgi"];if(!_.contains(somovdUrl,request.config.url))return!1;var data=request.data||request.config.data;return _.isArray(data)||(data=[data]),_.some(data,function(elem){return elem.method==method&&hasParam(elem.params,params)})}function silentSomovdRequest(request){var somovdUrl=["/jsonrpc","/dcc_somovd.cgi"];if(!_.contains(somovdUrl,request.config.url))return!1;var data=request.data||request.config.data;return _.isArray(data)||(data=[data]),!_.some(data,function(elem){var options=elem.params?elem.params.options:void 0;return!options||!options.silent})}var _typeof2=__webpack_require__(88),_typeof3=_interopRequireDefault(_typeof2),_=__webpack_require__(41),is={number:number,ipv4:ipv4,ipv4Network:ipv4Network,ipv4Prefix:ipv4Prefix,ipv6:ipv6,ipv6Network:ipv6Network,ipv6Prefix:ipv6Prefix,mask:mask,mac:mac,port:isPort,domain:domain,hostname:hostname,RPCSuccess:RPCSuccess,allRPCSuccess:allRPCSuccess,RPCTryLater:RPCTryLater,somovdRequest:somovdRequest,silentSomovdRequest:silentSomovdRequest};module.exports=is},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(41),is=__webpack_require__(107);module.exports=function(){var address=function(){function compare(addr1,addr2){for(var arrAddr1=addr1.split("."),arrAddr2=addr2.split("."),i=0;i<arrAddr1.length;i++){var partAddr1=arrAddr1[i],partAddr2=arrAddr2[i];if(parseInt(partAddr1)<parseInt(partAddr2))return-1;if(parseInt(partAddr1)>parseInt(partAddr2))return 1}return 0}function and(addr1,addr2){return bitOperation(addr1,addr2,"and")}function or(addr1,addr2){return bitOperation(addr1,addr2,"or")}function not(addr){for(var bits=toBits(addr),result="",index=0;index<bits.length;index++){var bit=bits[index];"."==bit&&(result+="."),"1"==bit&&(result+="0"),"0"==bit&&(result+="1")}return fromBits(result)}function inc(addr){for(var arrAddr=addr.split("."),index=3;index>=0;--index){if("255"!=arrAddr[index]){arrAddr[index]=(parseInt(arrAddr[index])+1).toString();break}arrAddr[index]="0"}return arrAddr.join(".")}function dec(addr){for(var arrAddr=addr.split("."),index=3;index>=0;--index){if("0"!=arrAddr[index]){arrAddr[index]=(parseInt(arrAddr[index])-1).toString();break}arrAddr[index]="255"}return arrAddr.join(".")}function toBits(addr){if(!addr)return"";var arrAddr=addr.split(".");return _.map(arrAddr,function(partAddr){for(var bits=parseInt(partAddr).toString(2);bits.length<8;)bits="0"+bits;return bits}).join(".")}function fromBits(bits){var arrBits=bits.split(".");return _.map(arrBits,function(partBits){return parseInt(partBits,2).toString()}).join(".")}function bitOperation(addr1,addr2,operation){var arrAddr1=addr1.split("."),arrAddr2=addr2.split(".");return _.map(arrAddr1,function(partAddr1,index){var result,partAddr2=arrAddr2[index],intPartAddr1=parseInt(partAddr1),intPartAddr2=parseInt(partAddr2);return result="and"==operation?intPartAddr1&intPartAddr2:"or"==operation?intPartAddr1|intPartAddr2:0,result.toString()}).join(".")}return{compare:compare,and:and,or:or,not:not,inc:inc,dec:dec,toBits:toBits,fromBits:fromBits}}(),mask=function(address){function short(msk){var reg=/\.|0/gi,bits=address.toBits(msk),len=bits.replace(reg,"").length;return len.toString()}function long(msk){function byOctet(msk){for(var result="",i=1;32>=i;i++){var value=i>parseInt(msk)?"0":"1";result+=value,32==i||i%8||(result+=".")}return result}var bits=byOctet(msk);return address.fromBits(bits)}function wildcard(msk){return address.not(msk)}function hosts(msk){var reg=/\.|0+/gi,wild=wildcard(msk),str=address.toBits(wild).replace(reg,"");return str?parseInt(str,2)-1:0}function range(start,end){var result=[];if(!is.mask(start)||!is.mask(end))return result;if(-1!=address.compare(start,end))return result;var current=start;do result.push(current),current=next(current),current==end&&result.push(current);while(current!=end);return result}function next(msk){function getIncIndex(bits){for(var inx=0;inx<bits.length;inx++)if("11111111"!=bits[inx])return inx}function incOctet(octet){function replacer(str,p1,p2,offset,s){return p1?p1+"1":p2.replace(/0/,"1")}var regexp=/(1*)(0)/;return octet.replace(regexp,replacer)}var str=address.toBits(msk),bits=str.split("."),inx=getIncIndex(bits);return bits[inx]=incOctet(bits[inx]),address.fromBits(bits.join("."))}return{"short":short,"long":long,wildcard:wildcard,hosts:hosts,range:range}}(address),subnet=function(address,mask){function getNetworkAddress(addr,msk){return address.and(addr,msk)}function getBroadcastAddress(addr,msk){var wildcard=mask.wildcard(msk);return address.or(addr,wildcard)}function checkReserved(addr,msk){if(!is.ipv4(addr)||!is.mask(msk))return null;var network=getNetworkAddress(addr,msk),broadcast=getBroadcastAddress(addr,msk);if(addr==network)return"network";if(addr==broadcast)return"broadcast";switch(network){case"0.0.0.0":return"defroute";case"127.0.0.0":return"loopback";case"169.254.0.0":return"linklocal";case"240.0.0.0":return"future";case"192.88.99.0":return"anycast";case"224.0.0.0":return"multicast"}return null}function getNetworkRange(addr,msk){if(isHost(msk))return{start:addr,end:addr};var network=getNetworkAddress(addr,msk),broadcast=getBroadcastAddress(addr,msk),start=address.inc(network),end=start==broadcast?broadcast:address.dec(broadcast);return{start:start,end:end}}function getNetwork(addr,mask){return isHost(mask)?{net:addr,mask:mask}:{net:getNetworkAddress(addr,mask),mask:mask}}function belongNetworkRange(range,addr){return 1!=address.compare(range.start,addr)&&-1!=address.compare(range.end,addr)}function belongNetwork(net,addr,mask){return address.and(addr,mask)==net}function containsNetwork(network1,network2){var range1=getNetworkRange(network1.ip,network1.mask),range2=getNetworkRange(network2.ip,network2.mask);return belongNetworkRange(range1,range2.start)&&belongNetworkRange(range1,range2.end)}function splitNetworkRange(range,addr){var result=[];return 0==address.compare(range.start,addr)?result.push({start:address.inc(addr),end:range.end}):0==address.compare(range.end,addr)?result.push({start:range.start,end:address.dec(addr)}):(result.push({start:range.start,end:address.dec(addr)}),result.push({start:address.inc(addr),end:range.end})),result}function replaceNetworkRange(curRange,needRange,curLanIp){var result=[],resultObj={},arrStartIpCurRange=curRange.start.split("."),arrEndIpCurRange=curRange.end.split("."),arrStartIpNeedRange=needRange.start.split("."),arrEndIpNeedRange=needRange.end.split("."),arrCurLanIp=curLanIp?curLanIp.split("."):[];return curLanIp&&arrCurLanIp[3]==arrStartIpNeedRange[3]&&(resultObj.start=curRange.start),curLanIp&&arrCurLanIp[3]==arrEndIpNeedRange[3]&&(resultObj.end=curRange.end),arrStartIpCurRange[3]=arrStartIpNeedRange[3],arrEndIpCurRange[3]=arrEndIpNeedRange[3],resultObj.start||(resultObj.start=arrStartIpCurRange.join(".")),resultObj.end||(resultObj.end=arrEndIpCurRange.join(".")),result.push(belongNetworkRange(curRange,resultObj.start)&&belongNetworkRange(curRange,resultObj.end)?resultObj:curRange),result}function getNetworkClass(addr){if(!is.ipv4(addr))return null;var first=_.first(addr.split("."));return first>=0&&128>first?"A":first>=128&&192>first?"B":first>=192&&224>first?"C":first>=224&&240>first?"D":"E"}function isHost(msk){return"255.255.255.255"==msk}return{getNetworkAddress:getNetworkAddress,getBroadcastAddress:getBroadcastAddress,checkReserved:checkReserved,getNetworkRange:getNetworkRange,containsNetwork:containsNetwork,belongNetworkRange:belongNetworkRange,splitNetworkRange:splitNetworkRange,getNetworkClass:getNetworkClass,belongNetwork:belongNetwork,getNetwork:getNetwork,replaceNetworkRange:replaceNetworkRange}}(address,mask);return{address:address,mask:mask,subnet:subnet}}()},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(41),is=__webpack_require__(107);module.exports=function(){var address=function(){function compare(addr1,addr2){for(var arrAddr1=full(addr1).split(":"),arrAddr2=full(addr2).split(":"),i=0;i<arrAddr1.length;i++){var partAddr1=arrAddr1[i],partAddr2=arrAddr2[i];if(parseInt(partAddr1,16)<parseInt(partAddr2,16))return-1;if(parseInt(partAddr1,16)>parseInt(partAddr2,16))return 1}return 0}function isShort(addr){return 39!=addr.length}function full(addr){var arrAddr=addr.split(":"),arrResult=[],shortLen=8-_.compact(arrAddr).length;return _.each(arrAddr,function(elem,index){if(""!=elem){for(;elem.length<4;)elem="0"+elem;arrResult.push(elem)}else for(;shortLen;)arrResult.push("0000"),--shortLen}),arrResult.join(":")}function short(addr){function findLongestZeroSeq(addr){var sequences=addr.match(/((^|:)0)+/g);return sequences?_.max(sequences,function(seq){return seq.length}):null}var workAddr=_.clone(addr);workAddr=workAddr.replace(/([0-9a-f]+)(?=(:|$))/gi,function(octet){return octet=octet.replace(/^0{1,3}/,"")});var zeroSequence=findLongestZeroSeq(workAddr);return _.isNull(zeroSequence)?workAddr:(workAddr=workAddr.replace(zeroSequence,"::"),workAddr.replace(/\:{2,}/,"::"))}function inc(addr){var isAddrShort=isShort(addr);isAddrShort&&(addr=full(addr));for(var arrAddr=addr.split(":"),index=7;index>=0;--index){if("ffff"!=arrAddr[index]){arrAddr[index]=(parseInt(arrAddr[index],16)+1).toString(16);break}arrAddr[index]="0000"}var result=arrAddr.join(":");return isAddrShort?short(result):result}function dec(addr){var isAddrShort=isShort(addr);isAddrShort&&(addr=full(addr));for(var arrAddr=addr.split(":"),index=7;index>=0;--index){if("0000"!=arrAddr[index]){for(arrAddr[index]=(parseInt(arrAddr[index],16)-1).toString(16);arrAddr[index].length<4;)arrAddr[index]="0"+arrAddr[index];break}arrAddr[index]="ffff"}var result=arrAddr.join(":");return isAddrShort?short(result):result}function toBits(addr){var arrAddr=full(addr).split(":");return _.map(arrAddr,function(partAddr){for(var bits=parseInt(partAddr,16).toString(2);bits.length<16;)bits="0"+bits;return bits}).join(":")}function fromBits(bits){var arrBits=bits.split(":"),result=_.map(arrBits,function(partBits){for(var partAddr=parseInt(partBits,2).toString(16);partAddr.length<4;)partAddr="0"+partAddr;return partAddr}).join(":");return short(result)}function and(addr1,addr2){return bitOperation(addr1,addr2,"and")}function or(addr1,addr2){return bitOperation(addr1,addr2,"or")}function bitOperation(addr1,addr2,operation){function extendHex(arr){return _.map(arr,function(elem){for(;elem.length<4;)elem="0"+elem;return elem})}var arrAddr1=addr1.split(":"),arrAddr2=addr2.split(":"),res=_.map(arrAddr1,function(partAddr1,index){var result,partAddr2=arrAddr2[index],intPartAddr1=parseInt(partAddr1,16),intPartAddr2=parseInt(partAddr2,16);return result="and"==operation?intPartAddr1&intPartAddr2:"or"==operation?intPartAddr1|intPartAddr2:0,result.toString(16)});return res=extendHex(res),res.join(":")}return{compare:compare,isShort:isShort,full:full,"short":short,inc:inc,dec:dec,toBits:toBits,fromBits:fromBits,and:and,or:or}}(),prefix=function(address){function toHex(prefix){for(var total=prefix/4,rest=prefix%4,result=[],octet="",i=1;32>=i;++i){if(total)octet+="f",total--;else switch(rest){case 1:octet+="8",rest=0;break;case 2:octet+="c",rest=0;break;case 3:octet+="e",rest=0;break;default:octet+="0"}i%4==0&&(result.push(octet),octet="")}return result.join(":")}function not(prefix){var prefixArr=prefix.split(":"),result=[];return _.each(prefixArr,function(elem){for(var octet="",i=0;4>i;++i)switch(elem[i]){case"f":octet+="0";break;case"e":octet+="1";break;case"c":octet+="3";break;case"8":octet+="7";break;case"0":octet+="f"}result.push(octet)}),result.join(":")}return{toHex:toHex,not:not}}(address),subnet=function(address,prefix){function getNetworkAddress(addr,prefix){return prefixMask(addr,prefix,!1)}function checkReserved(addr,prefix){if(!is.ipv6(addr)||!is.ipv6Prefix(prefix))return null;var network=getNetworkAddress(addr,prefix);if(network==addr)return"network";var shortNetwork=address["short"](network);switch(shortNetwork){case"::":return"defroute";case"::1":return"loopback";case"2001:db8::":return"reserved";case"fc00::":return"anycast";case"ff00::":return"multicast"}return null}function getNetworkRange(addr,prefix){var start=prefixMask(addr,prefix,!1),end=prefixMask(start,prefix,!0);return{start:address.inc(start),end:end}}function getNetwork(addr,prefix){var subnet=prefixMask(addr,prefix,!1);return{net:subnet,prefix:prefix}}function belongNetworkRange(range,addr){return 1!=address.compare(range.start,addr)&&-1!=address.compare(range.end,addr)}function belongNetwork(net,addr,prefix){var addrNet=getNetwork(addr,prefix,!1);return addrNet.net==net}function containsNetwork(network1,network2){var range1=getNetworkRange(network1.ip,network1.prefix),range2=getNetworkRange(network2.ip,network2.prefix);return belongNetworkRange(range1,range2.start)&&belongNetworkRange(range1,range2.end)}function splitNetworkRange(range,addr){var result=[];return 0==address.compare(range.start,addr)?result.push({start:address.inc(addr),end:range.end}):0==address.compare(range.end,addr)?result.push({start:range.start,end:address.dec(addr)}):(result.push({start:range.start,end:address.dec(addr)}),result.push({start:address.inc(addr),end:range.end})),result}function prefixMask(addr,prefix,invert){var isAddrShort=address.isShort(addr);isAddrShort&&(addr=address.full(addr));for(var bits=address.toBits(addr),prefix=parseInt(prefix),result="",len=0,index=0;index<bits.length;index++){var bit=bits[index];":"!=bit?(result+=len>=prefix?invert?"1":"0":bit,len+=1):result+=":"}var result=address.fromBits(result);return result}return{getNetworkAddress:getNetworkAddress,checkReserved:checkReserved,getNetworkRange:getNetworkRange,belongNetworkRange:belongNetworkRange,containsNetwork:containsNetwork,splitNetworkRange:splitNetworkRange,belongNetwork:belongNetwork,getNetwork:getNetwork}}(address,prefix);return{address:address,subnet:subnet,prefix:prefix}}()},function(module,exports,__webpack_require__){"use strict";var _=(__webpack_require__(43),__webpack_require__(41));module.exports=function(){function getModeName(mode,standards,modeAvailable){var modes=_.indexBy(getTempModes(modeAvailable,standards),"value");return modes[mode]?modes[mode].name:""}function getTempModes(modeAvailable,standards){var currentStandard,currentMode,stList=getStandardsList(),tempM=[],countOfWEP=0;return currentStandard=stList.find(function(s){return s.value==standards}),currentMode=currentStandard&&modeAvailable.find(function(m){return m.Name==currentStandard.name}),currentMode&&currentMode.AuthAvail&&currentMode.AuthAvail.forEach(function(item){~item.Id.indexOf("WEP")||!item.Id.indexOf("SHARED")?++countOfWEP:tempM.push(getModesById(item.Id))}),countOfWEP>0&&tempM.splice(1,0,{name:"WEP",value:"WEP"}),tempM}function getPMFList(standards,mode,modeAvailable){var stList=getStandardsList(),currentStName="",currentModeValue="";_.each(stList,function(elem){elem.value==standards&&(currentStName=elem.name)}),currentModeValue=getModeIdByValue(mode);var currentMode=_.find(modeAvailable,function(elem){return elem.Name==currentStName}),currentAuth=_.find(currentMode.AuthAvail,function(elem){return elem.Id==currentModeValue}),pmfList=currentAuth?currentAuth.PMFAvailable:[];return pmfList}function getDefaultKeysID(){return["1","2","3","4"]}function getEncrypTypes(point,standards,modeAvailable){if(!point&&!point.Security)return[];var currentStandard,currentMode,mode=point.Security.ModeEnabled,modeId=getModeIdByValue(mode),stList=getStandardsList(),tempM=[];currentStandard=stList.find(function(s){return s.value==standards}),currentMode=currentStandard&&modeAvailable.find(function(m){return m.Name==currentStandard.name}),currentMode&&currentMode.AuthAvail&&currentMode.AuthAvail.forEach(function(item){~item.Id.indexOf("WEP")&&"WEP"==modeId?tempM=item.EncrAvailable:modeId==item.Id&&(tempM=item.EncrAvailable)});var encrypTypesList=angular.copy(tempM);if(_.contains(encrypTypesList,"TKIPAES")){var index=encrypTypesList.indexOf("TKIPAES");encrypTypesList[index]="TKIP+AES"}return encrypTypesList}function getEncrypTypesClient(point){if(!point&&!point.Security)return[];var mode=point.Security.ModeEnabled,openWEP=point.Security.OpenWEP;if("None"==mode&&openWEP)return["WEP"];switch(mode){case"None":return["NONE"];case"WEP":return["WEP"];case"WPA-Personal":case"WPA2-Personal":case"WPA-WPA2-Personal":return["TKIP","AES","TKIP+AES"];case"WPA3":case"WPA2-WPA3":return["AES"]}return[]}function checkSecurityType(type,point,standards,modeAvailable){if(!point||!point.Security)return!1;var mode=point.Security.ModeEnabled,enableWEP=point.Security.OpenWEP,encrypType=getEncrypTypes(point,standards,modeAvailable);switch(type){case"enableWEP":return"None"==mode&&(!standards||-1!=_.indexOf(encrypType,"WEP"));case"WEP":return"WEP"==mode||"None"==mode&&enableWEP&&(!standards||-1!=_.indexOf(encrypType,"WEP"));case"PSK":return"WPA-Personal"==mode||"WPA2-Personal"==mode||"WPA-WPA2-Personal"==mode||"WPA3"==mode||"WPA2-WPA3"==mode;case"Enterprise":return"WPA-Enterprise"==mode||"WPA2-Enterprise"==mode||"WPA-WPA2-Enterprise"==mode;default:return!1}}function isOpen(point,standards,modeAvailable){if(!point||!point.Security)return!1;var mode=point.Security.ModeEnabled,enableWEP=point.Security.OpenWEP,encrypType=getEncrypTypes(point,standards,modeAvailable);return"WEP"!=encrypType[0]?"None"==mode:"None"==mode&&!enableWEP}function validPSKKey(pskKey){if(pskKey){if(!(pskKey.length>=8&&pskKey.length<=63))return"msg_invalid_password_length";if(!/^[^--]+$/g.test(pskKey))return"wifi_invalid_psk_cyrill";if(!/^[\x20-\x7E]+$/g.test(pskKey))return"msg_password_contains_illegal";
}return null}function validRadiusParamLen(radiusParam,paramIdent){return radiusParam.length>64?"msg_input_lenght_more_max":null}function checkKeyLen(wepKey,hexkey,keysLen){return keysLen&&"PROTECTED-ad2f4833"==wepKey?hexkey?10!=keysLen&&26!=keysLen:5!=keysLen&&13!=keysLen:hexkey?10!=wepKey.length&&26!=wepKey.length:5!=wepKey.length&&13!=wepKey.length}function getErrorMsg(hexkey){var msg="wifi_invalid_wep";return hexkey&&(msg+="_hex"),msg}function isWEP(sec){return"WEP"==sec.ModeEnabled||"None"==sec.ModeEnabled&&sec.OpenWEP}function getWEPKeyLenMessage(point){var security=point.Security;if(!isWEP(security))return null;var hexkey=security.WEPasHEX;return getErrorMsg(hexkey)}function validWEPKey(wepKey,point){var security=point.Security;if(!isWEP(security)||wepKey&&0==wepKey.length)return null;var hexkey=security.WEPasHEX,keysLen=security.WEPKeysLength;return wepKey&&checkKeyLen(wepKey,hexkey,keysLen)?"wifi_invalid_key_format":isNotEqualLength(wepKey,security)?"wifi_wep_keys_length_not_equal":null}function isNotEqualLength(wepKey,security){var curKeyLen=(security.WEPasHEX,"PROTECTED-ad2f4833"==wepKey?security.WEPKeysLength:wepKey.length),keyLen1="PROTECTED-ad2f4833"==security.WEPKey1?security.WEPKeysLength:security.WEPKey1.length,keyLen2="PROTECTED-ad2f4833"==security.WEPKey2?security.WEPKeysLength:security.WEPKey2.length,keyLen3="PROTECTED-ad2f4833"==security.WEPKey3?security.WEPKeysLength:security.WEPKey3.length,keyLen4="PROTECTED-ad2f4833"==security.WEPKey4?security.WEPKeysLength:security.WEPKey4.length,needCheck=!(5!=curKeyLen&&10!=curKeyLen&&13!=curKeyLen&&26!=curKeyLen||5!=keyLen1&&10!=keyLen1&&13!=keyLen1&&26!=keyLen1||5!=keyLen2&&10!=keyLen2&&13!=keyLen2&&26!=keyLen2||5!=keyLen3&&10!=keyLen3&&13!=keyLen3&&26!=keyLen3||5!=keyLen4&&10!=keyLen4&&13!=keyLen4&&26!=keyLen4);return!!needCheck&&0!=curKeyLen&&0!=keyLen1&&0!=keyLen2&&0!=keyLen3&&0!=keyLen4&&(curKeyLen!=keyLen1||curKeyLen!=keyLen2||curKeyLen!=keyLen3||curKeyLen!=keyLen4)}function supportedStandards(standarts){if(!standarts)return{};var result={},stList=getStandardsList(),stSupported=standarts.split(",");return _.each(stList,function(elem){var arrValue=elem.value.split(",");_.difference(arrValue,stSupported).length||(result[elem.value]=elem.name)}),result}function getStandardsList(){return[{name:"802.11 A",value:"a"},{name:"802.11 B",value:"b"},{name:"802.11 G",value:"g"},{name:"802.11 N",value:"n"},{name:"802.11 AC",value:"ac"},{name:"802.11 B/G mixed",value:"bg"},{name:"802.11 G/N mixed",value:"gn"},{name:"802.11 B/G/N mixed",value:"bgn"},{name:"802.11 B/G/N mixed + 256QAM",value:"bgnac"},{name:"802.11 A/N mixed",value:"an"},{name:"802.11 AC/N mixed",value:"acn"},{name:"802.11 AC/A/N mixed",value:"acan"},{name:"802.11 A/N/AC mixed",value:"anac"},{name:"802.11 N/AC mixed",value:"nac"},{name:"802.11 B/G/N/AX mixed",value:"bgnax"},{name:"802.11 A/N/AC/AX mixed",value:"anacax"}]}function getModesById(mode){switch(mode){case"NONE":case"OPEN":return{name:"Open",value:"None"};case"SHARED":case"WEP":return{name:"WEP",value:"WEP"};case"WPA":return{name:"WPA",value:"WPA-Enterprise"};case"WPA2":return{name:"WPA2",value:"WPA2-Enterprise"};case"WPA1WPA2":return{name:"WPA/WPA2 mixed",value:"WPA-WPA2-Enterprise"};case"WPAPSK":return{name:"WPA-PSK",value:"WPA-Personal"};case"WPA2PSK":return{name:"WPA2-PSK",value:"WPA2-Personal"};case"WPAPSKWPA2PSK":case"WPA1PSKWPA2PSK":return{name:"WPA-PSK/WPA2-PSK mixed",value:"WPA-WPA2-Personal"};case"WPA3SAE":return{name:"WPA3-SAE",value:"WPA3"};case"WPA2PSKWPA3SAE":return{name:"WPA2-PSK/WPA3-SAE mixed",value:"WPA2-WPA3"};default:return"Unknown"}}function getModeIdByValue(mode){switch(mode){case"None":return"OPEN";case"Open":return"OPEN";case"WEP":return"WEP";case"Shared":return"WEP";case"WPA-Enterprise":return"WPA";case"WPA2-Enterprise":return"WPA2";case"WPA-WPA2-Enterprise":return"WPA1WPA2";case"WPA-Personal":return"WPAPSK";case"WPA2-Personal":return"WPA2PSK";case"WPA-WPA2-Personal":return"WPAPSKWPA2PSK";case"WPA3":return"WPA3SAE";case"WPA2-WPA3":return"WPA2PSKWPA3SAE";default:return"Unknown"}}return{getModeName:getModeName,getTempModes:getTempModes,getPMFList:getPMFList,getEncrypTypes:getEncrypTypes,getEncrypTypesClient:getEncrypTypesClient,getDefaultKeysID:getDefaultKeysID,checkSecurityType:checkSecurityType,isOpen:isOpen,validPSKKey:validPSKKey,validWEPKey:validWEPKey,validRadiusParamLen:validRadiusParamLen,getWEPKeyLenMessage:getWEPKeyLenMessage,supportedStandards:supportedStandards,getErrorMsg:getErrorMsg}}()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _typeof2=__webpack_require__(88),_typeof3=_interopRequireDefault(_typeof2),funcs=__webpack_require__(44),_=__webpack_require__(41);module.exports=function(){function makeDiff(config,compared,attrs,_storageObj){function buildDiffTree(config,compared,attrs,storageObj,rootPath){function updateDeepLink(mapLinks,curPath,oldPath){var keys=_.sortBy(_.keys(mapLinks),function(o){return-o.split(".").length});return _.find(keys,function(key){var value=mapLinks[key];return 0==curPath.indexOf(key)?(curPath=value+curPath.slice(key.length),!0):void 0}),curPath}function setNewValues(output,compared,newKeys,attrs,storageObj,rootPath){_.each(newKeys,function(key){var value=compared[key],newKey=isTemplate(attrs)?"+"+ ++storageObj.num:key,oldPath=rootPath+key+".",curPath=rootPath+newKey+".";if(oldPath!=curPath&&(storageObj.mapLinks[oldPath]=updateDeepLink(storageObj.mapLinks,curPath,oldPath)),_.isObject(value)){var defaultModel=getDefaultModel(attrs,key);output[newKey]=buildDiffTree(defaultModel,value,getAttrsRoot(attrs,key),storageObj,oldPath)}else output[newKey]=value})}function updateValues(output,config,compared,keys,attrs,storageObj,rootPath){_.each(keys,function(key){var configValue=config[key],compareValue=compared[key],curPath=rootPath+key+".";if(_.isObject(compareValue)){var changes=buildDiffTree(configValue,compareValue,getAttrsRoot(attrs,key),storageObj,curPath);_.isEmpty(changes)||(output[key]=changes)}else{if(_.isEqual(configValue,compareValue))return;output[key]=compareValue}})}function removeValues(output,config,attrs,removeKeys){isTemplate(attrs)&&_.each(removeKeys,function(key){var newKey="-"+key;output[newKey]=unsetLinkModel(config[key],attrs["#template"])})}function changeOrder(output,config,compared){config.order&&compared.order&&(funcs.deepEqual(config.order,compared.order)||(output.order=compared.order))}var output={},configKeys=getKeysWithoutServiceKeys(config),comparedKeys=getKeysWithoutServiceKeys(compared),newKeys=_.difference(comparedKeys,configKeys),removeKeys=_.difference(configKeys,comparedKeys),commonKeys=_.intersection(configKeys,comparedKeys);return setNewValues(output,compared,newKeys,attrs,storageObj,rootPath),updateValues(output,config,compared,commonKeys,attrs,storageObj,rootPath),removeValues(output,config,attrs,removeKeys),changeOrder(output,config,compared),output}function updateLinks(diff,mapLinks,rootPath){function getPartialLink(mapLinks,value){var partialLink="";for(var i in mapLinks)-1!=value.indexOf(i)&&(partialLink=i);return partialLink}rootPath||(rootPath=""),_.each(diff,function(value,key){if("order"==key)_.each(value,function(inst,index){var link=rootPath+inst+".";if(mapLinks[link]){var newLink=mapLinks[link].split("."),newInst=newLink[newLink.length-2];value[index]=newInst}});else if(_.isObject(value)){var newRootPath=rootPath+key+".";updateLinks(diff[key],mapLinks,newRootPath)}else if(mapLinks[value])diff[key]=mapLinks[value];else if("string"==typeof value){var partialLink=getPartialLink(mapLinks,value);if(""!=partialLink){var endLink=value.slice(partialLink.length);diff[key]=mapLinks[partialLink]+endLink}}})}function isTemplate(obj){return _.has(obj,"#template")}function isServiceKey(key){return _.contains(["max_instance","order"],key)}function getDefaultModel(attrs,key){return funcs.fetchBranch(attrs,key+".#attr.default.")||{}}function getAttrsRoot(attrs,key){var result=isTemplate(attrs)?attrs["#template"]:attrs[key];return result||{}}function getKeysWithoutServiceKeys(obj){return _.keys(_.omit(obj,"max_instance","order"))}function unsetLinkModel(config,attrs){var result={};return _.each(attrs,function(attr,key){return"link"==attr.type&&"readOnly"!=attr.access?void(result[key]=""):isTemplate(attr)?(result[key]={},void _.each(config[key],function(obj,inst){isServiceKey(inst)||(result[key][inst]=unsetLinkModel(obj,attr["#template"]))})):void 0}),result}var storageObj=_.isUndefined(_storageObj)?{num:0,mapLinks:{}}:_storageObj,output=buildDiffTree(config,compared,attrs,storageObj,"");return _.size(storageObj.mapLinks)&&updateLinks(output,storageObj.mapLinks),output}function makeDiffArray(config,comparedList,attrs){var storageObj={num:0,mapLinks:{}};return _.map(comparedList,function(compared){return makeDiff(config,compared,attrs,storageObj)})}function remakeDiffs(diffs){function makeMapLinks(diffs){function addLink(name,mapLinks,count){var reSign=/[+]\d+/,rootPath=name.replace(/\.([\w\.]+)$/,"."),linkKey=_.findKey(mapLinks,function(path){return path==rootPath}),basePath=linkKey?mapLinks[linkKey]:"",subPath=rootPath.replace(basePath,""),arrSubPath=subPath.split(".");_.each(arrSubPath,function(subName,index){reSign.test(subName)&&(count+=1,arrSubPath[index]=subName.replace(/\d+/,count))});var newRootPath=(linkKey||"")+arrSubPath.join(".");return mapLinks[newRootPath]=rootPath,count}function checkLinks(mapLinks,count){var count=count,reSign=/[+]\d+/;_.each(mapLinks,function(oldLink,newLink){var linkKey=_.findKey(mapLinks,function(ml){return ml==newLink});if(linkKey&&linkKey!=newLink){var arrSubPath=newLink.split(".");_.each(arrSubPath,function(subName,index){reSign.test(subName)&&(count+=1,arrSubPath[index]=subName.replace(/\d+/,count))});var newRootPath=arrSubPath.join(".");mapLinks[newRootPath]=oldLink,delete mapLinks[newLink]}})}var mapLinks={},count=0,reSign=/\.[+]\d+\./;return _.each(diffs,function(diff){var diffTree=funcs.splitTree(diff);_.each(diffTree,function(elem){reSign.test(elem.Name)&&(count=addLink(elem.Name,mapLinks,count))})}),checkLinks(mapLinks,count),mapLinks}function changeLinksPath(diff,mapLinks){_.each(mapLinks,function(oldLink,newLink){oldLink!=newLink&&funcs.moveBranch(diff,oldLink,newLink)})}function changeLinksValue(diff,mapLinks,rootPath){rootPath||(rootPath=""),_.each(diff,function(value,key){if("order"==key)_.each(value,function(inst,index){var link=rootPath+inst+".";if(mapLinks[link]){var newLink=mapLinks[link].split("."),newInst=newLink[newLink.length-2];value[index]=newInst}});else if(_.isObject(value)){var newRootPath=rootPath+key+".";changeLinksValue(diff[key],mapLinks,newRootPath)}else mapLinks[value]&&(diff[key]=mapLinks[value])})}var output=[],mapLinks=makeMapLinks(diffs);return _.each(diffs,function(diff){var workDiff=funcs.deepClone(diff);changeLinksPath(workDiff,mapLinks),changeLinksValue(workDiff,_.invert(mapLinks)),output.push(workDiff)}),output}function splitDiff(diff,reList,startPath,diffs){var value;reList||(reList=[/-(\d+)/,/(.+)/]),diffs||(diffs=reList instanceof Array?reList.map(function(){return{}}):[]),startPath||(startPath="");for(var key in diff)if(value=diff[key],"object"!=("undefined"==typeof value?"undefined":_typeof3["default"](value))||_.isEmpty(value)||_.isArray(value)){var path=startPath+key;if("function"==typeof reList){var _i=reList(value,path);"number"==typeof _i&&(diffs[_i]||(diffs[_i]={}),funcs.setValue(path,value,diffs[_i]))}else for(var i in reList)if(reList[i].test(path)){diffs[i]||(diffs[i]={}),funcs.setValue(path,value,diffs[i]);break}}else this.splitDiff(value,reList,startPath+key+".",diffs);return diffs.filter(function(o){return!!o})}function replaceDiff(obj,fn,startPath,diff){var value;diff||(diff={}),startPath||(startPath="");for(var key in obj)if(value=obj[key],"object"!=("undefined"==typeof value?"undefined":_typeof3["default"](value))||_.isEmpty(value)||_.isArray(value)){var path=startPath+key;funcs.setValue(path,fn(value,path),diff)}else this.replaceDiff(value,fn,startPath+key+".",diff);return diff}function reorder(orders,inst,newOrder){var list=_.clone(orders),curInx=_.findIndex(orders,function(e){return e==inst});return-1!=curInx&&list.splice(curInx,1),list.splice(newOrder,0,inst),list}function getDiff(config,compared,attrs){function setNewValuesToDiff(output,compared,newKeys,attrs){var postfix=isTemplate(attrs)?"+":"";_.each(newKeys,function(key){var value=compared[key];output[key+postfix]=_.isObject(value)?getDiff({},value,getAttrsRoot(attrs,key)):value})}function updateValues(output,config,compared,keys,attrs){_.each(keys,function(key){var configValue=config[key],compareValue=compared[key];if(_.isObject(compareValue)){var changes=getDiff(configValue,compareValue,getAttrsRoot(attrs,key));_.isEmpty(changes)||(output[key]=changes)}else{if(_.isEqual(configValue,compareValue))return;output[key]=compareValue}})}function setRemoveKeysToDiff(output,keys,config){_.each(keys,function(key){output[key+"-"]=config[key]})}function getAttrsRoot(attrs,key){return isTemplate(attrs)?attrs["#template"]:attrs[key]}function getKeysWithoutServiceKeys(obj){return _.keys(_.omit(obj,"max_instance","order"))}function isTemplate(obj){return _.has(obj,"#template")}var output={},configKeys=getKeysWithoutServiceKeys(config),comparedKeys=getKeysWithoutServiceKeys(compared),newKeys=_.difference(comparedKeys,configKeys),removeKeys=_.difference(configKeys,comparedKeys),commonKeys=_.intersection(configKeys,comparedKeys);return setNewValuesToDiff(output,compared,newKeys,attrs),updateValues(output,config,compared,commonKeys,attrs),isTemplate(attrs)&&setRemoveKeysToDiff(output,removeKeys,config),output}function checkChanges(original,compared){function setNew(diff,compared,keys){var postfix=isTemplate(compared)?"+":"";isTemplate(compared)&&(keys=_.without(keys,"__template")),_.each(keys,function(key){var compValue=compared[key];diff[key+postfix]=isValue(compValue)?compValue:checkChanges({},compValue)})}function updateValues(diff,original,compared,keys){_.each(keys,function(key){var origValue=original[key],compValue=compared[key];if(isValue(compValue)){if(_.isEqual(origValue,compValue))return;diff[key]=compValue}else{var changes=checkChanges(origValue,compValue);_.isEmpty(changes)||(diff[key]=changes)}})}function removeOld(diff,original,keys){_.each(keys,function(key){diff[key+"-"]=original[key]})}function getKeys(obj){return _.keys(rejectServiceKey(obj))}function rejectServiceKey(obj){return _.omit(obj,"max_instance","order")}function isValue(value){return!_.isObject(value)}function isTemplate(obj){return _.has(obj,"__template")}var diff={},comparedKeys=getKeys(compared),originalKeys=getKeys(original),newKeys=_.difference(comparedKeys,originalKeys),removeKeys=_.difference(originalKeys,comparedKeys),commonKeys=_.intersection(originalKeys,comparedKeys);return setNew(diff,compared,newKeys),updateValues(diff,original,compared,commonKeys),isTemplate(compared)&&removeOld(diff,original,removeKeys),diff}function makeDefaultModel(attrs){if(_.has(attrs,"default"))return attrs["default"];var result={};return _.each(attrs,function(value,key){"#attr"!=key&&(result[key]=makeDefaultModel(_.has(value,"#template")?value["#template"]:value))}),result}function makeEnumModel(attrs){var result={};return _.each(attrs,function(obj,key){_.isObject(obj)&&(_.has(obj,"#template")&&(obj=obj["#template"]),_.has(obj,"enum")?result[key]=obj["enum"]:_.has(obj,"default")||(result[key]=makeEnumModel(obj)))}),result}function makeSupportedModel(attrs){var result={};return _.each(attrs,function(obj,key){"#attr"!=key&&(result[key]=_.has(obj,"default")?!0:makeSupportedModel(obj))}),result}function makeMinMaxModel(attrs){var result={};return _.each(attrs,function(obj,key){if("#attr"!=key){if(!_.has(obj,"default"))return void(result[key]=makeMinMaxModel(obj));result[key]={};var type=obj.type;"int"!=type&&"unsignedInt"!=type||("unsignedInt"==type&&(result[key].min=0),_.has(obj,"minInclusive")&&(result[key].min=obj.minInclusive),_.has(obj,"maxInclusive")&&(result[key].max=obj.maxInclusive))}}),result}function directTransformTemplate(template,func){function filterTemplate(template){var result={};return _.each(template,function(elem,key){"max_instance"!=key&&"order"!=key&&(result[key]=elem)}),result}var template=filterTemplate(template);return _.map(template,func)}function normalize(obj){var result={};return _.each(obj,function(elem,key){"max_instance"!=key&&"order"!=key&&(result[key]=elem)}),result}function instanceObjectToArray(elems,convertFn){var elems=normalize(elems);return _.map(elems,function(elem,id){return _.isObject(elem)&&(elem.__id=id),convertFn&&(elem=convertFn(elem)),elem})}function arrayToInstanceObject(elems,convertFn,filterFn){var output={};return _.each(elems,function(elem,id){if(!filterFn||filterFn(elem,id)){var inst=elem.__id?elem.__id:(id+1).toString();delete elem.__id,output[inst]=convertFn?convertFn(elem,inst):elem}}),output}function fetch(path,branch){var data=funcs.fetchBranch(path,branch);return _.isObject(data)?normalize(data):data}function replaceDiff(obj,fn,startPath,diff){var value;diff||(diff={}),startPath||(startPath="");for(var key in obj)if(value=obj[key],"object"!=("undefined"==typeof value?"undefined":_typeof3["default"](value))||_.isEmpty(value)||_.isArray(value)){var path=startPath+key;funcs.setValue(path,fn(value,path),diff)}else this.replaceDiff(value,fn,startPath+key+".",diff);return diff}return{makeDiff:makeDiff,makeDiffArray:makeDiffArray,remakeDiffs:remakeDiffs,splitDiff:splitDiff,replaceDiff:replaceDiff,reorder:reorder,checkChanges:checkChanges,getDiff:getDiff,makeDefaultModel:makeDefaultModel,makeEnumModel:makeEnumModel,makeSupportedModel:makeSupportedModel,makeMinMaxModel:makeMinMaxModel,directTransformTemplate:directTransformTemplate,normalize:normalize,instanceObjectToArray:instanceObjectToArray,arrayToInstanceObject:arrayToInstanceObject,fetch:fetch}}()},function(module,exports,__webpack_require__){"use strict";function time(sec,keys){var result={},struct=_.filter([{name:"year",x:31536e3},{name:"month",x:2592e3},{name:"week",x:604800},{name:"day",x:86400},{name:"hour",x:3600},{name:"minute",x:60},{name:"second",x:1}],function(obj){return keys.indexOf(obj.name)>=0});return struct.forEach(function(type){result[type.name]=Math.floor(sec/type.x),sec-=result[type.name]*type.x}),result}var _=__webpack_require__(41),format={time:time};module.exports=format},function(module,exports,__webpack_require__){"use strict";function validStaticIP_2KOM_21748(ip,mask){var result=_.find(allowedStaticIP_2KOM_21748,function(elem){return validCustomIP(ip,elem.mask,elem.ip)});return!!result}function validSubnetMask_2KOM_21748(ip,mask){var result=_.find(allowedStaticIP_2KOM_21748,function(elem){return validCustomIP(ip,elem.mask,elem.ip)&&mask==elem.mask});return!!result}function validDNS_2KOM_21748(dns){return!dns||-1!=_.indexOf(allowedDns1_2KOM_21748,dns)||-1!=_.indexOf(allowedDns2_2KOM_21748,dns)}function validAllDNS_2KOM_21748(dnsPrim,dnsSec){return!dnsPrim&&!dnsSec||-1!=_.indexOf(allowedDns1_2KOM_21748,dnsPrim)&&-1!=_.indexOf(allowedDns1_2KOM_21748,dnsSec)||-1!=_.indexOf(allowedDns2_2KOM_21748,dnsPrim)&&-1!=_.indexOf(allowedDns2_2KOM_21748,dnsSec)}function validDNS_RTA_40250(dns){var whiteList=["46.172.110.110","193.169.60.250"];return!dns||_.contains(whiteList,dns)}function validCustomIP(ip,mask,net){for(var arrip=ip.split("."),arrnet=net.split("."),arrmask=mask.split("."),res=!0,i=0;i<arrip.length;i++)(arrip[i]&arrmask[i])!=arrnet[i]&&(res=!1);return res}var _=__webpack_require__(41),customValidation={validCustomIP:validCustomIP,validDNS_2KOM_21748:validDNS_2KOM_21748,validAllDNS_2KOM_21748:validAllDNS_2KOM_21748,validStaticIP_2KOM_21748:validStaticIP_2KOM_21748,validSubnetMask_2KOM_21748:validSubnetMask_2KOM_21748,validDNS_RTA_40250:validDNS_RTA_40250};module.exports=customValidation;var allowedStaticIP_2KOM_21748=[{ip:"195.98.160.0",mask:"255.255.224.0"},{ip:"94.127.168.0",mask:"255.255.248.0"},{ip:"185.151.120.0",mask:"255.255.252.0"},{ip:"10.120.0.0",mask:"255.248.0.0"},{ip:"10.251.0.0",mask:"255.255.0.0"},{ip:"10.112.0.0",mask:"255.240.0.0"},{ip:"81.25.48.0",mask:"255.255.240.0"},{ip:"91.198.104.0",mask:"255.255.248.0"},{ip:"91.188.176.0",mask:"255.255.240.0"},{ip:"46.188.0.0",mask:"255.255.128.0"},{ip:"188.244.32.0",mask:"255.255.240.0"},{ip:"86.110.0.0",mask:"255.255.224.0"},{ip:"217.170.208.0",mask:"255.255.240.0"},{ip:"78.24.24.0",mask:"255.255.248.0"},{ip:"188.65.8.0",mask:"255.255.248.0"},{ip:"213.167.32.0",mask:"255.255.224.0"},{ip:"212.34.32.0",mask:"255.255.224.0"}],allowedDns1_2KOM_21748=["212.34.33.1","212.34.32.39"],allowedDns2_2KOM_21748=["195.98.160.26","80.253.27.101"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function encryption(input,bytesKey,bytesIv){var inputString=_.isString(input)?input:_stringify2["default"](input),cipher=new aesjs.ModeOfOperation.cbc(bytesKey,bytesIv),bytesBlockString=aesjs.utils.utf8.toBytes(inputString),bytesBlockStringPad=aesjs.padding.pkcs7.pad(bytesBlockString),blockEncryptionBytes=cipher.encrypt(bytesBlockStringPad),outputString=aesjs.utils.hex.fromBytes(blockEncryptionBytes);return outputString}function decryption(input,bytesKey,bytesIv){var inputBytes=aesjs.utils.hex.toBytes(input),decipher=new aesjs.ModeOfOperation.cbc(bytesKey,bytesIv),decryptBlock=decipher.decrypt(inputBytes),decryptBlockPad=aesjs.padding.pkcs7.strip(decryptBlock),outputString=aesjs.utils.utf8.fromBytes(decryptBlockPad);return funcs.isJSONString(outputString)?JSON.parse(outputString):outputString}function convertKeysToHex(key,iv){return{key:aesjs.utils.hex.fromBytes(key),iv:aesjs.utils.hex.fromBytes(iv)}}function convertKeysFromHex(key,iv){return{key:aesjs.utils.hex.toBytes(key),iv:aesjs.utils.hex.toBytes(iv)}}var _stringify=__webpack_require__(115),_stringify2=_interopRequireDefault(_stringify),_=__webpack_require__(41),aesjs=__webpack_require__(117),funcs=__webpack_require__(44),cryptoAES={encryption:encryption,decryption:decryption,convertKeys:{toHex:convertKeysToHex,fromHex:convertKeysFromHex}};module.exports=cryptoAES},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(116),__esModule:!0}},function(module,exports,__webpack_require__){var core=__webpack_require__(8),$JSON=core.JSON||(core.JSON={stringify:JSON.stringify});module.exports=function(it){return $JSON.stringify.apply($JSON,arguments)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _typeof2=__webpack_require__(88),_typeof3=_interopRequireDefault(_typeof2);!function(root){function checkInt(value){return parseInt(value)===value}function checkInts(arrayish){if(!checkInt(arrayish.length))return!1;for(var i=0;i<arrayish.length;i++)if(!checkInt(arrayish[i])||arrayish[i]<0||arrayish[i]>255)return!1;return!0}function coerceArray(arg,copy){if(ArrayBuffer.isView||(ArrayBuffer.isView=function(a){return null!==a&&"object"===("undefined"==typeof a?"undefined":_typeof3["default"](a))&&a.buffer instanceof ArrayBuffer}),arg.buffer&&ArrayBuffer.isView(arg)&&"Uint8Array"===arg.name)return copy&&(arg=arg.slice?arg.slice():Array.prototype.slice.call(arg)),arg;if(Array.isArray(arg)){if(!checkInts(arg))throw new Error("Array contains invalid value: "+arg);return new Uint8Array(arg)}if(checkInt(arg.length)&&checkInts(arg))return new Uint8Array(arg);throw new Error("unsupported array-like object")}function createArray(length){return new Uint8Array(length)}function copyArray(sourceArray,targetArray,targetStart,sourceStart,sourceEnd){null==sourceStart&&null==sourceEnd||(sourceArray=sourceArray.slice?sourceArray.slice(sourceStart,sourceEnd):Array.prototype.slice.call(sourceArray,sourceStart,sourceEnd)),targetArray.set(sourceArray,targetStart)}function convertToInt32(bytes){for(var result=[],i=0;i<bytes.length;i+=4)result.push(bytes[i]<<24|bytes[i+1]<<16|bytes[i+2]<<8|bytes[i+3]);return result}function pkcs7pad(data){data=coerceArray(data,!0);var padder=16-data.length%16,result=createArray(data.length+padder);copyArray(data,result);for(var i=data.length;i<result.length;i++)result[i]=padder;return result}function pkcs7strip(data){if(data=coerceArray(data,!0),data.length<16)throw new Error("PKCS#7 invalid length");var padder=data[data.length-1];if(padder>16)throw new Error("PKCS#7 padding byte out of range");for(var length=data.length-padder,i=0;padder>i;i++)if(data[length+i]!==padder)throw new Error("PKCS#7 invalid padding byte");var result=createArray(length);return copyArray(data,result,0,0,length),result}var convertUtf8=function(){function toBytes(text){var result=[],i=0;for(text=encodeURI(text);i<text.length;){var c=text.charCodeAt(i++);37===c?(result.push(parseInt(text.substr(i,2),16)),i+=2):result.push(c)}return result}function fromBytes(bytes){for(var result=[],i=0;i<bytes.length;){var c=bytes[i];128>c?(result.push(String.fromCharCode(c)),i++):c>191&&224>c?(result.push(String.fromCharCode((31&c)<<6|63&bytes[i+1])),i+=2):(result.push(String.fromCharCode((15&c)<<12|(63&bytes[i+1])<<6|63&bytes[i+2])),i+=3)}return result.join("")}return{toBytes:toBytes,fromBytes:fromBytes}}(),convertHex=function(){function toBytes(text){for(var result=[],i=0;i<text.length;i+=2)result.push(parseInt(text.substr(i,2),16));return result}function fromBytes(bytes){for(var result=[],i=0;i<bytes.length;i++){var v=bytes[i];result.push(Hex[(240&v)>>4]+Hex[15&v])}return result.join("")}var Hex="0123456789abcdef";return{toBytes:toBytes,fromBytes:fromBytes}}(),convertBase64=function(){function InvalidCharacterError(message){this.message=message}function toBase64(text){for(var block,charCode,str=String(text),idx=0,map=chars,output="";str.charAt(0|idx)||(map="=",idx%1);output+=map.charAt(63&block>>8-idx%1*8)){if(charCode=str.charCodeAt(idx+=.75),charCode>255)throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");block=block<<8|charCode}return output}function fromBase64(text){var str=String(text).replace(/[=]+$/,"");if(str.length%4==1)throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");for(var bs,buffer,bc=0,idx=0,output="";buffer=str.charAt(idx++);~buffer&&(bs=bc%4?64*bs+buffer:buffer,bc++%4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0)buffer=chars.indexOf(buffer);return output}var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return InvalidCharacterError.prototype=new Error,InvalidCharacterError.prototype.name="InvalidCharacterError",{toBase64:toBase64,fromBase64:fromBase64}}(),numberOfRounds={16:10,24:12,32:14},rcon=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],S=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Si=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],T1=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],T2=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],T3=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],T4=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],T5=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],T6=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],T7=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],T8=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],U1=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],U2=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],U3=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],U4=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925],AES=function AES(key){
if(!(this instanceof AES))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:key}),this._prepare()};AES.prototype._prepare=function(){var rounds=numberOfRounds[this.key.length];if(null==rounds)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var i=0;rounds>=i;i++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var index,roundKeyCount=4*(rounds+1),KC=this.key.length/4,tk=convertToInt32(this.key),i=0;KC>i;i++)index=i>>2,this._Ke[index][i%4]=tk[i],this._Kd[rounds-index][i%4]=tk[i];for(var tt,rconpointer=0,t=KC;roundKeyCount>t;){if(tt=tk[KC-1],tk[0]^=S[tt>>16&255]<<24^S[tt>>8&255]<<16^S[255&tt]<<8^S[tt>>24&255]^rcon[rconpointer]<<24,rconpointer+=1,8!=KC)for(var i=1;KC>i;i++)tk[i]^=tk[i-1];else{for(var i=1;KC/2>i;i++)tk[i]^=tk[i-1];tt=tk[KC/2-1],tk[KC/2]^=S[255&tt]^S[tt>>8&255]<<8^S[tt>>16&255]<<16^S[tt>>24&255]<<24;for(var i=KC/2+1;KC>i;i++)tk[i]^=tk[i-1]}for(var r,c,i=0;KC>i&&roundKeyCount>t;)r=t>>2,c=t%4,this._Ke[r][c]=tk[i],this._Kd[rounds-r][c]=tk[i++],t++}for(var r=1;rounds>r;r++)for(var c=0;4>c;c++)tt=this._Kd[r][c],this._Kd[r][c]=U1[tt>>24&255]^U2[tt>>16&255]^U3[tt>>8&255]^U4[255&tt]},AES.prototype.encrypt=function(plaintext){if(16!=plaintext.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var rounds=this._Ke.length-1,a=[0,0,0,0],t=convertToInt32(plaintext),i=0;4>i;i++)t[i]^=this._Ke[0][i];for(var r=1;rounds>r;r++){for(var i=0;4>i;i++)a[i]=T1[t[i]>>24&255]^T2[t[(i+1)%4]>>16&255]^T3[t[(i+2)%4]>>8&255]^T4[255&t[(i+3)%4]]^this._Ke[r][i];t=a.slice()}for(var tt,result=createArray(16),i=0;4>i;i++)tt=this._Ke[rounds][i],result[4*i]=255&(S[t[i]>>24&255]^tt>>24),result[4*i+1]=255&(S[t[(i+1)%4]>>16&255]^tt>>16),result[4*i+2]=255&(S[t[(i+2)%4]>>8&255]^tt>>8),result[4*i+3]=255&(S[255&t[(i+3)%4]]^tt);return result},AES.prototype.decrypt=function(ciphertext){if(16!=ciphertext.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var rounds=this._Kd.length-1,a=[0,0,0,0],t=convertToInt32(ciphertext),i=0;4>i;i++)t[i]^=this._Kd[0][i];for(var r=1;rounds>r;r++){for(var i=0;4>i;i++)a[i]=T5[t[i]>>24&255]^T6[t[(i+3)%4]>>16&255]^T7[t[(i+2)%4]>>8&255]^T8[255&t[(i+1)%4]]^this._Kd[r][i];t=a.slice()}for(var tt,result=createArray(16),i=0;4>i;i++)tt=this._Kd[rounds][i],result[4*i]=255&(Si[t[i]>>24&255]^tt>>24),result[4*i+1]=255&(Si[t[(i+3)%4]>>16&255]^tt>>16),result[4*i+2]=255&(Si[t[(i+2)%4]>>8&255]^tt>>8),result[4*i+3]=255&(Si[255&t[(i+1)%4]]^tt);return result};var ModeOfOperationCBC=function ModeOfOperationCBC(key,iv){if(!(this instanceof ModeOfOperationCBC))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",iv){if(16!=iv.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else iv=createArray(16);this._lastCipherblock=coerceArray(iv,!0),this._aes=new AES(key)};ModeOfOperationCBC.prototype.encrypt=function(plaintext){if(plaintext.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var ciphertext=createArray(plaintext.length),block=createArray(16),i=0;i<plaintext.length;i+=16){copyArray(plaintext,block,0,i,i+16);for(var j=0;16>j;j++)block[j]^=this._lastCipherblock[j];this._lastCipherblock=this._aes.encrypt(block),copyArray(this._lastCipherblock,ciphertext,i)}return ciphertext},ModeOfOperationCBC.prototype.decrypt=function(ciphertext){if(ciphertext.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var plaintext=createArray(ciphertext.length),block=createArray(16),i=0;i<ciphertext.length;i+=16){copyArray(ciphertext,block,0,i,i+16),block=this._aes.decrypt(block);for(var j=0;16>j;j++)plaintext[i+j]=block[j]^this._lastCipherblock[j];copyArray(ciphertext,this._lastCipherblock,0,i,i+16)}return plaintext};var aesjs={ModeOfOperation:{cbc:ModeOfOperationCBC},utils:{hex:convertHex,utf8:convertUtf8,base64:convertBase64},padding:{pkcs7:{pad:pkcs7pad,strip:pkcs7strip}},_arrayTest:{coerceArray:coerceArray,createArray:createArray,copyArray:copyArray}};module.exports=aesjs}(void 0)},,,,function(module,exports,__webpack_require__){"use strict";"use version 6";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function somovdToNative(dataWan,dataPorts){function isTunnel(raw){return 4==raw.Layer}function isService(raw){return 3==raw.Layer}function isPPP(raw){if(isTunnel(raw)){var L4=raw.L4;return"l2tp"==L4.type||"pptp"==L4.type}if(isService(raw)){var L3=raw.L3;return"ppp"==L3.type||"pppdual"==L3.type||"pppv6"==L3.type}return!1}function isXoE(raw){switch(raw.MediaType){case"Ethernet":case"WiFi":case"DSL.PTM":case"Bridging":return!0;case"DSL.ATM":return"EoA"==raw.Media.DSL.ATM.LinkType}return!1}function isPPPoA(raw){return"DSL.ATM"==raw.MediaType&&"PPPoA"==raw.Media.DSL.ATM.LinkType}function isXv6(raw){if(raw.Params)switch(raw.Params.type){case"ipv6":case"pppv6":case"pppdual":return!0}return!1}function isPPPoA(raw){return"DSL.ATM"==raw.MediaType&&"PPPoA"==raw.Media.DSL.ATM.LinkType}function is3G(raw){if("Dongle"==raw.MediaType){var dongle=raw.Media.Dongle;return"3G"==dongle.Type||"USB"==dongle.Type}return!1}function isIPv4(raw){return raw.Params&&"ip"==raw.Params.type}function connTriger(params){return params.ondemand?"OnDemand":params.auto?"AlwaysOn":"Manual"}function authProto(params){var auth=params.auth||"0";switch(auth){case"0":return"AUTO";case"1":return"PAP";case"2":return"CHAP";case"3":return"MS-CHAP";case"4":return"MS-CHAP-V2"}}function encrProto(params){var encrypt=params.encrypt||"0";switch(encrypt){case"0":return"None";case"1":return"MPPE";case"2":return"MPPE40";case"3":return"MPPE128"}}function origin(params){return params.ipv6_auto?"AutoConfigured":params.ipv6_by_dhcpv6?"AutoConfiguredByDHCPv6":params.ipv6_by_slaac?"AutoConfiguredBySlaac":"Static"}function mediaType(L2){switch(L2.type){case"ethernet":return/WiFiClient/.test(L2.port)?"WiFi":"PTM"==L2.port?"DSL.PTM":"Ethernet";case"atm":return"DSL.ATM";case"ptm":return"DSL.PTM";case"3g":case"lte":case"usb":return"Dongle";case"bridge":return"Bridging"}return"Unknown"}function linkType(L2){switch(L2.link_type){case"MDMVS_EOA":return"EoA";case"MDMVS_IPOA":return"IPoA";case"MDMVS_PPPOA":return"PPPoA"}return"Unknown"}function qosClass(pvc){switch(pvc.qos){case"ubr":return"UBR";case"ubr_pcr":return"UBR+";case"cbr":return"CBR";case"nrtvbr":return"VBR-nrt";case"rtvbr":return"VBR-rt"}return"Unknown"}function dongleMode(L2){var mode=L2.mode||"0";switch(mode.toString()){case"32":case"0":case"0x000":return"Auto";case"4":return"4G";case"3":case"0x002":return"3G";case"2":case"0x001":return"2G";case"0x008":return"Auto 2G->3G";case"0x010":return"Auto 3G->2G";case"0x020":return"Auto 2G->3G->LTE";case"0x080":return"Auto 3G->LTE";case"0x100":return"Auto LTE->3G"}return"Auto"}function dongleActualType(L2){return L2.type.toUpperCase()}function eap($8021x){switch($8021x.eap_method){case 0:return"EAP-MD5";case 1:return"EAP-TTLS/CHAP";case 2:return"EAP-TTLS/MS-CHAP";case 3:return"EAP-TTLS/MS-CHAPv2"}return"EAP-MD5"}function isIPoA(ipv4){return"DSL.ATM"==ipv4.MediaType&&"IPoA"==ipv4.Media.DSL.ATM.LinkType}function isLTE(ipv4){return"Dongle"==ipv4.MediaType&&"LTE"==ipv4.Media.Dongle.Type}function rejectLANs(iface_names){var obj={};for(var key in iface_names)iface_names[key].is_wan&&(obj[key]=iface_names[key]);return obj}function identifyDefaultGateway(wan,version){function isDefaultGateway(conn,version){return"v4"==version?1==conn.DefaultGateway:"v6"==version&&1==conn.DefaultGatewayv6}var path="",conns=_.pick(wan,"IPoA","PPPoE","PPPoEv6","PPPoEDual","PPPoA","PPTP","3G","IPv4oE","LTE","IPv6oE"),connsKeys=_.keys(conns).sort(function(a){return"PPTP"!=a});return _.some(connsKeys,function(type){var obj=conns[type];return!!obj.Connection&&_.some(obj.Connection,function(conn,instance){return!!isDefaultGateway(conn,version)&&(path="Device.WAN."+type+".Connection."+instance+".",!0)})}),path}function identifyAutomaticalPPTP(wan){return _.some(wan.$Raw,function(r){return r.IsAutoTunnel})}function getUseMultiPVC(media){return"VlanDefMode"==media.connection_mode||"VlanDefMode"==media.connection_mode}function getConnStatus(o,raw){if(o.contype&&("3g"==o.contype||"lte"==o.contype)||/apcli|wlan/.test(o.iface))return o.connection_status;if(raw&&("Dongle"==raw.MediaType||"WiFi"==raw.MediaType))return o.connection_status;var wanIface=raw.L2Key,iface=_.find(raw.$ports,function(elem){return elem.iface==wanIface&&elem.is_wan});return iface||(iface=_.find(raw.$ports,function(elem){return/vc|ptm/.test(wanIface)?(wanIface="vc",elem.is_wan&&elem.iface==wanIface):elem.is_wan})),iface&&iface.is_wan&&0==iface.status&&"auto"!=wanIface?"CableDisconnected":o.connection_status}function setMediaPath(conns,all){var conn,list,path,mediaType,mediaObject,key;for(var i in conns)if(conn=conns[i],conn.Media){switch(mediaType=conn.MediaType,mediaObject="DSL.ATM"==mediaType?conn.Media.DSL.ATM:"DSL.PTM"==mediaType?conn.Media.DSL.PTM:conn.Media[mediaType],key=mediaObject.__Key,mediaType){case"Ethernet":list=all.Media.Ethernet.Interface,path="Ethernet.Interface";break;case"WiFi":list=all.Media.WiFi.Network,path="WiFi.Network";break;case"DSL.ATM":list=all.Media.DSL.ATM.Link,path="DSL.ATM.Link";break;case"DSL.PTM":list=all.Media.DSL.PTM.Link,path="DSL.PTM.Link";break;case"Bridging":list=all.Media.Bridging.Bridge,path="Bridging.Bridge";break;case"Dongle":list=all.Media.Dongle.Interface,path="Dongle.Interface"}var inx=_keys2["default"](list).find(function(i){return list[i].__Key==key});conn.MediaPath="Device.WAN.Media."+path+"."+inx+"."}}function setBaseConnection(all){var tunnels=all.PPTP.Connection;if(tunnels){var arr=[].concat(flattenConnections(all,"PPPoE")).concat(flattenConnections(all,"PPPoEv6")).concat(flattenConnections(all,"PPPoEDual")).concat(flattenConnections(all,"PPPoA")).concat(flattenConnections(all,"3G")).concat(flattenConnections(all,"IPv4oE")).concat(flattenConnections(all,"LTE")).concat(flattenConnections(all,"IPoA")).concat(flattenConnections(all,"IPv6oE")).concat(flattenConnections(all,"Bridge"));for(var i in tunnels){var tunnel=tunnels[i],obj=arr.find(function(e){return e.conn.__Key==tunnel.__LowerLayer});obj&&(tunnel.BaseConnection="Device.WAN."+obj.path)}}}function flattenConnections(all,basePath){var conns=all[basePath].Connection;return conns?_keys2["default"](conns).map(function(i){return{path:basePath+".Connection."+i+".",conn:conns[i]}}):[]}var pattern=T({"->":["$Raw","$PPP","$IPv4","IPoA","PPPoE","PPPoEv6","PPPoEDual","PPPoA","PPTP","3G","IPv4oE","LTE","IPv6oE","Media","IPv4DefaultGateway","IPv6DefaultGateway","UseAutomaticalPPTP"],$Raw:{"->":["L2","?","MediaType","Media","Flags","VLAN","IPv6"],$iface_names:":external",$ports:":external","?":["L2",function(o){return!!o&&!!_.size(o)}],"{L2,L2Key}":["$iface_names**",function(o){return rejectLANs(o)}],"{L3,L3Key}":["L2**",function(o){return o.services}],"{L4,L4Key}":["L3*",function(o){return o.tunnels}],"{Params, Layer}":["L3*","L4",function(L3,L4){return L4?{3:L3,4:L4}:{3:L3}}],IsTunnel:["Layer*",function(o){return 4==o||void 0}],IsService:["Layer*",function(o){return 3==o||void 0}],IsAutoTunnel:["L2*",function(l){return"auto"==l.type}],IPv6:{"->":["IsStatic","StaticIP"],"?":["$parent",function(o){return!!o.Params&&isXv6(o)}],Params:["$parent","?",function(o){return o.Params}],IsStatic:["Origin",function(o){return"Static"==o||void 0}],IsDynamic:["Origin",function(o){return"Static"!=o||void 0}],Origin:["Params",function(o){return origin(o)}],GatewayIPAddressBySlaac:["Params",function(o){return o.slaac}],GatewayIPAddress:["Params",function(o){return o.gwipv6}],DNSIPv6Automatical:["Params","IsDynamic*",function(o){return o.dns_from_dhcpv6}],DNSIPv6Server1:["Params",function(o){return o.dns_primv6}],DNSIPv6Server2:["Params",function(o){return o.dns_secv6}],DefaultGatewayv6:["Params",function(o){return o.gwifv6}],StaticIPNumberOfEntries:["StaticIP",function(o){return _.size(o)}],StaticIP:{"->":!0,$IsStatic:["$parent",function(o){return o.IsStatic}],":":["$IsStatic*",function(){return 1}],$IPv6:["$parent","$IsStatic*",function(o){return o.Params.ipv6}],Address:["$IPv6*",function(o){return o.split("/")[0]}],Prefix:["$IPv6*",function(o){return o.split("/")[1]}]},StaticIPAddress0:["StaticIPNumberOfEntries","StaticIP","IsStatic*",function(n,o){return n>0?o[1].Address:""}],StaticIPPrefix0:["StaticIPNumberOfEntries","StaticIP","IsStatic*",function(n,o){return n>0?o[1].Prefix:""}]},Flags:{"->":!0,"?":["$parent",function(o){return!!o.Params}],$Params:["$parent","?",function(o){return o.Params}],RIP:["$Params",function(o){return o.rip}],IGMP:["$Params",function(o){return o.igmp}],NAT:["$Params",function(o){return o.nat}],Firewall:["$Params",function(o){return o.firewall}],Ping:["$Params",function(o){return o.ping_respond}],RTSP:["$Params",function(o){return o.rtsp}],AltRoutingTable:["$Params",function(o){return o.table_alt}],MLD:["$Params",function(o){return o.mld}]},MediaType:["L2**","IsTunnel",function(l,t){return t?void 0:mediaType(l)}],Media:{"->":["?","Ethernet","WiFi","DSL","Bridging","Dongle"],"?":["$parent",function(o){return o.L2&&!o.IsTunnel}],Ethernet:{"->":!0,"?":["$parent",function(o){return"Ethernet"==o.$parent.MediaType}],$L2:["$parent","?",function(o){return o.$parent.L2}],__Key:["$parent","?",function(o){return o.$parent.L2Key}],__VlanName:["$L2","?",function(o){return o.__vlan_name}],Enable:["$L2",function(o){return o.enable}],Name:["$L2",function(o){return o.port}],MACAddress:["$L2",function(o){return o.mac}],MACAddressDefault:["$L2",function(o){return o.default_mac}],MaxMRUSize:["$L2",function(o){return o.mtu}]},WiFi:{"->":!0,"?":["$parent",function(o){return"WiFi"==o.$parent.MediaType}],$L2:["$parent","?",function(o){return o.$parent.L2}],__Key:["$parent","?",function(o){return o.$parent.L2Key}],__VlanName:["$L2","?",function(o){return o.__vlan_name}],Enable:["$L2",function(o){return o.enable}],Name:["$L2",function(o){return o.port}],MACAddress:["$L2",function(o){return o.mac}],MACAddressDefault:["$L2",function(o){return o.default_mac}],MaxMRUSize:["$L2",function(o){return o.mtu}]},DSL:{"->":!0,"?":["$parent",function(o){return o.$parent.MediaType.match(/^DSL\.\w*$/)}],ATM:{"->":!0,$MediaType:["$parent",function(o){return o.$parent.$parent.MediaType}],"?":["$MediaType",function(o){return"DSL.ATM"==o}],$L2:["$parent","?",function(o){return o.$parent.$parent.L2}],$PVC:["$L2",function(o){return o.pvc_settings}],__Key:["$parent","?",function(o){return o.$parent.$parent.L2Key}],__VlanName:["$L2","?",function(o){return o.__vlan_name}],Enable:["$L2",function(o){return o.enable}],Name:["$L2",function(o){return o.iface}],DestinationAddress:["$PVC**",function(o){return o.vpi+"/"+o.vci}],LinkType:["$L2",function(o){return linkType(o)}],Encapsulation:["$PVC**",function(o){return o.encap.toUpperCase()}],ConnectionMode:["$L2",function(o){return o.connection_mode}],QoSClass:["$PVC**",function(o){return qosClass(o)}],PeakCellRate:["$PVC**","QoSClass",function(pvc,qos){return"UBR"!=qos?pvc.pcr:void 0}],MaximumBurstSize:["$PVC**","QoSClass",function(pvc,qos){return"VBR-nrt"==qos||"VBR-rt"==qos?pvc.mbs:void 0}],SustainableCellRate:["$PVC**","QoSClass",function(pvc,qos){return"VBR-nrt"==qos||"VBR-rt"==qos?pvc.scr:void 0}],UseMultiPVC:["$L2",function(o){return getUseMultiPVC(o)}]},PTM:{"->":!0,$MediaType:["$parent",function(o){return o.$parent.$parent.MediaType}],"?":["$MediaType",function(o){return"DSL.PTM"==o}],$L2:["$parent","?",function(o){return o.$parent.$parent.L2}],__Key:["$parent","?",function(o){return o.$parent.$parent.L2Key}],__VlanName:["$L2","?",function(o){return o.__vlan_name}],__ActualType:["$L2","?",function(o){return o.type}],Enable:["$L2",function(o){return o.enable}],Name:["$L2",function(o){return o.port}],MACAddress:["$L2",function(o){return o.mac}],MACAddressDefault:["$L2",function(o){return o.default_mac}],LinkType:["$L2",function(o){return linkType(o)}],ConnectionMode:["$L2",function(o){return o.connection_mode}],UseMultiPVC:["$L2",function(o){return getUseMultiPVC(o)}]}},Bridging:{"->":!0,"?":["$parent",function(o){return"Bridging"==o.$parent.MediaType}],$L2:["$parent","?",function(o){return o.$parent.L2}],__Key:["$parent","?",function(o){return o.$parent.L2Key}],__VlanName:["$L2","?",function(o){return o.__vlan_name}],Enable:["$L2",function(o){return o.enable}],Name:["$L2",function(o){return o.port}],MACAddress:["$L2",function(o){return o.mac}],MACAddressDefault:["$L2",function(o){return o.default_mac}]},Dongle:{"->":!0,"?":["$parent",function(o){return"Dongle"==o.$parent.MediaType}],$L2:["$parent","?",function(o){return o.$parent.L2}],__Key:["$parent","?",function(o){return o.$parent.L2Key}],__VlanName:["$L2","?",function(o){return o.__vlan_name}],Enable:["$L2",function(o){return o.enable}],Name:["$L2",function(o){return o.port}],MACAddress:["$L2",function(o){return o.mac}],MACAddressDefault:["$L2",function(o){return o.default_mac}],Type:["$L2",function(o){return dongleActualType(o)}],DongleType:["$L2",function(o){return o.dongle_type}],Mode:["$L2",function(o){return dongleMode(o)}]}},VLAN:{"->":!0,"?":["$parent",function(o){return!!o.Params&&!!o.Params.vlan}],$vlan:["$parent","?",function(o){return o.Params.vlan}],Enable:["$vlan",function(v){return _.has(v,"vlanid")&&v.vlanid>=0}],ID:["$vlan",function(v){return v.vlanid}],Priority:["$vlan",function(v){return v.vlanpr}]}},$PPP:{"->":["?","StaticIPAddress0","StaticIP"],"{$Raw}":["$root",function(o){return _.filter(o.$Raw,function(e){return isPPP(e)})}],"?":["$Raw",function(o){return!!o}],$Params:["$Raw","?",function(o){return o.Params}],$IsTunnel:["$Raw","?",function(o){return isTunnel(o)||void 0}],$IsService:["$Raw","?",function(o){return!isTunnel(o)||void 0}],$IsAutoTunnel:["$Raw","?",function(o){return o.IsAutoTunnel}],$IsXoE:["$Raw","?",function(o){return isXoE(o)||void 0}],$IsPPPoX:["$Raw","?",function(o){return isPPPoA(o)||isXoE(o)||void 0}],$Is3G:["$Raw","?",function(o){return is3G(o)||void 0}],$IPv6:["$Raw","?",function(o){return o.IPv6}],__Layer:["$Raw","?",function(o){return o.Layer}],__LowerLayer:["$Raw","?",function(o){return o.L4Key?o.L3Key:o.L2Key}],__Key:["$Raw","?",function(o){return o.L4Key?o.L4Key:o.L3Key}],__OriginInterface:["$Params",function(o){return o.iface}],Enable:["$Params",function(o){return o.enable}],Status:["$Params","$Raw",function(o,r){return getConnStatus(o,r)}],PPPState:["$Params",function(o){return o.ppp_state}],PPPDebug:["$Params",function(o){return o.ppp_debug}],Name:["$Params",function(o){return o.name}],Username:["$Params",function(o){return o.username}],Password:["$Params",function(o){return o.password}],WithoutAuth:["Username","Password",function(u,p){return!p}],ServiceName:["$Params",function(o){return o.servicename}],AutomaticalConnection:["$IsAutoTunnel",function(o){return o||void 0}],APN:["$Params","$Is3G*",function(o){return o.apn}],DialNumber:["$Params","$Is3G*",function(o){return o.dial_num}],MaxMRUSize:["$Params",function(o){return o.mtu}],DefaultGateway:["$Params",function(o){return o.gwif}],KeepAlive:["$Params",function(o){return!(!o.keep_alive||_.isEmpty(o.keep_alive))}],LCPEcho:["$Params","KeepAlive",function(o,ka){return ka?o.keep_alive.interval:30}],LCPEchoRetry:["$Params","KeepAlive",function(o,ka){return ka?o.keep_alive.fails:3}],IdleDisconnectTime:["$Params",function(o){return o.ondemand}],PPPMPPC:["$Params",function(o){return!!_.isUndefined(o.ppp_mppc)||o.ppp_mppc}],Flags:["$Raw","?",function(o){return o.Flags}],VLAN:["$Raw","?",function(o){return o.VLAN}],ActualType:["$Params","$IsTunnel*",function(o){return o.type.toUpperCase()}],ConnectionTrigger:["$Params",function(o){return connTriger(o)}],AuthenticationProtocol:["$Params",function(o){return authProto(o)}],EncryptionProtocol:["$Params","$IsTunnel*",function(o){return encrProto(o)}],IPExtension:["$Params","$IsPPPoX*",function(o){return o.ppp_ip_ext}],ExtraOptions:["$Params","$Raw",function(p,r){return is3G(r)||isTunnel(r)?p.extra_options:void 0}],StaticIPNumberOfEntries:["StaticIP",function(o){return _.size(o)}],StaticIP:{"->":!0,"?":["$parent",function(o){return!!o.StaticIPAddress0}],":":1,Address:["$parent","?",function(o){return o.StaticIPAddress0}]},StaticIPAddress0:["$Params",function(o){return o.static_ip||""}],IPAddress:["$Params",function(o){return o.ip}],IPv6Address:["$Params",function(o){return o.ipv6&&o.ipv6.split("/")[0]}],Prefix:["$Params",function(o){return o.ipv6&&o.ipv6.split("/")[1]}],SubnetMask:["$Params",function(o){return o.mask}],DNSAutomatical:["$Params",function(o){return o.dns_from_dhcp}],DNSServer1:["$Params",function(o){return o.dns_prim}],DNSServer2:["$Params",function(o){return o.dns_sec}],Origin:["$IPv6*",function(o){return o.Origin}],StaticIPv6NumberOfEntries:["$IPv6*",function(o){return o.StaticIPNumberOfEntries}],StaticIPv6:["$IPv6*",function(o){return o.StaticIP}],StaticIPv6Address0:["$IPv6*",function(o){return o.StaticIPAddress0}],StaticIPv6Prefix0:["$IPv6*",function(o){return o.StaticIPPrefix0}],GatewayIPAddress:["$IPv6*",function(o){return o.GatewayIPAddress}],GatewayIPAddressBySlaac:["$IPv6*",function(o){return o.GatewayIPAddressBySlaac}],DNSIPv6Automatical:["$IPv6*",function(o){return o.DNSIPv6Automatical}],DNSIPv6Server1:["$IPv6*",function(o){return o.DNSIPv6Server1}],DNSIPv6Server2:["$IPv6*",function(o){return o.DNSIPv6Server2}],DefaultGatewayv6:["$IPv6*",function(o){return o.DefaultGatewayv6}],MediaType:["$Raw","$IsService*","?",function(o){return o.MediaType}],Media:["$Raw","$IsService*","?",function(o){return o.Media}]},$IPv4:{"->":["$Params","StaticIP","Authorization8021x","Kabinet","HealthCheck"],"{$Raw}":["$root",function(o){return _.filter(o.$Raw,function(e){return isIPv4(e)})}],"?":["$Raw",function(o){return!!o}],$Params:["$Raw","?",function(o){return o.L3}],$IsLTE:["$Raw","?",function(o){return isLTE(o)||void 0}],$IsStatic:["$Params",function(o){return!o.dhcp||void 0}],__Layer:["$Raw","?",function(o){return o.Layer}],__LowerLayer:["$Raw","?",function(o){return o.L2Key}],__Key:["$Raw","?",function(o){return o.L3Key}],__OriginInterface:["$Params",function(o){return o.iface}],Enable:["$Params",function(o){return o.enable}],Name:["$Params",function(o){return o.name}],Status:["$Params","$Raw",function(o,r){return getConnStatus(o,r)}],AddressingType:["$Params",function(o){return o.dhcp?"DHCP":"Static"}],StaticIPNumberOfEntries:["StaticIP",function(o){return _.size(o)}],IPAddress:["$Params",function(o){return o.ip}],StaticIP:{"->":!0,":":1,$Params:["$parent",function(o){return o.$Params}],Address:["$Params",function(o){return o.ip||""}],SubnetMask:["$Params",function(o){return o.mask||""}]},StaticIPAddress0:["StaticIPNumberOfEntries","StaticIP",function(n,o){return n>0?o[1].Address:""}],StaticIPSubnetMask0:["StaticIPNumberOfEntries","StaticIP",function(n,o){return n>0?o[1].SubnetMask:""}],Authorization8021x:{"->":!0,"?":["$parent",function(o){return!!o.$Params["8021x"]}],$8021x:["$parent","?",function(o){return o.$Params["8021x"]}],Enable:["$8021x",function(o){return o.enable}],EAPMethod:["$8021x",function(o){return eap(o)}],Username:["$8021x",function(o){return o.login}],Password:["$8021x",function(o){return o.passwd}]},Kabinet:{"->":!0,"?":["$parent",function(o){return!!o.$Params.kabinet}],Enable:["$parent","?",function(o){return o.$Params.kabinet.enable}],Password:["$parent","?",function(o){return o.$Params.kabinet.pass}]},HealthCheck:{"->":!0,"?":["$parent",function(o){return!!o.$Params&&!!o.$Params.health_check}],$hc:["$parent","?",function(o){return o.$Params.health_check}],Enable:["$hc",function(hc){return hc.enable||!1}],PingAddress:["$hc",function(hc){return hc.ping_address||"8.8.8.8"}],MaxPing:["$hc",function(hc){return hc.max_ping||10}]},GatewayIPAddress:["$Params",function(o){return o.gwip}],DNSAutomatical:["$Params",function(o){return o.dhcp?o.dns_from_dhcp:void 0}],DNSServer1:["$Params",function(o){return o.dns_prim}],DNSServer2:["$Params",function(o){return o.dns_sec}],DefaultGateway:["$Params",function(o){return o.gwif}],VendorID:["$Params",function(o){return o.vendor_id}],Hostname:["$Params",function(o){return o.hostname}],APN:["$Params","$IsLTE*",function(o){return o.apn}],Login:["$Params","$IsLTE*",function(o){return o.login}],Password:["$Params","$IsLTE*",function(o){return o.password}],WithoutAuth:["$Params","$IsLTE*",function(o){return o.noauth}],AuthenticationProtocol:["$Params","$IsLTE*",function(o){return o.noauth||!o.auth?"pap":o.auth}],Flags:["$Raw","?",function(o){return o.Flags}],VLAN:["$Raw","?",function(o){return o.VLAN}],MediaType:["$Raw","?",function(o){return o.MediaType}],Media:["$Raw","?",function(o){return o.Media}]},PPPoE:{"->":!0,ConnectionNumberOfEntries:["Connection",function(o){return _.size(o)}],Connection:{"->":!0,"{$PPP,$i}":["$root",function(o){return _.filter(o.$PPP,function(e){return isXoE(e.$Raw)&&"ppp"==e.$Params.type})}],":":["$i*",function(i){return i+1}],$return:["$PPP*",function(o){return o}]}},PPPoEv6:{"->":!0,ConnectionNumberOfEntries:["Connection",function(o){return _.size(o)}],Connection:{"->":!0,"{$PPP,$i}":["$root",function(o){return _.filter(o.$PPP,function(e){return isXoE(e.$Raw)&&"pppv6"==e.$Params.type})}],":":["$i*",function(i){return i+1}],$return:["$PPP*",function(o){return o}]}},PPPoEDual:{"->":!0,ConnectionNumberOfEntries:["Connection",function(o){return _.size(o)}],Connection:{"->":!0,"{$PPP,$i}":["$root",function(o){return _.filter(o.$PPP,function(e){return isXoE(e)&&"pppdual"==e.$Params.type})}],":":["$i*",function(i){return i+1}],$return:["$PPP*",function(o){return o}]}},PPPoA:{"->":!0,ConnectionNumberOfEntries:["Connection",function(o){return _.size(o)}],Connection:{"->":!0,"{$PPP,$i}":["$root",function(o){return _.filter(o.$PPP,function(e){return isPPPoA(e.$Raw)})}],":":["$i*",function(i){return i+1}],$return:["$PPP*",function(o){return o}]}},PPTP:{"->":!0,ConnectionNumberOfEntries:["Connection",function(o){return _.size(o)}],Connection:{"->":!0,"{$PPP,$i}":["$root",function(o){return _.filter(o.$PPP,function(e){return isTunnel(e.$Raw)})}],":":["$i*",function(i){return i+1}],$return:["$PPP*",function(o){return o}]}},"3G":{"->":!0,ConnectionNumberOfEntries:["Connection",function(o){return _.size(o)}],Connection:{"->":!0,"{$PPP,$i}":["$root",function(o){return _.filter(o.$PPP,function(e){return is3G(e.$Raw)})}],":":["$i*",function(i){return i+1}],$return:["$PPP*",function(o){return o}]}},IPv4oE:{"->":!0,ConnectionNumberOfEntries:["Connection",function(o){return _.size(o)}],Connection:{"->":!0,"{$IPv4,$i}":["$root",function(o){return _.filter(o.$IPv4,function(e){return!isIPoA(e)&&!isLTE(e)})}],":":["$i*",function(i){return i+1}],$return:["$IPv4*",function(o){return o}]}},LTE:{"->":!0,ConnectionNumberOfEntries:["Connection",function(o){return _.size(o)}],Connection:{"->":!0,"{$IPv4,$i}":["$root",function(o){return _.filter(o.$IPv4,function(e){return isLTE(e)})}],":":["$i*",function(i){return i+1}],$return:["$IPv4*",function(o){return o}]}},IPoA:{"->":!0,ConnectionNumberOfEntries:["Connection",function(o){return _.size(o)}],Connection:{"->":!0,"{$IPv4,$i}":["$root",function(o){return _.filter(o.$IPv4,function(e){return isIPoA(e)})}],":":["$i*",function(i){return i+1}],$return:["$IPv4*",function(o){return o}]}},IPv6oE:{"->":!0,ConnectionNumberOfEntries:["Connection",function(o){return _.size(o)}],Connection:{"->":["$Params","StaticIP"],"{$Raw,$i}":["$root",function(o){return _.filter(o.$Raw,function(e){return e.Params&&"ipv6"==e.Params.type})}],":":["$i*",function(i){return i+1}],$Params:["$Raw*",function(o){return o.L3}],$IPv6:["$Raw*",function(o){return o.IPv6}],__Layer:["$Raw*",function(o){return o.Layer}],__LowerLayer:["$Raw*",function(o){return o.L2Key}],__Key:["$Raw*",function(o){return o.L3Key}],__OriginInterface:["$Params*",function(o){return o.iface}],Enable:["$Params*",function(o){return o.enable}],Name:["$Params*",function(o){return o.name}],Status:["$Params*","$Raw",function(o,r){return getConnStatus(o,r)}],Origin:["$IPv6*",function(o){return o.Origin}],IPAddress:["$Params","$IPv6*",function(o){return o.ipv6&&o.ipv6.split("/")[0]}],Prefix:["$Params","$IPv6*",function(o){return o.ipv6&&o.ipv6.split("/")[1]}],StaticIPNumberOfEntries:["$IPv6*",function(o){return o.StaticIPNumberOfEntries}],StaticIP:["$IPv6*",function(o){return o.StaticIP}],StaticIPAddress0:["$IPv6*",function(o){return o.StaticIPAddress0}],StaticIPPrefix0:["$IPv6*",function(o){return o.StaticIPPrefix0}],GatewayIPAddress:["$IPv6*",function(o){return o.GatewayIPAddress}],GatewayIPAddressBySlaac:["$IPv6*",function(o){return o.GatewayIPAddressBySlaac}],DNSIPv6Automatical:["$IPv6*",function(o){return o.DNSIPv6Automatical}],DNSIPv6Server1:["$IPv6*",function(o){return o.DNSIPv6Server1}],DNSIPv6Server2:["$IPv6*",function(o){return o.DNSIPv6Server2}],DefaultGatewayv6:["$IPv6*",function(o){return o.DefaultGatewayv6}],Flags:["$Raw*",function(o){return o.Flags}],VLAN:["$Raw*",function(o){return o.VLAN}],MediaType:["$Raw*",function(o){return o.MediaType}],Media:["$Raw*",function(o){return o.Media}]}},Bridge:{"->":!0,ConnectionNumberOfEntries:["Connection",function(o){return _.size(o)}],Connection:{"->":!0,"{$Raw,$i}":["$root",function(o){return _.filter(o.$Raw,function(e){return e.Params&&"bridge"==e.Params.type})}],":":["$i*",function(i){return i+1}],$Params:["$Raw*",function(o){return o.L3}],__Layer:["$Raw*",function(o){return o.Layer}],__LowerLayer:["$Raw*",function(o){return o.L2Key}],__Key:["$Raw*",function(o){return o.L3Key}],__OriginInterface:["$Params*",function(o){return o.iface}],Enable:["$Params*",function(o){return o.enable}],Name:["$Params*",function(o){return o.name}],Status:["$Params*",function(o){return o.connection_status}],VLAN:["$Raw*",function(o){return o.VLAN}],MediaType:["$Raw*",function(o){return o.MediaType}],Media:["$Raw*",function(o){return o.Media}]}},Media:{Ethernet:{"->":!0,InterfaceNumberOfEntries:["Interface",function(o){return _.size(o)}],Interface:{"->":!0,"{$Raw,$i}":["$root",function(o){return _.uniq(_.filter(o.$Raw,function(e){return"Ethernet"==e.MediaType}),function(e){return e.Media.Ethernet.__Key})}],":":["$i*",function(i){return i+1}],$return:["$Raw*",function(o){return o.Media.Ethernet}]}},WiFi:{"->":!0,NetworkNumberOfEntries:["Network",function(o){return _.size(o)}],Network:{"->":!0,"{$Raw,$i}":["$root",function(o){return _.uniq(_.filter(o.$Raw,function(e){return"WiFi"==e.MediaType}),function(e){return e.Media.WiFi.__Key})}],":":["$i*",function(i){return i+1}],$return:["$Raw*",function(o){return o.Media.WiFi}]}},DSL:{ATM:{"->":!0,LinkNumberOfEntries:["Link",function(o){return _.size(o)}],Link:{"->":!0,"{$Raw,$i}":["$root",function(o){return _.uniq(_.filter(o.$Raw,function(e){return"DSL.ATM"==e.MediaType}),function(e){return e.Media.DSL.ATM.__Key})}],":":["$i*",function(i){return i+1}],$return:["$Raw*",function(o){return o.Media.DSL.ATM}]}},PTM:{"->":!0,LinkNumberOfEntries:["Link",function(o){return _.size(o)}],Link:{"->":!0,"{$Raw,$i}":["$root",function(o){return _.uniq(_.filter(o.$Raw,function(e){return"DSL.PTM"==e.MediaType}),function(e){return e.Media.DSL.PTM.__Key})}],":":["$i*",function(i){return i+1}],$return:["$Raw*",function(o){return o.Media.DSL.PTM}]}}},Bridging:{"->":!0,BridgeNumberOfEntries:["Bridge",function(o){return _.size(o)}],Bridge:{"->":!0,"{$Raw,$i}":["$root",function(o){return _.uniq(_.filter(o.$Raw,function(e){return"Bridging"==e.MediaType}),function(e){return e.Media.Bridging.__Key})}],":":["$i*",function(i){return i+1}],$return:["$Raw*",function(o){return o.Media.Bridging}]}},Dongle:{"->":!0,InterfaceNumberOfEntries:["Interface",function(o){return _.size(o)}],Interface:{"->":!0,"{$Raw,$i}":["$root",function(o){return _.uniq(_.filter(o.$Raw,function(e){return"Dongle"==e.MediaType}),function(e){return e.Media.Dongle.__Key})}],":":["$i*",function(i){return i+1}],$return:["$Raw*",function(o){return o.Media.Dongle}]}}},IPv4DefaultGateway:["$root",function(o){return identifyDefaultGateway(o,"v4")}],IPv6DefaultGateway:["$root",function(o){return identifyDefaultGateway(o,"v6")}],UseAutomaticalPPTP:["$root",function(o){return identifyAutomaticalPPTP(o);
}]}),nativeData=pattern.build({$iface_names:dataWan.iface_names,$ports:dataPorts});return setMediaPath(nativeData.PPPoE.Connection,nativeData),setMediaPath(nativeData.PPPoEv6.Connection,nativeData),setMediaPath(nativeData.PPPoEDual.Connection,nativeData),setMediaPath(nativeData.PPPoA.Connection,nativeData),setMediaPath(nativeData["3G"].Connection,nativeData),setMediaPath(nativeData.IPv4oE.Connection,nativeData),setMediaPath(nativeData.LTE.Connection,nativeData),setMediaPath(nativeData.IPoA.Connection,nativeData),setMediaPath(nativeData.IPv6oE.Connection,nativeData),setMediaPath(nativeData.Bridge.Connection,nativeData),setBaseConnection(nativeData),nativeData}var _keys=__webpack_require__(84),_keys2=_interopRequireDefault(_keys),T=__webpack_require__(122).T,_=__webpack_require__(41);module.exports=function(dataWan,dataPorts){return somovdToNative(dataWan,dataPorts)}},function(module,exports,__webpack_require__){function T(template){if(!(this instanceof T))return new T(template);var tobj=api.compile(template);this.build=function(data){return api.build(tobj,data)}}var api=__webpack_require__(123);module.exports={T:T}},function(module,exports,__webpack_require__){function depk(depsMap){return function(key){return function step(_key,k){if(k&&key==_key){var error=new Error("Cyclic dependency at ");throw error.code="cyclic_deps",error.key=_key,error}var deps=depsMap[_key];if(_.isArray(deps))return _.max(_.map(deps,function(e){return step(e,k+1)}));if(deps)return k;var error=new Error("Key is not found: ");throw error.code="key_not_found",error.key=_key,error}(_.isArray(key)?key[0]:key,0)}}function mapd(template){var obj={$parent:!0,$root:!0},q=template["->"];if(q&&_.isArray(q)&&q.length>0)if(q.length>1)for(var i=q.length-1;i>0;i--){var e0=q[i],e1=q[i-1];obj[e0]=[e1],obj[e1]=!0}else obj[q[0]]=!0;return _.each(template,function(e,i){function setDeps(key){var preDeps=obj[key];obj[key]=_.isArray(preDeps)?fnDeps.concat(preDeps):fnDeps,obj[key]=_.uniq(obj[key])}if("->"!=i&&"-->"!=i){var keys;if(isOrdinaryKey(i)||isSpecialKey(i))keys=[i];else if(keys=parseVarietyKey(i),!keys){var error=new Error("Invalid key format: ");throw error.code="invalid_key_format",error.key=i,error}if(isFn(e)&&_.isArray(e)&&e.length>1)for(var fnDeps=_.initial(e),j=0;j<keys.length;j++)setDeps(stripDep(keys[j]));else for(var j=0;j<keys.length;j++){var k=keys[j];_.isArray(obj[k])||(obj[k]=!0)}}}),stripDepsMap(obj)}function isSpecialKey(key){return"$return"==key||"?"==key||":"==key}function isQueueKey(key){return"->"==key||"-->"==key}function isFn(value){if(_.isArray(value)){if(value.length>1){var fn=_.last(value);if(!_.isFunction(fn))return!1;for(var deps=_.initial(value),i=0;i<deps.length;i++)if(!_.isString(deps[i]))return!1;return!0}return 1==value.length&&_.isFunction(value[0])}return _.isFunction(value)}function parseVarietyKey(key){var arr=key.replace(/\s/g,"").match(/^\s*{([\w\s,\.\x24]+)}\s*$/);return arr&&(keys=arr[1].split(","))&&keys.length>0&&keys.length<4?_.contains(keys,"")?null:keys:null}function buildVarietyKey(arr){var str="{"+arr[0];if(arr.length>1)for(var i=1;i<arr.length;i++)str+=","+arr[i];return str+="}"}function isOrdinaryKey(key){return!!key.match(/^[@\w\.\x24]+$/)}function queue(template){var depsMap=mapd(template);return _.sortBy(_.map(_.sortBy(_.filter(_.keys(template),function(e){return!isQueueKey(e)}),function(e){return e}),function(i){if(isOrdinaryKey(i)||isSpecialKey(i))return i;var value=template[i];if(_.isObject(value)||":external"==value)return parseVarietyKey(i);var error=new Error("Misplaced variety key: ");throw error.code="misplaced_variety_key",error.key=i,error}),depk(depsMap))}function isLiteralObject(value){return!Object.getPrototypeOf(Object.getPrototypeOf(value))}function compile(template,tpath){var obj={};_.isUndefined(tpath)&&(tpath="");try{template["->"]&&(obj["-->"]=queue(template))}catch(err){if(!err.key)throw err;var path=tpath+err.key;throw error=new Error(err.message+'"'+path+'"'),error.code="compile_error",error.path=path,error}for(var i in template){var e=template[i];if(_.isObject(e)&&isLiteralObject(e)){var o=compile(e,tpath+i+"."),subQ=o["-->"];if(subQ){var q=obj["-->"];q?q&&!_.contains(q,i)&&q.push(i):obj["-->"]=[i]}obj[i]=o}else"->"!=i&&(i.search("{")>=0?obj[i.replace(/\s/g,"")]=e:obj[i]=e)}return obj}function genObjColl(obj,keyval,coll){return _.map(coll,function(e,i){var o=_.extend({},obj),val=keyval[0],key=keyval[1];return o[val]=e,key&&(o[key]=i),o})}function callFn(context,depsfn){function isMandatory(dep){return!!dep.match(/^[^\*]+\*$/)}function isCritical(dep){return!!dep.match(/^[^\*]+\*\*$/)}if(_.isFunction(depsfn))return depsfn.call(context);if(1==depsfn.length)return depsfn[0].call(context);var fn=_.last(depsfn),deps=_.initial(depsfn),margs=[],cargs=[],args=[];if(_.each(deps,function(e){var arg=stripDep(e);args.push(arg),isMandatory(e)?margs.push(arg):isCritical(e)&&cargs.push(arg)}),!_.some(margs,function(e){return _.isUndefined(context[e])})){var undefDep=_.find(cargs,function(e){return _.isUndefined(context[e])});if(undefDep){var error=new Error('Undefined critical dependency "'+undefDep+'" for key: ');throw error.code="callfn_cdepundef",error.dep=undefDep,error}return fn.apply(context,_.map(args,function(e){return context[e]}))}}function stripDep(dep){return dep.match(/^[^\*]+/)[0]}function stripDepsMap(depsMap){var _depsMap={};return _.each(depsMap,function(e,i){var deps;deps=_.isArray(e)?_.map(e,function(_e){return stripDep(_e)}):e,_depsMap[i]=deps}),_depsMap}function addVariety(obj,keyval,constructor){function _expand(e){var arr;if(arr=isFn(constructor)?callFn(e,constructor):constructor,_.isUndefined(arr)||_.isObject(arr)&&0==_.size(arr))return e;if(!_.isObject(arr)||!_.isArray(arr)&&!isLiteralObject(arr)){var error=new Error("Incorrect value for variety key: ");throw error.code="incorrect_value_for_variety_key",error.key=buildVarietyKey(keyval),error}return genObjColl(e,keyval,arr)}function _addKeys(arr){return 3==keyval.length&&_.each(arr,function(e,i){e[keyval[2]]=i}),arr}try{return isLiteralObject(obj)?_.isUndefined(constructor)||isFn(constructor)&&_.isUndefined(callFn(obj,constructor))?obj:_addKeys(_expand(obj)):_addKeys(_.flatten(_.map(obj,_expand)))}catch(err){if("callfn_cdepundef"!=err.code)throw err;var error=new Error(err.message);throw error.code="adding_cdepundef",error.dep=err.dep,error.key=buildVarietyKey(keyval),error}}function addProperty(obj,key,constructor){try{if(isLiteralObject(obj)){var value=callFn(obj,constructor);_.isUndefined(value)||(obj[key]=value)}else _.each(obj,function(e){var value=callFn(e,constructor);_.isUndefined(value)||(e[key]=value)})}catch(err){if("callfn_cdepundef"!=err.code)throw err;var error=new Error(err.message);throw error.code="adding_cdepundef",error.dep=err.dep,error.key=key,error}return obj}function addConstant(obj,key,value){return isLiteralObject(obj)?_.isUndefined(value)||(obj[key]=value):_.each(obj,function(e){_.isUndefined(value)||(e[key]=value)}),obj}function build(tobj,data,parent,root,curKey){function qq(o){var _q=o["?"];return _.isUndefined(_q)||_q}try{var obj={"->":!0},q=tobj["-->"];root||(root=obj),obj.$root=root,parent&&(obj.$parent=parent);for(var i=0;i<q.length;i++){var e=q[i];if(_.isArray(e)){var key=buildVarietyKey(e),value=tobj[key];obj=isFn(value)?addVariety(obj,e,value):":external"==value?addVariety(obj,e,data[key]):addVariety(obj,e,value)}else{var key=e,value=tobj[key];if(isFn(value))addProperty(obj,key,value);else if(_.isObject(value))if(isLiteralObject(value)&&value["-->"])if(_.isArray(obj))for(var j=0;j<obj.length;j++){var _e=obj[j];_e[key]=build(value,data,_e,root,key)}else obj[key]=build(value,data,obj,root,key);else addConstant(obj,key,value);else":external"==value?obj=addConstant(obj,key,data[key]):addConstant(obj,key,value)}if("?"==e)if(_.isArray(obj))obj=_.filter(obj,function(_e){return qq(_e)});else if(!qq(obj))return}return curKey?postBuild(obj,tobj):clean(postBuild(obj,tobj))}catch(err){if(!err.key)throw err;var error=new Error;error.messageBase=err.messageBase?err.messageBase:err.message;var key;throw key=curKey?curKey+"."+err.key:err.key,error.code="build_error",error.key=key,error.message=error.messageBase+'"'+error.key+'"',err.dep&&(error.dep=err.dep),error}}function postBuild(obj,tobj){function isEmptyColl(obj){return!(!_.find(tobj["-->"],function(e){return _.isArray(e)})||_.isArray(obj))}if(isEmptyColl(obj))return tobj[":"]?{}:[];if(tobj.$return){if(tobj[":"]){if(_.isArray(obj)){var _obj={};return _.each(obj,function(e){_.isUndefined(e[":"])||(_obj[e[":"]]=e.$return)}),_obj}var _obj={};return _.isUndefined(obj[":"])||(_obj[obj[":"]]=obj.$return),_obj}return _.isArray(obj)?_.map(obj,function(e){return e.$return}):obj.$return}if(tobj[":"]){if(_.isArray(obj)){var _obj={};return _.each(obj,function(e){_.isUndefined(e[":"])||(_obj[e[":"]]=e)}),_obj}var _obj={};return _.isUndefined(obj[":"])||(_obj[obj[":"]]=obj),_obj}return obj}function clean(obj){function cln(obj,inx){var o=clean(obj[inx]);_.isUndefined(o)?delete obj[inx]:obj[inx]=o}if(_.isObject(obj)&&isLiteralObject(obj))if(obj["->"]){if(!_.isUndefined(obj["?"])&&!obj["?"])return;delete obj["->"],delete obj["-->"],delete obj[":"],delete obj["?"];for(var i in obj)"$"==i[0]?delete obj[i]:cln(obj,i)}else for(var i in obj)cln(obj,i);else if(_.isArray(obj)){for(var i=0;i<obj.length;i++)obj[i]=clean(obj[i]);return _.filter(obj,function(e){return!_.isUndefined(e)})}return obj}var _=__webpack_require__(41);module.exports={depk:depk,mapd:mapd,isSpecialKey:isSpecialKey,isQueueKey:isQueueKey,isFn:isFn,parseVarietyKey:parseVarietyKey,buildVarietyKey:buildVarietyKey,isOrdinaryKey:isOrdinaryKey,isLiteralObject:isLiteralObject,queue:queue,compile:compile,genObjColl:genObjColl,callFn:callFn,addVariety:addVariety,addProperty:addProperty,addConstant:addConstant,clean:clean,postBuild:postBuild,build:build,stripDep:stripDep,stripDepsMap:stripDepsMap}},,function(module,exports,__webpack_require__){"use strict";"use version 6";function linkType(o){switch(o){case"EoA":return"MDMVS_EOA";case"IPoA":return"MDMVS_IPOA";case"PPPoA":return"MDMVS_PPPOA"}return"unknown"}function qosClass(o){switch(o){case"UBR":return"ubr";case"UBR+":return"ubr_pcr";case"CBR":return"cbr";case"VBR-nrt":return"nrtvbr";case"VBR-rt":return"rtvbr"}return"unknown"}function dongleActualType(o){return o.Type.toLowerCase()}function dongleMode(o){switch(o.Type){case"3G":switch(o.Mode){case"Auto":return"32";case"3G":return"3";case"2G":return"2"}return"32";case"USB":switch(o.Mode){case"Auto":return"0x000";case"3G":return"0x002";case"2G":return"0x001";case"Auto 2G->3G":return"0x008";case"Auto 3G->2G":return"0x010";case"Auto 2G->3G->LTE":return"0x020";case"Auto 3G->LTE":return"0x080";case"Auto LTE->3G":return"0x100"}return"0x000";case"LTE":switch(o.Mode){case"Auto":return"0";case"4G":return"4";case"3G":return"3";case"2G":return"2"}return"0"}return"0"}function is3G(o){if("Dongle"==o.MediaType){var dongle=o.Media.Dongle;return"3G"==dongle.Type||"USB"==dongle.Type}return!1}function authProto(o){var auth=o.AuthenticationProtocol||"Auto";switch(auth){case"AUTO":return"0";case"PAP":return"1";case"CHAP":return"2";case"MS-CHAP":return"3";case"MS-CHAP-V2":return"4"}}function encrProto(params){var encrypt=params.EncryptionProtocol||"None";switch(encrypt){case"None":return"0";case"MPPE":return"1";case"MPPE40":return"2";case"MPPE128":return"3"}}function onDemand(params){return"OnDemand"==params.ConnectionTrigger?params.IdleDisconnectTime:0}function isPPPoA(o){return"DSL.ATM"==o.MediaType&&"PPPoA"==o.Media.DSL.ATM.LinkType}function isXoE(o){switch(o.MediaType){case"Ethernet":case"WiFi":case"DSL.PTM":case"Bridging":return!0;case"DSL.ATM":return"EoA"==o.Media.DSL.ATM.LinkType}return!1}function isTunnel(o){return!!o.ActualType}function eap(o){switch(o.EAPMethod){case"EAP-MD5":return 0;case"EAP-TTLS/CHAP":return 1;case"EAP-TTLS/MS-CHAP":return 2;case"EAP-TTLS/MS-CHAPv2":return 3}return 0}function getFullIPv6(address,prefix){var ipv6=address;return prefix&&(ipv6+="/"+prefix),ipv6}function isIPv6(o){return!!o.Origin}function getLayersSets(device){function convert(data,tname,type){return data?_.map(data.Connection,function(e){var media=getMedia(e),l2=getL2(e);return{l3:_.extend(tname?components[tname].build({$Connection:e,type:type}):{type:type},components.header.build({$Connection:e}),components.flags.build({$Connection:e}),components.vlan.build({$Connection:e,$Media:media}),components.health_check.build({$Connection:e})),l2:l2}}):[]}function getAutoConnectionLayers(){return{l2:{__key:"auto",is_wan:!0,type:"auto"},l3:{__key:"auto",type:"auto"}}}function getL2(e){switch(e.MediaType){case"Ethernet":return components.ethernet.build({$Interface:getMedia(e)});case"DSL.ATM":return components.atm.build({$Link:getMedia(e)});case"DSL.PTM":return components.ptm.build({$Link:getMedia(e)});case"WiFi":return components.wifi.build({$Network:getMedia(e)});case"Bridging":return components.bridging.build({$Bridge:getMedia(e)});case"Dongle":return components.dongle.build({$Interface:getMedia(e)})}}function getMedia(e){switch(e.MediaType){case"Ethernet":return e.Media.Ethernet;case"DSL.ATM":return e.Media.DSL.ATM;case"DSL.PTM":return e.Media.DSL.PTM;case"WiFi":return e.Media.WiFi;case"Bridging":return e.Media.Bridging;case"Dongle":return e.Media.Dongle}}function getLowerLayer(baseConnection,device){var obj=getByPath(baseConnection,device);return obj?obj.__Key:null}function getByPath(path,obj){var arr=path.split(".").slice(2,-1),prop=obj;for(var i in arr){var key=arr[i];prop=prop[key]}return prop}var lset=[].concat(convert(device.Bridge,"","bridge")).concat(convert(device.IPv4oE,"ip","ip")).concat(convert(device.PPPoE,"ppp","ppp")).concat(convert(device.PPPoEv6,"ppp","pppv6")).concat(convert(device.PPPoEDual,"ppp","pppdual")).concat(convert(device.PPPoA,"ppp","ppp")).concat(convert(device["3G"],"ppp","ppp")).concat(convert(device.LTE,"ip")).concat(convert(device.IPoA,"ip")).concat(convert(device.IPv6oE,"ipv6"));return device.PPTP&&_.each(device.PPTP.Connection,function(c){if(c.AutomaticalConnection){var obj=getAutoConnectionLayers();lset.push(obj)}else if(c.BaseConnection)var lowerLayer=getLowerLayer(c.BaseConnection,device),obj=_.find(lset,function(e){return e.l3.__key==lowerLayer});obj&&(obj.l4=_.extend(components.ppp.build({$Connection:c,type:c.ActualType.toLowerCase()}),components.header.build({$Connection:c}),components.flags.build({$Connection:c}),components.vlan.build({$Connection:c})))}),lset}var T=__webpack_require__(122).T,_=__webpack_require__(41);module.exports=function(data){return _.map(getLayersSets(data),function(e){var obj={},l2key=e.l2.__key,l3key=e.l3.__key;obj[l2key]=e.l2,delete obj[l2key].__key;var services=obj[l2key].services={};if(services[l3key]=e.l3,delete services[l3key].__key,delete services[l3key].__lower_layer,e.l4){var l4key=e.l4.__key,tunnels=services[l3key].tunnels={};tunnels[l4key]=e.l4,delete tunnels[l4key].__key,delete tunnels[l4key].__lower_layer}return obj})};var components={ethernet:T({"->":!0,$Interface:":external",__key:["$Interface",function(o){return o.__Key}],__vlan_name:["$Interface",function(o){return o.__VlanName}],type:"ethernet",is_wan:!0,enable:["$Interface",function(o){return o.Enable}],port:["$Interface",function(o){return o.Name}],mac:["$Interface",function(o){return o.MACAddress}],mtu:["$Interface",function(o){return o.MaxMRUSize}]}),atm:T({"->":["$Link","pvc_settings"],$Link:":external",__key:["$Link",function(o){return o.__Key}],__vlan_name:["$Link",function(o){return o.__VlanName}],type:"atm",is_wan:!0,enable:["$Link",function(o){return o.Enable}],iface:["$Link",function(o){return o.Name}],link_type:["$Link",function(o){return linkType(o.LinkType)}],connection_mode:["$Link",function(o){return o.ConnectionMode}],pvc_settings:{"->":!0,$vpivci:["$parent",function(o){return o.$Link.DestinationAddress.split("/")}],encap:["$parent",function(o){return o.$Link.Encapsulation.toLowerCase()}],vpi:["$vpivci",function(o){return parseInt(o[0])}],vci:["$vpivci",function(o){return parseInt(o[1])}],qos:["$parent",function(o){return qosClass(o.$Link.QoSClass)}],pcr:["$parent","qos",function(p,qos){return"ubr"!=qos?p.$Link.PeakCellRate:void 0}],mbs:["$parent","qos",function(p,qos){return"nrtvbr"==qos||"rtvbr"==qos?p.$Link.MaximumBurstSize:void 0}],scr:["$parent","qos",function(p,qos){return"nrtvbr"==qos||"rtvbr"==qos?p.$Link.SustainableCellRate:void 0}]}}),ptm:T({"->":!0,$Link:":external",__key:["$Link",function(o){return o.__Key}],__vlan_name:["$Link",function(o){return o.__VlanName}],type:["$Link",function(o){return o.__ActualType?o.__ActualType:"ptm"}],is_wan:!0,enable:["$Link",function(o){return o.Enable}],port:["$Link",function(o){return o.Name}],mac:["$Link",function(o){return o.MACAddress}],link_type:["$Link",function(o){return linkType(o.LinkType)}],connection_mode:["$Link",function(o){return o.ConnectionMode}]}),wifi:T({"->":!0,$Network:":external",__key:["$Network",function(o){return o.__Key}],__vlan_name:["$Network",function(o){return o.__VlanName}],type:"ethernet",is_wan:!0,port:["$Network",function(o){return o.Name}],enable:["$Network",function(o){return o.Enable}],mac:["$Network",function(o){return o.MACAddress}],mtu:["$Network",function(o){return o.MaxMRUSize}]}),bridging:T({"->":!0,$Bridge:":external",__key:["$Bridge",function(o){return o.__Key}],__vlan_name:["$Bridge",function(o){return o.__VlanName}],type:"bridge",is_wan:!0,enable:["$Bridge",function(o){return o.Enable}],port:["$Bridge",function(o){return o.Name}],mac:["$Bridge",function(o){return o.MACAddress}]}),dongle:T({"->":!0,$Interface:":external",__key:["$Interface",function(o){return o.__Key}],__vlan_name:["$Interface",function(o){return o.__VlanName}],is_wan:!0,enable:["$Interface",function(o){return o.Enable}],port:["$Interface",function(o){return o.Name}],mac:["$Interface",function(o){return o.MACAddress}],type:["$Interface",function(o){return dongleActualType(o)}],dongle_type:["$Interface",function(o){return o.DongleType}],mode:["$Interface",function(o){return dongleMode(o)}]}),header:T({"->":!0,$Connection:":external",__lower_layer:["$Connection",function(o){return o.__LowerLayer}],__key:["$Connection",function(o){return o.__Key}],enable:["$Connection",function(o){return o.Enable}],name:["$Connection",function(o){return o.Name}],connection_status:["$Connection",function(o){return o.Status}]}),ppp:T({"->":["$Connection","keep_alive"],$Connection:":external",$Is3G:["$Connection",function(o){return is3G(o)||void 0}],$IsPPPoX:["$Connection",function(o){return isPPPoA(o)||isXoE(o)||void 0}],$IsTunnel:["$Connection",function(o){return isTunnel(o)||void 0}],$IsIPv6:["$Connection",function(o){return!!o.Origin||void 0}],$IsStaticIPv6:["$Connection","$IsIPv6*",function(o){return"Static"==o.Origin||void 0}],$IsDynamicIPv6:["$Connection","$IsIPv6*",function(o){return"Static"!=o.Origin||void 0}],type:":external",ppp_state:["$Connection",function(o){return o.PPPState}],ppp_debug:["$Connection",function(o){return o.PPPDebug}],ppp_mppc:["$Connection",function(o){return o.PPPMPPC}],username:["$Connection",function(o){return o.Username}],password:["$Connection",function(o){return o.WithoutAuth?"":o.Password}],servicename:["$Connection",function(o){return o.ServiceName}],apn:["$Connection","$Is3G*",function(o){return o.APN}],dial_num:["$Connection","$Is3G*",function(o){return o.DialNumber}],mtu:["$Connection",function(o){return o.MaxMRUSize}],gwif:["$Connection",function(o){return o.DefaultGateway}],keep_alive:{"->":!0,interval:["$parent",function(o){return o.$Connection.KeepAlive?o.$Connection.LCPEcho:void 0}],fails:["$parent",function(o){return o.$Connection.KeepAlive?o.$Connection.LCPEchoRetry:void 0}]},ondemand:["$Connection",function(o){return onDemand(o)}],auto:["$Connection","$IsTunnel*",function(o){return"AlwaysOn"==o.ConnectionTrigger}],auth:["$Connection",function(o){return authProto(o)}],encrypt:["$Connection","$IsTunnel*",function(o){return encrProto(o)}],ppp_ip_ext:["$Connection","$IsPPPoX*",function(o){return o.IPExtension}],extra_options:["$Connection",function(o){return is3G(o)||isTunnel(o)?o.ExtraOptions:void 0}],static_ip:["$Connection",function(o){return o.StaticIPAddress0}],ipv6_auto:["$Connection","$IsIPv6*",function(o){return"AutoConfigured"==o.Origin}],ipv6_by_dhcpv6:["$Connection","$IsIPv6*",function(o){return"AutoConfiguredByDHCPv6"==o.Origin}],ipv6_by_slaac:["$Connection","$IsIPv6*",function(o){return"AutoConfiguredBySlaac"==o.Origin}],ipv6:["$Connection","$IsIPv6*",function(o){return getFullIPv6(o.StaticIPv6Address0,o.StaticIPv6Prefix0)}],gwipv6:["$Connection","$IsIPv6*",function(o){return o.GatewayIPAddress}],slaac:["$Connection","$IsIPv6*",function(o){return o.GatewayIPAddressBySlaac}],dns_from_dhcpv6:["$Connection","$IsDynamicIPv6*",function(o){return o.DNSIPv6Automatical}],dns_primv6:["$Connection",function(o){return o.DNSIPv6Server1}],dns_secv6:["$Connection",function(o){return o.DNSIPv6Server2}],dns_from_dhcp:["$Connection",function(o){return o.DNSAutomatical}],dns_prim:["$Connection",function(o){return o.DNSServer1}],dns_sec:["$Connection",function(o){return o.DNSServer2}],gwifv6:["$Connection","$IsIPv6*",function(o){return o.DefaultGatewayv6}]}),ip:T({"->":["$Connection","8021x","kabinet"],$Connection:":external",$IsStatic:["$Connection",function(o){return"Static"==o.AddressingType||void 0}],$IsDynamic:["$Connection",function(o){return"DHCP"==o.AddressingType||void 0}],type:"ip",dhcp:["$Connection",function(o){return"DHCP"==o.AddressingType}],ip:["$Connection","$IsStatic*",function(o){return o.StaticIPAddress0}],mask:["$Connection","$IsStatic*",function(o){return o.StaticIPSubnetMask0}],gwip:["$Connection",function(o){return o.GatewayIPAddress}],iface:["$Connection",function(o){return o.__LowerLayer}],dns_from_dhcp:["$Connection","$IsDynamic*",function(o){return o.DNSAutomatical}],dns_prim:["$Connection",function(o){return o.DNSServer1}],dns_sec:["$Connection",function(o){return o.DNSServer2}],gwif:["$Connection",function(o){return o.DefaultGateway}],vendor_id:["$Connection",function(o){return o.VendorID}],hostname:["$Connection",function(o){return o.Hostname}],apn:["$Connection","$IsDynamic*",function(o){return o.APN}],noauth:["$Connection","$IsDynamic*",function(o){return o.WithoutAuth}],auth:["$Connection","$IsDynamic*",function(o){return o.WithoutAuth?"none":o.AuthenticationProtocol}],login:["$Connection","$IsDynamic*",function(o){return o.Login}],password:["$Connection","$IsDynamic*",function(o){return o.WithoutAuth?"":o.Password}],"8021x":{"->":!0,"?":["$parent",function(o){return!!o.$Connection.Authorization8021x}],$8021x:["$parent","?",function(o){return o.$Connection.Authorization8021x}],enable:["$8021x",function(o){return o.Enable}],eap_method:["$8021x",function(o){return eap(o)}],login:["$8021x",function(o){return o.Username}],passwd:["$8021x",function(o){return o.Password}]},kabinet:{"->":!0,"?":["$parent",function(o){return!!o.$Connection.Kabinet&&o.$Connection.Kabinet.Enable}],enable:["$parent","?",function(o){return o.$Connection.Kabinet.Enable}],pass:["$parent","?",function(o){return o.$Connection.Kabinet.Password}]}}),ipv6:T({"->":!0,$Connection:":external",type:"ipv6",dhcp:["$Connection",function(o){return"Static"!=o.Origin}],ipv6_auto:["$Connection",function(o){return"AutoConfigured"==o.Origin}],ipv6_by_dhcpv6:["$Connection",function(o){return"AutoConfiguredByDHCPv6"==o.Origin}],ipv6_by_slaac:["$Connection",function(o){return"AutoConfiguredBySlaac"==o.Origin}],ipv6:["$Connection",function(o){return getFullIPv6(o.StaticIPAddress0,o.StaticIPPrefix0)}],gwipv6:["$Connection",function(o){return o.GatewayIPAddress||""}],slaac:["$Connection",function(o){return o.GatewayIPAddressBySlaac}],dns_from_dhcpv6:["$Connection",function(o){return o.DNSIPv6Automatical}],dns_primv6:["$Connection",function(o){return o.DNSIPv6Server1||""}],dns_secv6:["$Connection",function(o){return o.DNSIPv6Server2||""}],gwifv6:["$Connection",function(o){return o.DefaultGatewayv6}]}),flags:T({"->":!0,$Connection:":external",$IsIPv4:["$Connection",function(o){return!isIPv6(o)||void 0}],$Flags:["$Connection",function(o){return o.Flags}],rip:["$Flags*",function(o){return o.RIP}],nat:["$Flags*",function(o){return o.NAT}],igmp:["$Flags*",function(o){return o.IGMP}],firewall:["$Flags*",function(o){return o.Firewall}],ping_respond:["$Flags*",function(o){return o.Ping}],rtsp:["$Flags*",function(o){return o.RTSP}],table_alt:["$Flags*",function(o){return o.AltRoutingTable}],mld:["$Flags*",function(o){return o.MLD}]}),vlan:T({"->":["?","$vlan","vlan"],$Connection:":external",$Media:":external","?":["$Connection","$Media",function(o,m){return!!o.VLAN&&!!o.VLAN.Enable||!!m&&!!m.UseMultiPVC}],$vlan:["$Connection",function(o){return o.VLAN}],vlan:{"->":!0,$vlan:["$parent",function(p){return p.$vlan}],vlanid:["$vlan*",function(v){return v.Enable?v.ID:void 0}],vlanpr:["$vlan*",function(v){return v.Enable?parseInt(v.Priority):void 0}]}}),health_check:T({"->":["?","$hc","health_check"],$Connection:":external","?":["$Connection",function(o){return!!o.HealthCheck}],$hc:["$Connection","?",function(o){return o.HealthCheck}],health_check:{"->":!0,$hc:["$parent",function(p){return p.$hc}],enable:["$hc",function(hc){return hc.Enable}],ping_address:["$hc",function(hc){return hc.Enable?hc.PingAddress:void 0}],max_ping:["$hc",function(hc){return hc.Enable?hc.MaxPing:void 0}]}})}},,,,function(module,exports,__webpack_require__){"use strict";function hasRadioGHz(wifi,ghz){return!!wifi[35]&&("2.4GHz"==ghz?_.has(wifi[35],"Radio")||_.has(wifi[35],"apcli"):"5GHz"==ghz?_.has(wifi[35],"5G_Radio")||_.has(wifi[35],"5G_apcli"):void 0)}function radioNumberOfEntries(wifi){var result=0;return hasRadioGHz(wifi,"2.4GHz")&&result++,hasRadioGHz(wifi,"5GHz")&&result++,result}function supportedStandards(modes,band){return modes?_.chain(modes).map(function(mode){return standardsModes[mode.Name]?standardsModes[mode.Name].split(","):[]}).flatten().uniq().value().join(","):void 0}function operatingStandards(modes,id,band){return modes?supportedStandards(_.filter(modes,function(m){return m.Id==id})):void 0}function autoChannelEnable(channel){return channel?"auto"==channel:void 0}function channel(ch,autoCh){return autoCh?autoCh:ch?"auto"!=ch?parseInt(ch):"auto":void 0}function authModesSupported(modes){var allModes=_.values(authModes);if(!modes)return allModes.join(",");var supportModes=_.chain(modes).map(function(mode){return authModes[mode.Id]}).flatten().uniq().value();return supportModes.join(",")}function authModeEnabled(mode,key){return mode?authModes[mode]:void 0}function getSupportedChannelBandwidth(ba){if(ba){var list=_.pluck(ba,"Name");_.each(list,function(elem,inx){list[inx]=-1!=elem.search(" ")?elem.substring(0,elem.search(" ")):elem});var result=_.uniq(list).join(",");return result}}function getCoexistence(bandwidth,bandwidthList){return _.find(bandwidthList,function(elem){return-1!=elem.Name.search("Coexistence")})?"1"==bandwidth||"5"==bandwidth||"9"==bandwidth||"10"==bandwidth:void 0}function getChannelBandwidth(ba,bw){var result=_.find(ba,function(elem){return elem.Id==bw});if(result){var name=-1!=result.Name.search(" ")?result.Name.substring(0,result.Name.search(" ")):result.Name;return name?name:void 0}}function getHTGI(htgi){switch(htgi){case"enable":return"Enable";case"disable":return"Disable";case"auto":return"Auto"}}function getBGProtection(pr){switch(pr){case"0":return"Auto";case"1":return"Always On";case"2":return"Always Off"}}function formContriesList(obj38){return _.sortBy(obj38.CountryList,"name")}function formScanList(wifi){var result={},index=1,obj133=components.scanList.build({$scanList:wifi[133],$band:"2.4GHz"});_.each(obj133,function(value){return result[index++]=value});var obj185=components.scanList.build({$scanList:wifi[185],$band:"5GHz"});return _.each(obj185,function(value){return result[index++]=value}),result}function getClientBand(range){return"5 GHz"==range?"5GHz":"2.4GHz"}function getScanModeEnabled(sec){if(sec){var mode=sec.split("/")[0];switch(mode){case"NONE":case"OPEN":return"None";case"SHARED":case"WEP":return"WEP";case"WPA":return"WPA-Enterprise";case"WPA2":return"WPA2-Enterprise";case"WPA1WPA2":return"WPA-WPA2-Enterprise";case"WPAPSK":return"WPA-Personal";case"WPA2PSK":return"WPA2-Personal";case"WPAPSKWPA2PSK":case"WPA1PSKWPA2PSK":return"WPA-WPA2-Personal";case"WPA3SAE":return"WPA3";case"WPA2PSKWPA3SAE":return"WPA2-WPA3";default:return"Unknown"}}}function getScanEncryptionType(sec){if(sec){var encr=sec.split("/")[1];return"TKIPAES"==encr?"TKIP+AES":encr}}function getWDSEncryptionType(mode){switch(mode){case"WEP":return"WEP";case"TKIP":return"TKIP";case"AES":return"AES";default:return"None"}}function getHideSSIDCommon(o,m){return m&&m[0]&&_.has(m[0],"HideSSID")?void 0:o.HideSSID}function getWDSMode(mode){switch(mode){case"0":return"Disabled";case"2":return"Bridge";case"3":return"Repeater"}}function getClientInfo(client,band){return client&&_.size(client)>0&&client.Enable&&client.Band==band}var _=__webpack_require__(41),T=__webpack_require__(122).T;module.exports=T({"->":["Radio","RadioNumberOfEntries","EndPoint","EndPointNumberOfEntries","ScanList","WDS","ClientBasic"],$wifi:":external",RadioNumberOfEntries:["$wifi",function(w){return radioNumberOfEntries(w)}],Radio:{"->":!0,1:["$root",function(r){return hasRadioGHz(r.$wifi,"2.4GHz")?components.radio.build({$wifi:r.$wifi,$band:"2.4GHz"}):void 0}],2:["$root",function(r){return hasRadioGHz(r.$wifi,"5GHz")?components.radio.build({$wifi:r.$wifi,$band:"5GHz"}):void 0}]},CountriesList:["$wifi",function(w){return w[38]?formContriesList(w[38]):void 0}],ScanList:["$wifi",function(w){return w[133]||w[185]?formScanList(w):void 0}],WDS:["$wifi",function(w){return w[35]?components.wds.build({$wifi:w[35]}):void 0}],ClientBasic:["$wifi",function(w){return w[35]?components.client.build({$wifi:w,$band:"2.4GHz"}):void 0}]});var components={radio:T({"->":["$mbssid","AccessPoint","EndPoint","WMM"],$wifi:":external",$band:":external",$prefix:["$band",function(b){return"2.4GHz"==b?"":"5G_"}],$obj35:["$wifi",function(w){return w[35]}],$obj37:["$wifi",function(w){return w[37]}],$obj111:["$wifi",function(w){return w[111]}],$mbssid:["$obj35","$prefix",function(o,p){return o[p+"mbssid"]}],$addons:["$obj35","$prefix",function(o,p){return o[p+"addon_settings"]}],$client:["$wifi","$band",function(wifi,band){return components.client.build({$wifi:wifi,$band:band})}],OperatingFrequencyBand:["$band",function(b){return b}],Enable:["$obj35","$prefix",function(o,p){return o[p+"Radio"]}],RegulatoryDomain:["$obj35",function(o){return o.CountryCode}],SupportedStandards:["$obj35","$prefix","$band",function(o,p,b){return supportedStandards(o[p+"ModeAvailable"],b)}],OperatingStandards:["$obj35","$prefix","$band",function(o,p,b){return operatingStandards(o[p+"ModeAvailable"],o[p+"WirelessMode"],b)}],ModeAvailable:["$obj35","$prefix","$band",function(o,p,b){return o[p+"ModeAvailable"]}],CheckStandard:!1,PossibleChannels:["$obj37*","$prefix",function(o,p){return _.without(o[p+"ChannelList"],"auto")}],AutoChannelSupported:["$obj37*","$prefix",function(o,p){return _.contains(o[p+"ChannelList"],"auto")}],AutoChannelEnable:["$obj35","$prefix",function(o,p){return autoChannelEnable(o[p+"Channel"])}],AutoChannelReselect:["$obj35","$prefix",function(o,p){return o[p+"ReselectAutoChannel"]}],AutoChannelReselectPeriod:["$obj35","$prefix",function(o,p){return o[p+"PeriodReselectChannel"]}],Channel:["$obj35","$prefix",function(o,p){return channel(o[p+"Channel"],o[p+"Auto_channel"])}],HighChannelEnable:["$obj35","$prefix",function(o,p){return o[p+"allowHighChannels"]}],SMSlaveClientEnable:["$client","$band",function(c,b){return getClientInfo(c,b)}],SSIDAdvertisementEnabledCommon:["$obj35","$mbssid",function(o,m){return getHideSSIDCommon(o,m)}],TransmitPowerSupported:["$obj35",function(o){return o.TxPowerAvailable?o.TxPowerAvailable.join(","):void 0}],SupportedChannelBandwidthList:["$obj35","$prefix",function(o,p){return o[p+"BandwidthAvailable"]}],SupportedChannelBandwidth:["$obj35","$prefix",function(o,p){return getSupportedChannelBandwidth(o[p+"BandwidthAvailable"]);
}],OperatingChannelBandwidth:["$addons*","$obj35","$prefix",function(a,o,p){return getChannelBandwidth(o[p+"BandwidthAvailable"],a.BandWidth)}],Coexistence:["$addons*","$obj35","$prefix",function(a,o,p){return getCoexistence(a.BandWidth,o[p+"BandwidthAvailable"])}],CurrentChannelBandwidth:["$addons*",function(a){return a.CurrWidth?a.CurrWidth:void 0}],CurrentChannelBandwidthDetail:["$addons*",function(a){return a.CheckWidthDetail?a.CheckWidthDetail:void 0}],BeaconPeriod:["$addons*",function(a){return a.BeaconPeriod?parseInt(a.BeaconPeriod):void 0}],RTSThreshold:["$addons*",function(a){return a.RTSThreshold?parseInt(a.RTSThreshold):void 0}],FragmentationThreshold:["$addons*",function(a){return a.FragThreshold?parseInt(a.FragThreshold):void 0}],DTIMPeriod:["$addons*",function(a){return a.DtimPeriod?parseInt(a.DtimPeriod):void 0}],StationKeepAlive:["$addons*",function(a){return a.StationKeepAlive?parseInt(a.StationKeepAlive):void 0}],HTGI:["$addons*",function(a){return a.HTGI?getHTGI(a.HTGI):void 0}],AdaptivityMode:["$addons*",function(a){return a.AdaptivityMode}],EnableLowOFDM:["$addons*",function(a){return a.EnableLowOFDM}],Igmpdrop:["$addons*",function(a){return a.igmpdrop}],BGProtection:["$addons*",function(a){return getBGProtection(a.BGProtection)}],TxPreamble:["$addons*",function(a){return a.TxPreamble}],TxBeamforming:["$addons*",function(a){return a.TxBeamforming}],TransmitPower:["$addons*",function(a){return a.TxPower}],AutoChannelType:["$addons*",function(a){return a.AutoChannelType}],AutoChannelTypeSupported:["$obj35","$prefix",function(o,p){return o[p+"AutoChannelTypeAvailable"]}],AccessPointMax:["$obj35","$prefix",function(o,p){return o[p+"mbssidMax"]}],AccessPointCurrent:["$obj35","$prefix",function(o,p){return o[p+"mbssidCur"]}],MultiWPS:!1,AccessPointNumberOfEntries:["$obj35","$prefix",function(o,p){return o[p+"mbssidNum"]}],STBC:["$addons*",function(a){return a.STBC}],DFS:["$addons*",function(a){return a.DFS}],AccessPoint:{"->":["?","$mbssid","$index",":","$obj35","$prefix","Security","WPS"],"?":["$parent",function(p){return!!p.$mbssid}],"{$mbssid, $index}":["$parent",function(p){return p.$mbssid}],":":["$index",function(i){return i+1}],$obj35:["$parent",function(p){return p.$obj35}],$obj111:["$parent",function(p){return p.$obj111}],$prefix:["$parent",function(p){return p.$prefix}],SSID:["$mbssid",function(m){return m.SSID}],Broadcast:["$mbssid",function(m){return m.WifiBroadcast}],GuestAccess:["$mbssid",function(m){return m.GuestAccess}],BSSID:["$mbssid",function(m){return m.BSSID}],SSIDAdvertisementEnabled:["$mbssid",function(m){return m.HideSSID}],MaxAssociatedDevices:["$mbssid",function(m){return m.MaxStaNum?parseInt(m.MaxStaNum):void 0}],BandwidthRestricted:["$mbssid",function(m){return m.BwRestrict&&m.BwRestrict>=1024?m.BwRestrict/1024:m.BwRestrict}],CPEBlock:["$mbssid",function(m){return m.CPE_block}],ClientIsolation:["$mbssid",function(m){return m.Isolation}],NSG:["$mbssid",function(m){return m.nsg}],Security:{"->":!0,"?":["$mbssid",function(m){return!_.isUndefined(m.AuthMode)}],$obj35:["$parent",function(p){return p.$obj35}],$prefix:["$parent",function(p){return p.$prefix}],$mbssid:["$parent",function(p){return p.$mbssid}],$key1Str:["$mbssid",function(m){return m.Key1Str}],$enType:["$mbssid",function(m){return m.EncrypType}],ModesSupported:["$obj35",function(o){return authModesSupported(o.AuthAvailable)}],ModeEnabled:["$mbssid",function(m){return authModeEnabled(m.AuthMode,m.Key1Str)}],PreSharedKey:["$mbssid",function(m){return m.WPAPSK}],ProtectedManagementFrames:["$mbssid",function(m){return m.ProtectedManagementFrames}],EncryptionType:["$enType*",function(en){return"TKIPAES"==en?"TKIP+AES":en}],RekeyingInterval:["$mbssid",function(m){return m.RekeyInterval?parseInt(m.RekeyInterval):void 0}],RadiusServerIPAddr:["$mbssid",function(m){return m.RADIUS_Server}],RadiusServerPort:["$mbssid",function(m){return m.RADIUS_Port?parseInt(m.RADIUS_Port):void 0}],RadiusSecret:["$mbssid",function(m){return m.RADIUS_Key}],DefaultKeyID:["$mbssid",function(m){return m.DefaultKeyID?(parseInt(m.DefaultKeyID)+1).toString():void 0}],AccessPolicy:["$mbssid",function(m){return m.AccessPolicy}],PreAuthentication:["$mbssid",function(m){return m.PreAuth}],IEEE8021X:["$mbssid",function(m){return m.IEEE8021X}],OpenWEP:["$enType*",function(en){return"WEP"==en}],WEPKeysLength:["$mbssid",function(m){return m.wepKeyLength}],WEPasHEX:["$mbssid",function(m){return"0"==m.Key1Type}],WEPKey1:["$mbssid",function(m){return m.Key1Str}],WEPKey1Type:["$mbssid",function(m){return m.Key1Type}],WEPKey2:["$mbssid",function(m){return m.Key2Str}],WEPKey2Type:["$mbssid",function(m){return m.Key2Type}],WEPKey3:["$mbssid",function(m){return m.Key3Str}],WEPKey3Type:["$mbssid",function(m){return m.Key3Type}],WEPKey4:["$mbssid",function(m){return m.Key4Str}],WEPKey4Type:["$mbssid",function(m){return m.Key4Type}]},WPS:{"->":!0,"?":["$wps",function(w){return!_.isUndefined(w)}],$obj35:["$parent",function(p){return p.$obj35}],$prefix:["$parent",function(p){return p.$prefix}],$wps:["$obj35","$prefix",function(o,p){return o[p+"wps"]}],Enable:["$wps",function(w){return w.WscEnable}],Configured:["$wps",function(w){return w.WscConfigured}],Check:["$wps",function(w){return w.WscCheck}],WscIsBlocked:["$wps*",function(w){return w.WscIsBlocked}],PIN:["$wps",function(w){return w.WscPin}],DefaultPIN:["$wps",function(w){return w.WscDefaultPin}],DevicePIN:["$wps*",function(w){return w.WscDevPin}],ClientPIN:["$wps*",function(w){return w.WscCliPin}],Authentication:["$wps",function(w){return w.WscAuth}],Method:["$wps*",function(w){return w.WscMethod}],ActivateRadioByButtonWPS:["$wps",function(w){return w.WscActivateRadioByButtonWPS}]}},EndPointNumberOfEntries:["$client",function(c){return _.size(c)?1:0}],EndPoint:{"->":!0,$client:["$parent",function(p){return p.$client}],1:["$client",function(c){return _.size(c)?c:void 0}]},WMM:["$obj111*",function(obj111){return components.wmm.build({$obj111:obj111})}]}),client:T({"->":["$obj35","Security","MacAddressClone"],$wifi:":external",$band:":external",$obj35:["$wifi",function(w){return w[35]}],$obj111:["$wifi",function(w){return w[111]}],$apcli:["$obj35*","$band*",function(o,b){return"2.4GHz"==b?o.apcli:o["5G_apcli"]}],Enable:["$apcli*",function(a){return a.ApCliEnable}],Connect:["$apcli*",function(a){return a.ApCliConnect}],SSID:["$apcli*",function(a){return a.ApCliSsid}],BSSID:["$apcli*",function(a){return a.ApCliBssid}],Band:["$apcli*","$band*",function(a,b){return a.ApCliRangeFreq?getClientBand(a.ApCliRangeFreq):b}],MacRepeater:["$apcli*",function(a){return a.ApCliMacRepeater}],Security:{"->":!0,"?":["$parent",function(p){return!!p.$apcli}],$obj35:["$parent",function(p){return p.$obj35}],$apcli:["$parent",function(p){return p.$apcli}],$key1Str:["$apcli",function(a){return a.ApCliKey1Str}],ModesSupported:["$obj35",function(o){return authModesSupported(o.AuthAvailable)}],ModeEnabled:["$apcli*",function(a){return authModeEnabled(a.ApCliAuthMode,a.ApCliKey1Str)}],PreSharedKey:["$apcli*",function(a){return a.ApCliWPAPSK}],EncryptionType:["$apcli*",function(a){return a.ApCliEncrypType}],OpenWEP:["$apcli*",function(a){return a.ApCliEncrypType?"WEP"==a.ApCliEncrypType:void 0}],WEPasHEX:["$apcli*",function(a){return"0"==a.ApCliKey1Type}],DefaultKeyID:["$apcli*",function(a){return a.ApCliDefaultKeyId}],WEPKeysLength:["$apcli*",function(a){return a.ApCliWepKeyLength}],WEPKey1:["$apcli*",function(a){return a.ApCliKey1Str}],WEPKey1Type:["$apcli*",function(a){return a.ApCliKey1Type}],WEPKey2:["$apcli*",function(a){return a.ApCliKey2Str}],WEPKey2Type:["$apcli*",function(a){return a.ApCliKey2Type}],WEPKey3:["$apcli*",function(a){return a.ApCliKey3Str}],WEPKey3Type:["$apcli*",function(a){return a.ApCliKey3Type}],WEPKey4:["$apcli*",function(a){return a.ApCliKey4Str}],WEPKey4Type:["$apcli*",function(a){return a.ApCliKey4Type}]},MacAddressClone:{"->":!0,"?":["$parent",function(p){return!!p.$apcli&&!!p.$apcli.ApCliMCMode}],$apcli:["$parent",function(p){return p.$apcli}],Mode:["$apcli*",function(a){return a.ApCliMCMode}],Address:["$apcli*",function(a){return"off"==a.ApCliMCMode?"":a.ApCliMCAddr}]}}),wmm:T({"->":["$obj111","AP","EP"],$obj111:":external",Enable:["$obj111",function(o){return o.WmmCapable}],Mode:["$obj111",function(o){return o.WmmMode}],AP:{"->":!0,$obj111:["$parent",function(p){return p.$obj111}],1:["$obj111",function(obj111){return components.wmmPoint.build({$obj111:obj111,$mode:"ap"})}]},EP:{"->":!0,$obj111:["$parent",function(p){return p.$obj111}],1:["$obj111",function(obj111){return components.wmmPoint.build({$obj111:obj111,$mode:"ep"})}]}}),wmmPoint:T({"->":["$obj111","$mode","AC"],$obj111:":external",$mode:":external",$categories:["BK","BE","VI","VO"],ACNumberOfEntries:["$categories",function(cs){return cs.length}],AC:{"->":!0,"?":["$parent",function(p){return!!p.$obj111}],$obj111:["$parent",function(p){return p.$obj111}],$mode:["$parent",function(p){return p.$mode}],$categories:["$parent",function(p){return p.$categories}],$acs:["$obj111","$mode",function(o,m){return"ap"==m?o.ap:o.sta}],"{$ac, $index}":["$acs",function(acs){return acs}],":":["$index",function(i){return i+1}],AccessCategory:["$categories","$index",function(cs,index){return cs[index]}],AIFSN:["$ac*",function(ac){return ac.aifsn?parseInt(ac.aifsn):void 0}],ECWMin:["$ac*",function(ac){return ac.cwmin?parseInt(ac.cwmin):void 0}],ECWMax:["$ac*",function(ac){return ac.cwmax?parseInt(ac.cwmax):void 0}],TxOpMax:["$ac*",function(ac){return ac.txop?parseInt(ac.txop):void 0}],AcmPolicy:["$ac*",function(ac){return ac.acm?"0"!=ac.acm:void 0}],AckPolicy:["$ac*",function(ac){return ac.ack?"0"!=ac.ack:void 0}]}}),scanList:T({"->":["$obj35","Security"],$scanList:":external",$band:":external","{$elem, $index}":["$scanList",function(sl){return _.filter(sl,function(e){return!_.isEmpty(e.ssid)&&"< HIDDEN >"!=e.ssid})}],":":["$index",function(i){return parseInt(i)+1}],SSID:["$elem*",function(e){return e.ssid}],BSSID:["$elem*",function(e){return e.bssid}],Mode:["$elem*",function(e){return"802."+e.wmode}],Channel:["$elem*",function(e){return e.channel?parseInt(e.channel):void 0}],AdvancedChannel:["$elem*",function(e){return e.nt}],ModeEnabled:["$elem*",function(e){return getScanModeEnabled(e.sec)}],EncryptionType:["$elem*",function(e){return getScanEncryptionType(e.sec)}],SignalStrength:["$elem*",function(e){return e.sig}],Band:["$band",function(b){return b}]}),wds:T({"->":["$wifi","$wds","?","Mac"],"?":["$wds",function(w){return!!w}],$wifi:":external",$wds:["$wifi",function(o){return o.wds}],Mode:["$wds*",function(w){return getWDSMode(w.WdsEnable)}],EncryptionType:["$wds*",function(w){return getWDSEncryptionType(w.WdsEncrypType)}],EncryptionKey:["$wds*",function(w){return w.WdsKey}],MacNumberOfEntries:4,Mac:{"->":!0,1:["$parent",function(p){return p.$wds.Wds1Mac}],2:["$parent",function(p){return p.$wds.Wds2Mac}],3:["$parent",function(p){return p.$wds.Wds3Mac}],4:["$parent",function(p){return p.$wds.Wds4Mac}]}})},standardsModes={"802.11 A":"a","802.11 B":"b","802.11 G":"g","802.11 N":"n","802.11 AC":"ac","802.11 B/G mixed":"bg","802.11 G/N mixed":"gn","802.11 A/N mixed":"an","802.11 B/G/N mixed":"bgn","802.11 B/G/N mixed + 256QAM":"bgnac","802.11 AC/N mixed":"acn","802.11 AC/A/N mixed":"acan"},authModes={OPEN:"None",SHARED:"WEP",WPAPSK:"WPA-Personal",WPA2PSK:"WPA2-Personal",WPAPSKWPA2PSK:"WPA-WPA2-Personal",WPA:"WPA-Enterprise",WPA2:"WPA2-Enterprise",WPA1WPA2:"WPA-WPA2-Enterprise",WPA3SAE:"WPA3",WPA2PSKWPA3SAE:"WPA2-WPA3"}},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function primaryAP(r){return r.AccessPoint&&0!=r.AccessPointNumberOfEntries?_.find(r.AccessPoint,function(ap,inst){return _.size(r.AccessPoint)==parseInt(inst)}):void 0}function channel(r){return r.AutoChannelEnable?"auto":r.Channel?r.Channel.toString():void 0}function getWDSEncryptionType(mode){switch(mode){case"WEP":return"WEP";case"TKIP":return"TKIP";case"AES":return"AES";default:return"NONE"}}function getWDSMode(mode){switch(mode){case"Disabled":return"0";case"Bridge":return"2";case"Repeater":return"3"}}function authMode(mode){var modes={None:"OPEN",WEP:"SHARED","WPA-Enterprise":"WPA","WPA-Personal":"WPAPSK","WPA2-Enterprise":"WPA2","WPA2-Personal":"WPA2PSK","WPA-WPA2-Enterprise":"WPA1WPA2","WPA-WPA2-Personal":"WPAPSKWPA2PSK",WPA3:"WPA3SAE","WPA2-WPA3":"WPA2PSKWPA3SAE"};return modes[mode]}function encryptionType(security){switch(security.EncryptionType){case"TKIP+AES":return"TKIPAES";case"TKIP":case"AES":return security.EncryptionType;case"WEP":default:return security.OpenWEP?"WEP":"NONE"}}function getWEPKeyType(security){return _.isUndefined(security.WEPasHEX)||_.isNull(security.WEPasHEX)?void 0:security.WEPasHEX?"0":"1"}function getCliWEPKeyType(security){return security.WEPKey1&&""!=security.WEPKey1?security.WEPasHEX?"0":"1":""}function getExtChannel(r,ep,prefix){return _.isUndefined(ep)||"5G_"==prefix||_.isUndefined(ep.AdvancedChannel)||_.isNull(ep.AdvancedChannel)?void 0:ep.AdvancedChannel||"NONE"}function getBandwidthWithCoex(r){var bandwidthCoex="20MHz"==r.OperatingChannelBandwidth?r.OperatingChannelBandwidth:r.OperatingChannelBandwidth+(r.Coexistence?" Coexistence":""),res=_.find(r.SupportedChannelBandwidthList,function(item){return item.Name==bandwidthCoex});return res&&res.Id||void 0}function getBandWidth(r,ep,prefix){return _.isUndefined(r.OperatingChannelBandwidth)||_.isNull(r.OperatingChannelBandwidth)?void 0:getBandwidthWithCoex(r)}function getClientBand(range){return"5GHz"==range?"5 GHz":"2.4 GHz"}function getHTGI(htgi){switch(htgi){case"Enable":return"enable";case"Disable":return"disable";case"Auto":return"auto"}}function getBGProtection(pr){switch(pr){case"Auto":return"0";case"Always On":return"1";case"Always Off":return"2"}}function onlyWMM(point){return _.every(point,function(elem,key){return _.contains(wmmParamsList,key)})}function onlyWPS(point){var keys=_.keys(point);return 1==keys.length&&"WPS"==keys[0]}var _defineProperty2=__webpack_require__(132),_defineProperty3=_interopRequireDefault(_defineProperty2),_=__webpack_require__(41),T=__webpack_require__(122).T;module.exports=T({"->":!0,$wifi:":external",35:{"->":!0,"?":["$parent",function(p){return!!p.$wifi.Radio||!!p.$wifi.EndPoint||!!p.$wifi.WDS}],$return:["$parent",function(p){return _.extend({},components.obj35("2.4GHz",p.$wifi).build({$wifi:p.$wifi}),components.obj35("5GHz",p.$wifi).build({$wifi:p.$wifi}),components.obj35wds.build({$wifi:p.$wifi}))}]},111:["$wifi",function($wifi){if($wifi.Radio&&$wifi.Radio[1]&&$wifi.Radio[1].WMM){var wmm=$wifi.Radio[1].WMM;return components.obj111().build({$wmm:wmm})}}]});var components={obj35wds:T({"->":["$wifi","?","wds"],$wifi:":external","?":["$wifi",function(w){return!!w.WDS}],wds:{"->":!0,$wds:["$parent",function(p){return p.$wifi.WDS}],WdsEnable:["$wds",function(w){return getWDSMode(w.Mode)}],WdsKey:["$wds",function(w){return w.EncryptionKey}],WdsEncrypType:["$wds",function(w){return getWDSEncryptionType(w.EncryptionType)}],Wds1Mac:["$wds",function(w){return w.Mac[1]}],Wds2Mac:["$wds",function(w){return w.Mac[2]}],Wds3Mac:["$wds",function(w){return w.Mac[3]}],Wds4Mac:["$wds",function(w){return w.Mac[4]}]}}),obj35:function(band,wifi){function getRadio(wifi){return wifi.Radio?_.find(wifi.Radio,function(r){return r.OperatingFrequencyBand==band}):void 0}function getEndpoint(radio){return radio&&radio.EndPoint?radio.EndPoint[1]:void 0}function getPrefix(band){return"2.4GHz"==band?"":"5G_"}function getEPPrefix(ep){if(!ep)return"";var epBand=ep.Band?ep.Band:band;return"2.4GHz"==epBand?"":"5G_"}function hasProp(object,propName){return!_.isUndefined(object[propName])&&!_.isNull(object[propName])}var _T,prefix=getPrefix(band),radio=getRadio(wifi),endpoint=getEndpoint(radio),epPrefix=getEPPrefix(endpoint);return T((_T={"->":["$wifi","$radio","$endpoint","?",prefix+"mbssid",prefix+"addon_settings",prefix+"wps",epPrefix+"apcli"],"?":["$radio","$endpoint",function(r,ep){return!(!r&&!ep)}],$wifi:":external",$radio:radio,$endpoint:endpoint,$prAP:["$radio*",function(r){return primaryAP(r)}],$prAPSec:["$prAP*",function(a){return a.Security}]},_defineProperty3["default"](_T,prefix+"Radio",["$radio*",function(r){return r.Enable}]),_defineProperty3["default"](_T,"CountryCode",["$radio*",function(r){return r.RegulatoryDomain}]),_defineProperty3["default"](_T,prefix+"WirelessMode",["$radio*",function(r){return standardsID[r.OperatingStandards]}]),_defineProperty3["default"](_T,prefix+"Channel",["$radio*",function(r){return channel(r)}]),_defineProperty3["default"](_T,prefix+"allowHighChannels",["$radio*",function(r){return r.HighChannelEnable}]),_defineProperty3["default"](_T,prefix+"HideSSID",["$radio*",function(r){return r.SSIDAdvertisementEnabledCommon}]),_defineProperty3["default"](_T,prefix+"ReselectAutoChannel",["$radio*",function(r){return r.AutoChannelReselect}]),_defineProperty3["default"](_T,prefix+"PeriodReselectChannel",["$radio*",function(r){return r.AutoChannelReselectPeriod}]),_defineProperty3["default"](_T,prefix+"mbssidNum",["$radio*",function(r){return r.AccessPointNumberOfEntries}]),_defineProperty3["default"](_T,prefix+"mbssidMax",["$radio*",function(r){return r.AccessPointMax}]),_defineProperty3["default"](_T,prefix+"mbssidCur",["$radio*",function(r){return r.AccessPointCurrent}]),_defineProperty3["default"](_T,prefix+"mbssid",{"->":!0,"?":["$parent",function(p){return!(!p.$radio||!p.$radio.AccessPoint||_.isEmpty(p.$radio.AccessPoint)||onlyWMM(p.$radio.AccessPoint[1])||onlyWPS(p.$radio.AccessPoint))}],"{$ap}":["$parent",function(p){return p.$radio.AccessPoint}],$security:["$ap",function(a){return a.Security}],SSID:["$ap",function(a){return a.SSID}],BSSID:["$ap",function(a){return a.BSSID}],HideSSID:["$ap",function(a){return a.SSIDAdvertisementEnabled}],Isolation:["$ap",function(a){return a.ClientIsolation}],WifiBroadcast:["$ap",function(a){return a.Broadcast}],MaxStaNum:["$ap",function(a){return hasProp(a,"MaxAssociatedDevices")?a.MaxAssociatedDevices.toString():void 0}],BwRestrict:["$ap",function(a){return a.BandwidthRestricted?1024*a.BandwidthRestricted:a.BandwidthRestricted}],CPE_block:["$ap",function(a){return a.CPEBlock}],GuestAccess:["$ap",function(a){return a.GuestAccess}],nsg:["$ap",function(a){return a.NSG}],AuthMode:["$security*",function(s){return authMode(s.ModeEnabled)}],WPAPSK:["$security*",function(s){return s.PreSharedKey}],ProtectedManagementFrames:["$security*",function(s){return s.ProtectedManagementFrames}],EncrypType:["$security*",function(s){return encryptionType(s)}],DefaultKeyID:["$security*",function(s){return s.DefaultKeyID?(parseInt(s.DefaultKeyID)-1).toString():void 0}],AccessPolicy:["$security*",function(s){return s.AccessPolicy}],PreAuth:["$security*",function(s){return s.PreAuthentication}],IEEE8021X:["$security*",function(s){return s.IEEE8021X}],Key1Str:["$security*",function(s){return s.WEPKey1}],Key1Type:["$security*",function(s){return getWEPKeyType(s)}],Key2Str:["$security*",function(s){return s.WEPKey2}],Key2Type:["$security*",function(s){return getWEPKeyType(s)}],Key3Str:["$security*",function(s){return s.WEPKey3}],Key3Type:["$security*",function(s){return getWEPKeyType(s)}],Key4Str:["$security*",function(s){return s.WEPKey4}],Key4Type:["$security*",function(s){return getWEPKeyType(s)}],RekeyInterval:["$security*",function(s){return hasProp(s,"RekeyingInterval")?s.RekeyingInterval.toString():void 0}],RADIUS_Server:["$security*",function(s){return s.RadiusServerIPAddr}],RADIUS_Port:["$security*",function(s){return s.RadiusServerPort?s.RadiusServerPort.toString():void 0}],RADIUS_Key:["$security*",function(s){return s.RadiusSecret}]}),_defineProperty3["default"](_T,prefix+"addon_settings",{"->":["$radio","?"],$radio:["$parent",function(p){return p.$radio}],$endpoint:["$parent",function(p){return p.$endpoint}],"?":["$radio","$endpoint",function(r,ep){return _.some(addonSettingsParamsList,function(key){return _.has(r,key)})||_.some(addonSettingsParamsList,function(key){return _.has(ep,key)})&&"5G_"!=prefix}],BandWidth:["$radio*","$endpoint",function(r,ep){return getBandWidth(r,ep,prefix)}],ExtensionChannel:["$radio*","$endpoint",function(r,ep){return getExtChannel(r,ep,prefix)}],BeaconPeriod:["$radio*",function(r){return hasProp(r,"BeaconPeriod")?r.BeaconPeriod.toString():void 0}],RTSThreshold:["$radio*",function(r){return hasProp(r,"RTSThreshold")?r.RTSThreshold.toString():void 0}],FragThreshold:["$radio*",function(r){return hasProp(r,"FragmentationThreshold")?r.FragmentationThreshold.toString():void 0}],DtimPeriod:["$radio*",function(r){return hasProp(r,"DTIMPeriod")?r.DTIMPeriod.toString():void 0}],StationKeepAlive:["$radio*",function(r){return hasProp(r,"StationKeepAlive")?r.StationKeepAlive.toString():void 0}],HTGI:["$radio*",function(r){return _.isUndefined(r.HTGI)?void 0:getHTGI(r.HTGI)}],AdaptivityMode:["$radio*",function(r){return r.AdaptivityMode}],EnableLowOFDM:["$radio*",function(r){return r.EnableLowOFDM}],igmpdrop:["$radio*",function(r){return r.Igmpdrop}],BGProtection:["$radio*",function(r){return getBGProtection(r.BGProtection)}],TxPreamble:["$radio*",function(r){return r.TxPreamble}],TxBeamforming:["$radio*",function(r){return r.TxBeamforming}],TxPower:["$radio*",function(r){return r.TransmitPower}],STBC:["$radio*",function(r){return r.STBC}],DFS:["$radio*",function(r){return r.DFS}],AutoChannelType:["$radio*",function(r){return r.AutoChannelType}]}),_defineProperty3["default"](_T,prefix+"wps",{"->":["$wps","?"],$prAP:["$parent",function(p){return p.$prAP}],$wps:["$prAP*",function(ap){return ap.WPS}],"?":["$wps",function(w){return!!w}],WscEnable:["$wps*",function(w){return w.Enable}],WscConfigured:["$wps*",function(w){return w.Configured}],WscCheck:["$wps*",function(w){return w.Check}],WscPin:["$wps*",function(w){return w.PIN}],WscDefaultPin:["$wps*",function(w){return w.DefaultPIN}],WscDevPin:["$wps*",function(w){return w.DevicePIN}],WscCliPin:["$wps*",function(w){return w.ClientPIN}],WscAuth:["$wps*",function(w){return w.Authentication}],WscMethod:["$wps*",function(w){return w.Method}],WscActivateRadioByButtonWPS:["$wps*",function(w){return w.ActivateRadioByButtonWPS}]}),_defineProperty3["default"](_T,epPrefix+"apcli",{"->":!0,"?":["$parent",function(p){return!!p.$endpoint&&!onlyWMM(p.$endpoint)}],$endpoint:["$parent",function(p){return p.$endpoint}],$sec:["$endpoint*",function(ep){return ep.Security}],ApCliEnable:["$endpoint*",function(ep){return ep.Enable}],ApCliConnect:["$endpoint*",function(ep){return ep.Connect}],ApCliSsid:["$endpoint*",function(ep){return ep.SSID}],ApCliBssid:["$endpoint*",function(ep){return ep.BSSID}],ApCliRangeFreq:["$endpoint*",function(ep){return ep.Band?getClientBand(ep.Band):"2.4 GHz"}],ApCliMCMode:["$endpoint*",function(ep){return ep.MacAddressClone?ep.MacAddressClone.Mode:void 0}],ApCliMCAddr:["$endpoint*",function(ep){return ep.MacAddressClone?ep.MacAddressClone.Address||"":void 0}],ApCliAuthMode:["$sec*",function(s){return authMode(s.ModeEnabled)}],ApCliWPAPSK:["$sec*",function(s){return s.PreSharedKey}],ApCliEncrypType:["$sec*",function(s){return encryptionType(s)}],ApCliDefaultKeyId:["$sec*",function(s){return s.DefaultKeyID}],ApCliKey1Str:["$sec*",function(s){return s.WEPKey1}],ApCliKey1Type:["$sec*",function(s){return getCliWEPKeyType(s)}],ApCliKey2Str:["$sec*",function(s){return s.WEPKey2}],ApCliKey2Type:["$sec*",function(s){return getCliWEPKeyType(s)}],ApCliKey3Str:["$sec*",function(s){return s.WEPKey3}],ApCliKey3Type:["$sec*",function(s){return getCliWEPKeyType(s)}],ApCliKey4Str:["$sec*",function(s){return s.WEPKey4}],ApCliKey4Type:["$sec*",function(s){return getCliWEPKeyType(s)}],ApCliMacRepeater:["$endpoint*",function(ep){return ep.MacRepeater}]}),_T))},obj111:function(){function ac(){return T({"->":!0,$ac:":external","{$raw}":["$ac",function(a){return a}],aifsn:["$raw*",function(r){return _.has(r,"AIFSN")?r.AIFSN.toString():void 0}],cwmin:["$raw*",function(r){return _.has(r,"ECWMin")?r.ECWMin.toString():void 0}],cwmax:["$raw*",function(r){return _.has(r,"ECWMax")?r.ECWMax.toString():void 0}],txop:["$raw*",function(r){return _.has(r,"TxOpMax")?r.TxOpMax.toString():void 0}],acm:["$raw*",function(r){return _.has(r,"AcmPolicy")?r.AcmPolicy?"1":"0":void 0}],ack:["$raw*",function(r){return _.has(r,"AckPolicy")?r.AckPolicy?"1":"0":void 0}]})}return T({"->":["$wmm","ap","sta"],$wmm:":external",WmmCapable:["$wmm",function(wmm){return wmm.Enable}],WmmMode:["$wmm",function(wmm){return wmm.Mode}],ap:{"->":!0,$return:["$parent",function(p){return ac().build({$ac:p.$wmm.AP[1].AC})}]},sta:{"->":!0,$return:["$parent",function(p){return ac().build({$ac:p.$wmm.EP[1].AC})}]}})}},standardsID={b:"1",g:"4",n:"15",bg:"0",gn:"7",bgn:"9",bgnac:"14",a:"5",an:"12",ac:"18",acn:"21",acan:"24"},addonSettingsParamsList=["OperatingChannelBandwidth","AdvancedChannel","BeaconPeriod","RTSThreshold","FragmentationThreshold","DTIMPeriod","StationKeepAlive","HTGI","BandWidth","AdaptivityMode","EnableLowOFDM","Igmpdrop","BGProtection","TxBeamforming","TxPreamble","TransmitPower","STBC","DFS","AutoChannelType"],wmmParamsList=["WMMEnable","WMMMode","AC"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _defineProperty=__webpack_require__(133),_defineProperty2=_interopRequireDefault(_defineProperty);exports["default"]=function(obj,key,value){return key in obj?_defineProperty2["default"](obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(134),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(135);var $Object=__webpack_require__(8).Object;module.exports=function(it,key,desc){return $Object.defineProperty(it,key,desc)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(6);$export($export.S+$export.F*!__webpack_require__(16),"Object",{defineProperty:__webpack_require__(12).f})},,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";"use version 6";function getEnablev6(d6,d6s,constants){return d6.Mode?!(constants&&constants.isAPMode||!d6s.AutoconfigurationMode||"Disable"==d6s.AutoconfigurationMode):void 0}function numOfIPv4(l3){return _.isUndefined(l3.alias_ip)&&_.isUndefined(l3.alias_mask)?1:2}function getVlan(vlans,key){var result="";return _.every(vlans,function(elem){return!elem.ifname||elem.ifname!=key||(result=elem.name,!1)}),result}function hasNoBridge(groups,key,l2){return!groups||!groups[key]||(groups[key].nat||_.isUndefined(groups[key].wans)||!groups[key].wans.length)&&!_.isUndefined(l2.services[key].ip)}function getIPv4Reserved(reserved,address){var reservedIpv4=_.filter(reserved,function(elem){return funcs.is.ipv4(elem.ip)&&elem.ip!=address});return reservedIpv4}function getIPv6Reserved(reserved,address){var reservedIpv6=_.filter(reserved,function(elem){return funcs.is.ipv6(funcs.ipv6.address.full(elem.ip))&&funcs.ipv6.address.full(elem.ip)!=funcs.ipv6.address.full(address)});return reservedIpv6}function getReservedClients(d4s,d6s){var reservedv4=[],reservedv6=[];return d4s&&(reservedv4=_.filter(d4s.StaticAddress,function(st,inst){return/[^-]$/.test(inst)})),d6s&&(reservedv6=_.filter(d6s.StaticAddress,function(st,inst){return/[^-]$/.test(inst)})),_.union(reservedv4,reservedv6)}function getDhcpOption(ds){var opt=[];return ds&&(opt=_.filter(ds,function(st,inst){return/[^-]$/.test(inst)})),opt}function getAliasIPv6(ip){return ip&&ip.Address&&ip.Prefix?ip.Address+"/"+ip.Prefix:void 0}var T=__webpack_require__(122).T,_=__webpack_require__(41),funcs=__webpack_require__(43);module.exports=function(){var somovdToNative=function(ifaces,vlans,groups){var pattern=T({"->":["$L1","$vlans","$groups","$raw","LAN"],$L1:":external",$L2:["$raw",function(r){return r.L2}],$vlans:":external",$groups:":external",$raw:{"->":!0,"{L2,L2Key}":["$parent",function(p){return p.$L1}],"{L3,L3Key}":["L2","?",function(l2){return l2.services}],"?":["L2","L2Key","$parent",function(l2,L2Key,p){return!l2.is_wan&&_.has(l2,"services")&&hasNoBridge(p.$groups,L2Key,l2)}]},LANNumberOfEntries:["LAN",function(lan){return _.size(lan)}],LAN:{"->":["$L3","IPv4","IPv6"],"{$raw,$i}":["$parent",function(p){return _.sortBy(p.$raw,"L3Key")}],":":["$i",function(i){return i+1}],$vlans:["$parent",function(p){return p.$vlans}],$L2:["$raw",function(r){return r.L2}],$L3:["$raw",function(r){return r.L3}],__l2Key:["$raw",function(r){return r.L2Key}],__l3Key:["$raw",function(r){return r.L3Key}],__isNewInterface:["$L3",function(l3){return!l3||void 0}],__vlanName:["$raw*","$vlans*",function(r,vlans){return getVlan(vlans,r.L2Key)}],Enable:["$L3*",function(l3){return l3.enable}],Name:["$L3*",function(l3){return l3.name}],Interface:["$L3*",function(l3){return l3.iface}],IPv4:{"->":["$L3*","$dhcpd","StaticIP","DHCP"],$L3:["$parent",function(p){return p.$L3}],$dhcpd:["$L3*",function(l3){return l3.dhcpd}],StaticIPNumberOfEntries:["$L3*",function(l3){return numOfIPv4(l3)}],AddressingMode:["$L3*",function(l3){return l3.dhcp?"Dynamic":"Static"}],StaticIP:{1:{"->":!0,$L3:["$parent",function(p){return p.$parent.$L3}],"?":["$L3*",function(l3){return l3}],$dhcpd:["$L3*",function(l3){return l3.dhcpd}],Address:["$L3*",function(l3){return l3.ip||""}],SubnetMask:["$L3*",function(l3){return l3.mask||""}],GatewayAddress:["$L3*",function(l3){return l3.gwip}],AddnHostname:["$dhcpd*",function(d){return d.addn_hostname||""}]},2:{"->":!0,$L3:["$parent",function(p){return p.$parent.$L3}],"?":["$L3*",function(l3){return!_.isUndefined(l3.alias_ip)||!_.isUndefined(l3.alias_mask)}],Address:["$L3*",function(l3){return l3.alias_ip||""}],SubnetMask:["$L3*",function(l3){return l3.alias_mask||""}]}},DHCP:{"->":["$dhcpd","Server","Relay","DHCPCustomOpts"],$dhcpd:["$parent",function(p){return p.$dhcpd}],$L3:["$parent",function(p){return p.$parent.$L3}],Mode:["$dhcpd*",function(d){return _.has(d,"enable")?d.enable?d.enable&&!d.relay?"Server":d.enable&&d.relay?"Relay":void 0:"Disable":void 0}],Server:{"->":["$dhcpd","StaticAddress"],$dhcpd:["$parent",function(p){return p.$dhcpd}],$L3:["$parent",function(p){return p.$parent.$L3}],MinAddress:["$dhcpd*",function(d){return d.start_ip}],MaxAddress:["$dhcpd*",function(d){return d.end_ip}],LeaseTime:["$dhcpd*",function(d){return d.lease&&!_.isNaN(parseInt(d.lease,10))?d.lease/60:void 0}],DNSRelay:["$dhcpd*",function(d){return _.has(d,"dns_relay")?!!d.dns_relay:void 0}],DNSPrim:["$dhcpd*",function(d){return d.dns_prim}],DNSSec:["$dhcpd*",function(d){return d.dns_sec}],Hosts:["$dhcpd*",function(d){return d.addn_hosts||[]}],StaticAddressNumberOfEntries:["StaticAddress*",function(st){return _.size(st)}],StaticAddress:{"->":!0,$dhcpd:["$parent",function(p){return p.$dhcpd}],$L3:["$parent",function(p){return p.$parent.$L3}],"?":["$dhcpd",function(d){return _.has(d,"reserved")}],"{$raw, $i}":["$dhcpd*","$L3",function(d,l3){return getIPv4Reserved(d.reserved,l3.ip)}],":":["$i",function(i){return i+1}],IPAddress:["$raw*",function(r){return r.ip||""}],MACAddress:["$raw*",function(r){return r.mac||""}],Hostname:["$raw*",function(r){return r.host||""}],Mode:["$raw*",function(r){return r.mode?r.mode:void 0}],LeaseTime:["$raw*",function(r){return r.leasetime&&!_.isNaN(parseInt(r.leasetime,10))?r.leasetime/60:null}]}},Relay:{"->":!0,$dhcpd:["$parent",function(p){return p.$dhcpd}],"?":["$dhcpd",function(d){return _.has(d,"relay")}],DHCPServerIPAddress:["$dhcpd*",function(d){return d.relay&&_.union([],[d.relay.ip],d.relay.addn_ips)||[]}],RemoteID:["$dhcpd*",function(d){return d.relay&&d.relay.remoteid||""}]},DHCPCustomOpts:{"->":["$dhcpd"],$dhcpd:["$parent",function(p){return p.$dhcpd}],"?":["$dhcpd",function(d){return _.has(d,"custom_opts")}],"{$raw}":["$dhcpd",function(d){return d.custom_opts}],Force:["$raw*",function(r){return r.force}],Tag:["$raw*",function(r){return r.number?r.number.toString():r.number}],Type:["$raw*",function(r){return r.type}],
Value:["$raw*",function(r){return r.value}]}}},IPv6:{"->":["$L3","$dhcpd","AddressingMode","StaticIP","DHCP"],$L3:["$parent",function(p){return p.$L3}],$dhcpd:["$L3*",function(l3){return l3.dhcpd}],"?":["$L3",function(l3){return l3&&!_.isUndefined(l3.ipv6)}],AddressingMode:["$dhcpd*","$L3*",function($d,$L3){return $L3.dhcpv6?"Dynamic":$d.dhcp6_pd?"PD":"Static"}],StaticIPNumberOfEntries:1,StaticIP:{1:{"->":!0,$L3:["$parent",function(p){return p.$parent.$L3}],$arrIpv6:["$L3*",function(l3){return l3.ipv6.split("/")}],Address:["$arrIpv6*",function(arr){return arr[0]}],Prefix:["$arrIpv6*",function(arr){return arr[1]}],GatewayAddress:["$L3*",function(l3){return l3.gwipv6}]},2:{"->":!0,$L3:["$parent",function(p){return p.$parent.$L3}],"?":["$L3*",function(l3){return!_.isUndefined(l3.alias_ipv6)}],$arrIpv6:["$L3*",function(l3){return l3.alias_ipv6&&l3.alias_ipv6.split("/")}],Address:["$arrIpv6*",function(arr){return arr[0]}],Prefix:["$arrIpv6*",function(arr){return arr[1]}]}},DHCP:{"->":["$dhcpd","Server"],$dhcpd:["$parent",function(p){return p.$dhcpd}],$L3:["$parent",function(p){return p.$parent.$L3}],Mode:["$dhcpd*",function(d){return"0"==d.modev6||"1"==d.modev6?"Server":"Disable"}],Server:{"->":["$dhcpd","StaticAddress"],$dhcpd:["$parent",function(p){return p.$dhcpd}],$L3:["$parent",function(p){return p.$parent.$L3}],AutoconfigurationMode:["$dhcpd*",function(d){return d.enablev6?"0"==d.modev6?"Stateless":"1"==d.modev6?"Statefull":"Disable":"Disable"}],MinAddress:["$dhcpd*",function(d){return d.start_ipv6||""}],MaxAddress:["$dhcpd*",function(d){return d.end_ipv6||""}],LeaseTime:["$dhcpd*",function(d){return d.leasev6&&!_.isNaN(parseInt(d.leasev6,10))?d.leasev6/60:5}],DNSRelay:["$dhcpd*",function(d){return!!d.dns_relay6}],RADVD:["$dhcpd*",function(d){return!!d.radvd}],StaticAddressNumberOfEntries:["StaticAddress*",function(st){return _.size(st)}],StaticAddress:{"->":!0,$dhcpd:["$parent",function(p){return p.$dhcpd}],$L3:["$parent",function(p){return p.$parent.$L3}],$arrIpv6:["$L3*",function(l3){return l3.ipv6.split("/")}],$address:["$arrIpv6*",function(arr){return arr[0]}],"?":["$dhcpd",function(d){return _.has(d,"reserved")}],"{$raw, $i}":["$dhcpd*","$address",function(d,addr){return getIPv6Reserved(d.reserved,addr)}],":":["$i",function(i){return i+1}],IPAddress:["$raw*",function(r){return r.ip||""}],MACAddress:["$raw*",function(r){return r.mac||""}],Hostname:["$raw*",function(r){return r.host||""}],Mode:["$raw*",function(r){return r.mode?r.mode:void 0}]}}}}}});return pattern.build({$L1:ifaces,$vlans:vlans,$groups:groups})},nativeToSomovd=function(data,constants){var pattern=T({"->":["$raw","services"],$device:":external",$constants:":external","{$raw}":["$device",function(d){return d.LAN}],":":["$raw",function(r){return r.__l2Key}],enable:["$raw",function(r){return r.Enable}],type:"bridge",is_wan:!1,services:{"->":["$ipv4","$ipv6","dhcpd"],$raw:["$parent",function(p){return p.$raw}],$constants:["$parent",function(p){return p.$constants}],":":["$raw",function(r){return r.__l3Key||"create"}],$ipv4:["$raw",function(r){return r.IPv4}],$ipv6:["$raw",function(r){return r.IPv6||void 0}],$ipv4_addressing_mode:["$ipv4",function(ipv4){return ipv4.AddressingMode}],type:"ip",enable:["$raw",function(r){return r.Enable}],name:["$raw",function(r){return r.Name}],iface:["$raw",function(r){return r.Interface}],ifname:["$raw",function(r){return r.Interface}],ip:["$ipv4*",function(ipv4){return ipv4.StaticIP[1].Address}],mask:["$ipv4*",function(ipv4){return ipv4.StaticIP[1].SubnetMask}],gwip:["$ipv4*",function(ipv4){return ipv4.StaticIP[1].GatewayAddress}],gwipv6:["$ipv6*",function(ipv6){return ipv6.StaticIP[1].GatewayAddress}],alias_ip:["$ipv4",function(ipv4){return ipv4.StaticIP[2]?ipv4.StaticIP[2].Address||"":void 0}],alias_mask:["$ipv4",function(ipv4){return ipv4.StaticIP[2]?ipv4.StaticIP[2].SubnetMask||"":void 0}],ipv6:["$ipv6*",function(ipv6){return ipv6.StaticIP[1].Address+"/"+ipv6.StaticIP[1].Prefix}],alias_ipv6:["$ipv6*",function(ipv6){return getAliasIPv6(ipv6.StaticIP[2])}],useipv6:["$ipv6*",function(ipv6){return!0}],dhcpv6:["$ipv6*",function(ipv6){return"Dynamic"==ipv6.AddressingMode}],dhcp:["$ipv4_addressing_mode*",function(addressing_mode){return"Dynamic"==addressing_mode}],dhcpd:{"->":["$ipv4","$ipv6","$dhcpv4","$dhcpv4s","$dhcpv4r","$dhcpv6","$dhcpv6s","reserved","relay","custom_opts"],$ipv4:["$parent",function(p){return p.$ipv4}],$ipv6:["$parent",function(p){return p.$ipv6}],$dhcpv4:["$ipv4",function($ipv4){return $ipv4.DHCP}],$dhcpv4s:["$dhcpv4*",function(d4){return d4.Server}],$dhcpv4r:["$dhcpv4*",function(d4){return d4.Relay}],$dhcpv6:["$ipv6*",function($ipv6){return $ipv6.DHCP}],$dhcpv6s:["$dhcpv6*",function(d6){return d6.Server}],$constants:["$parent",function(p){return p.$constants}],enable:["$dhcpv4*",function(d4){return d4.Mode?"Disable"!=d4.Mode:void 0}],start_ip:["$dhcpv4s*",function(d4s){return d4s.MinAddress}],end_ip:["$dhcpv4s*",function(d4s){return d4s.MaxAddress}],lease:["$dhcpv4s*",function(d4s){return d4s.LeaseTime?60*d4s.LeaseTime:void 0}],dns_relay:["$dhcpv4s*",function(d4s){return d4s.DNSRelay}],dns_prim:["$dhcpv4s*",function(d4s){return d4s.DNSPrim}],dns_sec:["$dhcpv4s*",function(d4s){return d4s.DNSSec}],addn_hosts:["$dhcpv4s*",function(d4s){return d4s.Hosts}],addn_hostname:["$ipv4",function(ipv4){return ipv4.StaticIP[1].AddnHostname?ipv4.StaticIP[1].AddnHostname.toLowerCase():void 0}],gwip:["$ipv4",function(ipv4){return ipv4.StaticIP[1].GatewayAddress}],gwipv6:["$ipv6*",function(ipv6){return ipv6.StaticIP[1].GatewayAddress}],reserved:{"->":!0,$dhcpv4s:["$parent",function(p){return p.$dhcpv4s}],$dhcpv6s:["$parent",function(p){return p.$dhcpv6s}],"?":["$dhcpv4s","$dhcpv6s",function(d4s,d6s){return _.has(d4s,"StaticAddress")||_.has(d6s,"StaticAddress")}],"{$raw}":["$dhcpv4s","$dhcpv6s",function(d4s,d6s){return getReservedClients(d4s,d6s)}],ip:["$raw*",function(r){return r.IPAddress||""}],mac:["$raw*",function(r){return r.MACAddress||""}],host:["$raw*",function(r){return r.Hostname||""}],mode:["$raw*",function(r){return r.Mode?r.Mode:void 0}],leasetime:["$raw*",function(r){return r.LeaseTime?60*r.LeaseTime:null}]},relay:{"->":!0,$dhcpv4:["$parent",function(p){return p.$dhcpv4}],$dhcpv4r:["$parent",function(p){return p.$dhcpv4r}],"?":["$dhcpv4",function(d4){return _.has(d4,"Mode")&&"Relay"==d4.Mode}],ip:["$dhcpv4r",function(d4r){return _.first(d4r.DHCPServerIPAddress)}],addn_ips:["$dhcpv4r",function(d4r){return _.size(d4r.DHCPServerIPAddress)>1?_.rest(d4r.DHCPServerIPAddress):void 0}],remoteid:["$dhcpv4r",function(d4r){return d4r.RemoteID}]},custom_opts:{"->":!0,$dhcpv4:["$parent",function(p){return p.$dhcpv4}],"?":["$dhcpv4",function(d){return!!d&&d.DHCPCustomOpts&&0!=d.DHCPCustomOpts.length}],"{$raw}":["$dhcpv4",function(d){return getDhcpOption(d.DHCPCustomOpts)}],force:["$raw*",function(r){return r.Force}],number:["$raw*",function(r){return r.Tag?parseInt(r.Tag):r.Tag}],type:["$raw*",function(r){return r.Type}],value:["$raw*",function(r){return r.Value}]},dhcp6_pd:["$ipv6*",function(ipv6){return"PD"==ipv6.AddressingMode}],enablev6:["$dhcpv6*","$dhcpv6s*","$constants",function(d6,d6s,constants){return getEnablev6(d6,d6s,constants)}],modev6:["$dhcpv6s*",function(d6s){switch(d6s.AutoconfigurationMode){case"Stateless":return"0";case"Statefull":return"1"}}],start_ipv6:["$dhcpv6s*",function(d6s){return d6s.MinAddress}],end_ipv6:["$dhcpv6s*",function(d6s){return d6s.MaxAddress}],leasev6:["$dhcpv6s*",function(d6s){return d6s.LeaseTime?60*d6s.LeaseTime:300}],dns_relay6:["$dhcpv6s*",function(d6s){return d6s.DNSRelay}],radvd:["$dhcpv6s*",function(d6s){return d6s.RADVD}]}}});return pattern.build({$device:data,$constants:constants})};return{somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd}}()},,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var _module=angular.module("angular-es6-promise",[]);_module.run(["$q","$window",function($q,$window){$window.Promise=function(executor){var deferred=$q.defer();try{executor.call(void 0,angular.bind(deferred,deferred.resolve),angular.bind(deferred,deferred.reject))}catch(err){deferred.reject(err)}return deferred.promise},$window.Promise.all=$q.all.bind($q),$window.Promise.reject=$q.reject.bind($q),$window.Promise.resolve=$q.when.bind($q),$window.Promise.race=function(promises){for(var promiseMgr=$q.defer(),i=0;i<promises.length;i++)promises[i].then(function(result){promiseMgr&&(promiseMgr.resolve(result),promiseMgr=null)}),promises[i]["catch"](function(result){promiseMgr&&(promiseMgr.reject(result),promiseMgr=null)});return promiseMgr.promise},__webpack_require__(45)["default"]=$window.Promise}])}]);;!function(){function parse(ip,isSubnet){var result=ipv4Pattern.exec(ip);return result?result[2]?{ip:result[1],mask:bitsetToIp(getMaskByLength(+result[2]))}:{ip:ip,mask:bitsetToIp(getMaskByIp(ip,isSubnet))}:null}function isMask(ip){var binIp=getBinaryIp(ip);return!(~binIp&-binIp)}function isValidMaskForSubnet(subnet,mask){return!(~getBinaryIp(mask)&getBinaryIp(subnet))}function isIpFromSubnet(subnet,mask,ip){var binSubnet=getBinaryIp(subnet),binMask=getBinaryIp(mask),binIp=getBinaryIp(ip);return!((binSubnet^binIp)&binMask)}function getNextIp(ip){return bitsetToIp(getBinaryIp(ip)+1)}function getMaskLength(mask){return isMask(mask)?getMaskLengthByLowBit(getBinaryIp(mask)):null}function isIPv4(ip){return ipv4Pattern.test(ip)}function isIPv6(ip){return ipv6Pattern.test(ip)}function getMaskByIp(ip,isSubnet){return getMaskByLength(getMaskLengthByIp(ip,isSubnet))}function getMaskByLength(length){return length?-1<<32-length:0}function getMaskLengthByIp(ip,isSubnet){var binIp=getBinaryIp(ip),highOctet=binIp>>>24;if(!isSubnet){if(isInRange(highOctet,0,128))return 8;if(isInRange(highOctet,128,192))return 16;if(isInRange(highOctet,192,224))return 24}return isClassfulSubnet(binIp,"A")?8:isClassfulSubnet(binIp,"B")?16:isClassfulSubnet(binIp,"C")?24:isInRange(highOctet,0,224)?getMaskLengthByLowBit(binIp):0}function getBinaryIp(ip){function shiftOr(octet){bitset=bitset<<8|octet}var octets=ip.split(".").map(Number),bitset=0;return octets.forEach(shiftOr),bitset}function isClassfulSubnet(binSubnet,netClass){var classRanges={A:{start:0,end:128,maskLength:8},B:{start:128,end:192,maskLength:16},C:{start:192,end:224,maskLength:24}},highOctet=binSubnet>>>24,curClass=classRanges[netClass];return isInRange(highOctet,curClass.start,curClass.end)&&!(binSubnet<<curClass.maskLength)}function isInRange(num,start,end){return num>=start&&end>num}function getMaskLengthByLowBit(subnetBitset){var onlyLowBit=-subnetBitset&subnetBitset,pow=~~(Math.log(onlyLowBit>>>0)/Math.LN2);return 32-pow}function bitsetToIp(bitset){for(var octets=[],fullOctet=255,i=0;4>i;i++)octets.unshift(bitset&fullOctet),bitset>>>=8;return octets.join(".")}var ipv4Pattern=/^((?:(?:[0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}(?:[0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))(?:\/([0-9]|[1-2][0-9]|3[0-2]))?$/,ipv6Pattern=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,IP={parse:parse,isMask:isMask,isValidMaskForSubnet:isValidMaskForSubnet,isIpFromSubnet:isIpFromSubnet,getNextIp:getNextIp,getMaskLength:getMaskLength,isIPv4:isIPv4,isIPv6:isIPv6};"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=IP:window.IP=IP}();;webpackJsonp([3],{0:function(module,exports,__webpack_require__){module.exports=__webpack_require__(330)},330:function(module,exports,__webpack_require__){"use strict";__webpack_require__(180);var device=angular.module("app-module-funcs",["angular-es6-promise"]),funcs=__webpack_require__(43);device.factory("funcs",function(){return funcs})}});;webpackJsonp([2],[function(module,exports,__webpack_require__){module.exports=__webpack_require__(179)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(180);var device=angular.module("device",["angular-es6-promise"]);__webpack_require__(2)("device"),__webpack_require__(181)("device"),device.factory("device",["somovd","$q",function(somovd,Q){__webpack_require__(188).set(Q),__webpack_require__(189).set(somovd),__webpack_require__(190).set(__webpack_require__(191));var portSegmentation=__webpack_require__(207),dosSettings=__webpack_require__(211);return{funcs:__webpack_require__(43),info:__webpack_require__(215),wan:__webpack_require__(216),wifi:__webpack_require__(217),wifiMacFilter:__webpack_require__(225),wifiShaping:__webpack_require__(226),lan:__webpack_require__(227),vlan:__webpack_require__(238),portAllocation:__webpack_require__(239)(),portSegmentation:_.size(portSegmentation.oldConfig)?portSegmentation.oldConfig:portSegmentation.newConfig,dosSettings:_.size(dosSettings.oldConfig)?dosSettings.oldConfig:dosSettings.newConfig,dns:__webpack_require__(242),vservers:__webpack_require__(243),macfilter:__webpack_require__(247),ipfilter:__webpack_require__(250),urlfilter:__webpack_require__(253),yandexDns:__webpack_require__(255),ipsec:__webpack_require__(257),statsRouting:__webpack_require__(261),system:__webpack_require__(263),voip:__webpack_require__(264),etherwan:__webpack_require__(265),snmp:__webpack_require__(266),qosSw:__webpack_require__(267),qosHw:__webpack_require__(268),hotWifi:__webpack_require__(269),safeDns:__webpack_require__(270),adBlock:__webpack_require__(271),systemTime:__webpack_require__(272),systemLog:__webpack_require__(276),firmware:__webpack_require__(279),statsDHCP:__webpack_require__(281),portSettings:__webpack_require__(283),wanReservation:__webpack_require__(286),udpxy:__webpack_require__(289),usbInfo:__webpack_require__(294),ddns:__webpack_require__(295),filebrowser:__webpack_require__(298),dlna:__webpack_require__(300),samba:__webpack_require__(302),ftp:__webpack_require__(304),users:__webpack_require__(306),raccess:__webpack_require__(308),routing:__webpack_require__(310),statsSessions:__webpack_require__(312),statsNetwork:__webpack_require__(314),wifiClientMgm:__webpack_require__(316),redirect:__webpack_require__(318),torrent:__webpack_require__(320),cpuram:__webpack_require__(322),tr69:__webpack_require__(324),xdsl:__webpack_require__(326),ifgroups:__webpack_require__(327),bandwidth:__webpack_require__(328)}}])},,function(module,exports,__webpack_require__){"use strict";var cpe=__webpack_require__(182),transportCpe=__webpack_require__(183).cpe,cpex=__webpack_require__(186),transportCpex=__webpack_require__(187);module.exports=function(moduleName){angular.module(moduleName).service("cpe",["$http",function($http){return transportCpe.__setHttp&&transportCpe.__setHttp($http),cpe}]),angular.module(moduleName).service("cpex",["$http",function($http){return transportCpex.__setHttp&&transportCpex.__setHttp($http),cpex}])}},function(module,exports){module.exports=function(){}},function(module,exports,__webpack_require__){"use strict";var somovd=__webpack_require__(184),cpe=__webpack_require__(185);module.exports={somovd:somovd,cpe:cpe}},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(){}},function(module,exports){"use strict";var Q=null;module.exports={set:function(actualModule){return Q=actualModule},get:function(){return Q}}},function(module,exports){"use strict";var somovd=null;module.exports={set:function(actualModule){return somovd=actualModule},get:function(){return somovd}}},function(module,exports){"use strict";var dms=null;module.exports={set:function(actualModule){return dms=actualModule},get:function(){return dms}}},function(module,exports,__webpack_require__){"use strict";module.exports={wifi:__webpack_require__(192),wifiMacFilter:__webpack_require__(194),wifiShaping:__webpack_require__(195),dns:__webpack_require__(197),lan:__webpack_require__(199),vlan:__webpack_require__(200),portAllocation:__webpack_require__(204)}},function(module,exports,__webpack_require__){"use strict";var funcs=__webpack_require__(43),somovd=__webpack_require__(189),_=__webpack_require__(41),converter=__webpack_require__(193),constants={CONFIG_ID_WIFI:35,CONFIG_ID_WIFI_ADV:36,CONFIG_ID_GET_WIFI_CHANELS:37,CONFIG_ID_GET_WIFI_COUNTRYS:38,CONFIG_ID_WIFI_ONOFF:39,CONFIG_ID_WIFI_STATION:64,CONFIG_ID_WIFI_ADVANCED:105,CONFIG_ID_WIFI_WPS:106,CONFIG_ID_WIFI_WPS_CONNECT:107,CONFIG_ID_WIFI_CLI:110,CONFIG_ID_WIFI_WMM:111,CONFIG_ID_WIFI_SCAN:133,CONFIG_ID_WIFI_SCAN_5G:185,CONFIG_ID_WIFI_CLI_5G:186,CONFIG_ID_WIFI_WDS:109,RPC_NEED_REBOOT:12,RPC_NEED_SAVE:13,RPC_OK:20};module.exports=function(){function getInitData(){return funcs.deepClone(__initialData)}function pull(cb){__pull([constants.CONFIG_ID_WIFI,constants.CONFIG_ID_GET_WIFI_CHANELS,constants.CONFIG_ID_GET_WIFI_COUNTRYS,constants.CONFIG_ID_WIFI_STATION,constants.CONFIG_ID_WIFI_WMM,constants.CONFIG_ID_WIFI_SCAN,constants.CONFIG_ID_WIFI_SCAN_5G],null,cb)}function pullCommon(cb){__pull([constants.CONFIG_ID_WIFI,constants.CONFIG_ID_GET_WIFI_CHANELS,constants.CONFIG_ID_GET_WIFI_COUNTRYS],null,cb)}function pullClient(cb){__pull([constants.CONFIG_ID_WIFI,constants.CONFIG_ID_GET_WIFI_CHANELS],null,cb)}function pullAdv(cb){__pull([constants.CONFIG_ID_WIFI],null,cb)}function pullWMM(cb){__pull([constants.CONFIG_ID_WIFI,constants.CONFIG_ID_WIFI_WMM],null,cb)}function pullWDS(cb){__pull([constants.CONFIG_ID_WIFI],null,cb)}function updateScan(rq){var responseData={};_.each(rq,function(data,index){responseData[index]=data});var wifi=converter.somovdToNative.build({$wifi:responseData});dms.scanData||(dms.scanData={});var data=funcs.fetchBranch(wifi,"ScanList.");funcs.setValue("Device.WiFi.ScanList",data,dms.scanData)}function push(cb,forward,onlyRegulatoryDomain){var changes=onlyRegulatoryDomain?statusOnlyRegDom():status();if(forward||changes&&!_.isEmpty(changes)){var wifi=__prepareChanges(changes.Device.WiFi,__initialData.Device.WiFi);wifi=converter.nativeToSomovd.build({$wifi:wifi});var requests=__prepareRequests(wifi);return requests=__addRequestsDeferredReboot(requests),somovd.get().multi({write:requests},!1,function(response){var error=__getRQError(response.rq);cb&&cb(error)})}}function status(){return funcs.buildTree(funcs.configToResponse(funcs.getChanges(__initialData,dms.data)))}function statusOnlyRegDom(){var nameChange,regExp=/Device.WiFi.Radio.\d.RegulatoryDomain/,changes=funcs.getChanges(__initialData,dms.data);_.each(_.keys(changes),function(key){if(regExp.test(key)){var obj={};obj[key]=changes[key],changes=obj,nameChange=key}});var obj={};return obj[nameChange]=changes[nameChange],funcs.buildTree(funcs.configToResponse(obj))}function __pull(rpc,branch,cb){somovd.get().read(rpc,function(response){var error=__getRQError(response.rq);if(error)return void(cb&&cb(error));var responseData={},rq=response.rq;_.each(rq,function(elem,index){var rpcID=rpc[index];responseData[rpcID]=elem.data});var wifi=converter.somovdToNative.build({$wifi:responseData});if(dms.data||(dms.data={}),branch){var data=funcs.fetchBranch(wifi,branch+".");funcs.setValue("Device.WiFi."+branch,data,dms.data)}else funcs.setValue("Device.WiFi",wifi,dms.data);__initialData=funcs.deepClone(dms.data),cb&&cb()})}function __prepareChanges(changes,init){function radioPrepare(changes,init){accessPointsPrepare(changes,init),endPointPrepare(changes,init),wmmPrepare(changes,init),addRadioRequiredParams(changes.Radio,init.Radio)}function wdsPrepare(changes,init){changes.WDS=funcs.deepExtend(init.WDS,changes.WDS)}function wmmPrepare(changes,init){var radio=funcs.fetchBranch(changes,"Radio.1."),wmm=funcs.fetchBranch(changes,"Radio.1.WMM."),initWMM=funcs.fetchBranch(init,"Radio.1.WMM.");(wmm||initWMM)&&(radio.WMM=funcs.deepExtend(initWMM,wmm||{}))}function accessPointsPrepare(changes,init){_.each(changes.Radio,function(elem,inst){if(elem.AccessPoint){var radio=changes.Radio[inst],initRadio=init.Radio[inst],aps=changes.Radio[inst].AccessPoint,initAps=init.Radio[inst].AccessPoint;isChangeNumberAP(aps)&&(radio.AccessPointNumberOfEntries=getAPNumber(radio,initRadio)),deleteAP(aps,initAps),addPreventAP(aps,initAps),addAccessPointRequiredParams(aps,initAps)}})}function endPointPrepare(changes,init){_.each(changes.Radio,function(elem,inst){if(elem.EndPoint){var eps=changes.Radio[inst].EndPoint,initEps=init.Radio[inst].EndPoint;addEndPointRequiredParams(eps,initEps)}})}function addRadioRequiredParams(changes,init){function hasSomeParams(obj,params){return _.some(params,function(param){return _.has(obj,param)})}var requiredParams=["OperatingFrequencyBand","SupportedChannelBandwidthList"],bundlesParams=[["AutoChannelEnable","Channel","HighChannelEnable","AutoChannelReselect","AutoChannelReselectPeriod"],["OperatingChannelBandwidth","Coexistence","ExtensionChannel","BeaconPeriod","RTSThreshold","FragmentationThreshold","DTIMPeriod","StationKeepAlive","HTGI","AdaptivityMode","EnableLowOFDM","Igmpdrop","BGProtection","TxPreamble","TxBeamforming","TransmitPower","STBC"]];_.each(changes,function(elem,inst){_.each(requiredParams,function(param){_.has(elem,param)||(changes[inst][param]=_.clone(init[inst][param]))}),_.each(bundlesParams,function(params){hasSomeParams(elem,params)&&_.each(params,function(param){_.has(elem,param)||(changes[inst][param]=_.clone(init[inst][param]))})})})}function addAccessPointRequiredParams(aps,initAps){var requiredParams=["SSID","BSSID","Broadcast","GuestAccess","SSIDAdvertisementEnabled","MaxAssociatedDevices","BandwidthRestricted","CPEBlock","ClientIsolation"];_.each(aps,function(ap,inst){if(initAps[inst]){_.each(requiredParams,function(param){_.has(ap,param)||(aps[inst][param]=_.clone(initAps[inst][param]))});var sec=aps[inst].Security,initSec=initAps[inst].Security,wps=aps[inst].WPS,initWps=initAps[inst].WPS;sec&&addPointSecurityRequiredParams(sec,initSec),wps&&addPointWPSRequiredParams(wps,initWps)}})}function addEndPointRequiredParams(eps,initEps){var requiredParams=["Enable","SSID","BSSID","Band","Security"];_.each(eps,function(elem,inst){_.each(requiredParams,function(param){_.has(elem,param)||(eps[inst][param]=_.clone(initEps[inst][param]))})}),_.each(eps,function(ep,inst){if(initEps[inst]){var sec=eps[inst].Security,initSec=initEps[inst].Security;sec&&addPointSecurityRequiredParams(sec,initSec)}})}function addPointSecurityRequiredParams(sec,initSec){var params=["RekeyingInterval","RadiusServerIPAddr","RadiusServerPort","RadiusSecret","PreAuthentication","ModeEnabled","OpenWEP","WEPasHEX","PreSharedKey","DefaultKeyID","EncryptionType","WEPKey1","WEPKey2","WEPKey3","WEPKey4","WEPKey1Type","WEPKey2Type","WEPKey3Type","WEPKey4Type","ProtectedManagementFrames"];_.each(params,function(param){_.has(sec,param)||(sec[param]=initSec[param])})}function addPointWPSRequiredParams(wps,initWps){var params=["Enable"];_.each(params,function(param){_.has(wps,param)||(wps[param]=initWps[param])})}function isChangeNumberAP(aps){return _.some(_.keys(aps),function(inst){return/\+$/.test(inst)||/\-$/.test(inst)})}function getAPNumber(radio,initRadio){var number=initRadio.AccessPointNumberOfEntries;return _.each(_.keys(radio.AccessPoint),function(inst){/\-$/.test(inst)&&number--,/\+$/.test(inst)&&number++}),number}function deleteAP(aps,initAps){var initSize=_.size(initAps);_.each(_.keys(aps),function(inst){if(/-$/.test(inst))for(delete aps[inst],delete initAps[parseInt(inst)];parseInt(inst)<=initSize&&(inst=(parseInt(inst)+1).toString(),!_.has(aps,inst+"-"));)!aps[inst]&&initAps[inst]&&(aps[inst]=initAps[inst])})}function addPreventAP(aps,initAps){_.each(aps,function(elem,inst){if(!/-$/.test(inst))for(;parseInt(inst)>1;)inst=(parseInt(inst)-1).toString(),!aps[inst]&&initAps[inst]&&(aps[inst]=initAps[inst])})}return changes.Radio&&radioPrepare(changes,init),changes.WDS&&wdsPrepare(changes,init),changes}function __prepareRequests(wifi){function getMbssidLen(obj35){var mbssid=obj35.mbssid,mbssid_5g=obj35["5G_mbssid"];return mbssid||mbssid_5g?mbssid?mbssid.length:mbssid_5g?mbssid_5g.length:mbssid&&mbssid_5g?Math.max(mbssid.length,mbssid_5g.length):void 0:0}function addRequest(rpc,obj35){var data=buildRequestData(rpc,obj35);_.isEmpty(data)||requests.push({id:rpc,data:data,pos:-1})}function addWPSRequest(obj35){var data=_.pick(obj35,"wps","5G_wps"),wps=obj35.wps||obj35["5G_wps"];requests.push(_.has(wps,"WscMethod")?{id:constants.CONFIG_ID_WIFI_WPS_CONNECT,data:data,pos:-1}:{id:constants.CONFIG_ID_WIFI_WPS,data:data,pos:-1})}function addWDSRequest(obj35){var data=_.pick(obj35,"wds");requests.push({id:constants.CONFIG_ID_WIFI_WDS,data:data,pos:-1})}function buildRequestData(rpc,obj35){var data={},mask=getMask(rpc,obj35);return _.each(mask,function(param){if(/^mbssid\<index\>/.test(param)||/^5G_mbssid\<index\>/.test(param)){var mbssid={key:param.split("<index>.")[0],index:{},param:param.split("<index>.")[1]},maxIndex=(obj35.mbssidCur||obj35["5G_mbssidCur"])-1;if(rpc==constants.CONFIG_ID_WIFI)mbssid.index.input=maxIndex,mbssid.index.output=0,hasMbssidParam(obj35,mbssid)&&copyMbssidParam(obj35,data,mbssid);else if(rpc==constants.CONFIG_ID_WIFI_ADV)for(;maxIndex>=0;)mbssid.index.input=maxIndex,mbssid.index.output=maxIndex,hasMbssidParam(obj35,mbssid)&&copyMbssidParam(obj35,data,mbssid),--maxIndex}else _.has(obj35,param)&&(data[param]=obj35[param])}),data}function getMask(rpc,obj35){var masks={};masks[constants.CONFIG_ID_WIFI.toString()]=["CountryCode","WirelessMode","5G_WirelessMode","Channel","5G_Channel","HideSSID","ReselectAutoChannel","5G_ReselectAutoChannel","PeriodReselectChannel","5G_PeriodReselectChannel","allowHighChannels","5G_allowHighChannels","mbssid<index>.SSID","5G_mbssid<index>.SSID","mbssid<index>.CPE_block","5G_mbssid<index>.CPE_block","mbssid<index>.GuestAccess","5G_mbssid<index>.GuestAccess","mbssid<index>.MaxStaNum","5G_mbssid<index>.MaxStaNum","mbssid<index>.BwRestrict","5G_mbssid<index>.BwRestrict","mbssid<index>.HideSSID","5G_mbssid<index>.HideSSID","mbssid<index>.WifiBroadcast","5G_mbssid<index>.WifiBroadcast","mbssid<index>.Isolation","5G_mbssid<index>.Isolation","mbssid<index>.nsg","5G_mbssid<index>.nsg"],masks[constants.CONFIG_ID_WIFI_ADV.toString()]=["mbssid<index>.RADIUS_Server","5G_mbssid<index>.RADIUS_Server","mbssid<index>.RADIUS_Port","5G_mbssid<index>.RADIUS_Port","mbssid<index>.RADIUS_Key","5G_mbssid<index>.RADIUS_Key","mbssid<index>.RekeyInterval","5G_mbssid<index>.RekeyInterval","mbssid<index>.AuthMode","5G_mbssid<index>.AuthMode","mbssid<index>.WPAPSK","5G_mbssid<index>.WPAPSK","mbssid<index>.Key1Str","5G_mbssid<index>.Key1Str","mbssid<index>.Key1Type","5G_mbssid<index>.Key1Type","mbssid<index>.Key2Str","5G_mbssid<index>.Key2Str","mbssid<index>.Key2Type","5G_mbssid<index>.Key2Type","mbssid<index>.Key3Str","5G_mbssid<index>.Key3Str","mbssid<index>.Key3Type","5G_mbssid<index>.Key3Type","mbssid<index>.Key4Str","5G_mbssid<index>.Key4Str","mbssid<index>.Key4Type","5G_mbssid<index>.Key4Type","mbssid<index>.DefaultKeyID","5G_mbssid<index>.DefaultKeyID","mbssid<index>.PreAuth","5G_mbssid<index>.PreAuth","mbssid<index>.EncrypType","5G_mbssid<index>.EncrypType","mbssid<index>.ProtectedManagementFrames","5G_mbssid<index>.ProtectedManagementFrames"],masks[constants.CONFIG_ID_WIFI_ONOFF.toString()]=["Radio","mbssidNum","mbssidCur","5G_Radio","5G_mbssidNum","5G_mbssidCur"],masks[constants.CONFIG_ID_WIFI_ADVANCED.toString()]=["addon_settings","5G_addon_settings"],masks[constants.CONFIG_ID_WIFI_CLI.toString()]=[],obj35&&obj35.apcli&&masks[constants.CONFIG_ID_WIFI_CLI.toString()].push("apcli"),obj35&&obj35["5G_apcli"]&&masks[constants.CONFIG_ID_WIFI_CLI.toString()].push("5G_apcli"),masks[constants.CONFIG_ID_WIFI_WMM.toString()]=["WmmCapable","WmmMode","ap","sta"];var id=rpc.toString();return masks[id]?masks[id]:[]}function hasMbssidParam(obj35,opts){return _.has(obj35,opts.key)&&obj35[opts.key][opts.index.input]&&_.has(obj35[opts.key][opts.index.input],opts.param)}function copyMbssidParam(input,output,opts){var value=input[opts.key][opts.index.input][opts.param];output[opts.key]||(output[opts.key]=[]),output[opts.key][opts.index.output]||(output[opts.key][opts.index.output]={}),output[opts.key][opts.index.output][opts.param]=_.clone(value)}var requests=[];if(wifi[35]&&!_.isEmpty(wifi[35])){var obj35=wifi[35],mbssidLen=getMbssidLen(obj35);if(mbssidLen){addRequest(constants.CONFIG_ID_WIFI_ONOFF,obj35);for(var index=mbssidLen-1;index>=0;index--)obj35.mbssid&&obj35.mbssid[index]&&(obj35.mbssidCur=index+1),obj35["5G_mbssid"]&&obj35["5G_mbssid"]&&(obj35["5G_mbssidCur"]=index+1),addRequest(constants.CONFIG_ID_WIFI_ONOFF,obj35),addRequest(constants.CONFIG_ID_WIFI,obj35),addRequest(constants.CONFIG_ID_WIFI_ADV,obj35)}else addRequest(constants.CONFIG_ID_WIFI_ONOFF,obj35),addRequest(constants.CONFIG_ID_WIFI,obj35);addRequest(constants.CONFIG_ID_WIFI_ADVANCED,obj35),addRequest(constants.CONFIG_ID_WIFI_CLI,obj35),(obj35.wps||obj35["5G_wps"])&&addWPSRequest(obj35),obj35.wds&&addWDSRequest(obj35)}return wifi[111]&&!_.isEmpty(wifi[111])&&addRequest(constants.CONFIG_ID_WIFI_WMM,wifi[111]),requests}function __addRequestsDeferredReboot(requests){return requests.length<=1?requests:_.map(requests,function(elem,index){return requests.length-1!=index&&(elem.data.wifiReboot=!1),elem})}function __getRQError(rq){for(var i=0;i<rq.length;i++){var status=rq[i].status;if(!__isRPCSuccess(status))return rq[i].status}return null}function __isRPCSuccess(status){return status==constants.RPC_OK||status==constants.RPC_NEED_SAVE||status==constants.RPC_NEED_REBOOT}var __initialData=null,dms={getInitData:getInitData,data:null,scanData:null,pull:pull,pullCommon:pullCommon,pullClient:pullClient,pullAdv:pullAdv,pullWMM:pullWMM,pullWDS:pullWDS,updateScan:updateScan,push:push,status:status};return dms}()},function(module,exports,__webpack_require__){"use strict";module.exports={somovdToNative:__webpack_require__(129),nativeToSomovd:__webpack_require__(131)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _defineProperty2=__webpack_require__(132),_defineProperty3=_interopRequireDefault(_defineProperty2),_promise=__webpack_require__(45),_promise2=_interopRequireDefault(_promise),_keys=__webpack_require__(84),_keys2=_interopRequireDefault(_keys);!function(){function pull(cb){function getWifiCb(res){var errorMsg="Can't get data from "+rpcs.wifi+" RPC";checkResponse(errorMsg,cb)(res)&&(_keys2["default"](prefixes).forEach(function(prefix){res.data&&res.data[prefix+"Radio"]&&(bandsCursors.push({prefix:prefix,current:1,number:res.data[prefix+"mbssidNum"]}),networks[networkCur++]={Band:prefixes[prefix],List:res.data[prefix+"mbssid"].reduce(function(lst,mbssid,inx){return lst[inx+1]={BSSID:mbssid.BSSID,SSID:mbssid.SSID},lst},{})})}),getNextMbssids())}function getNextMbssids(){var data={};bandsCursors.forEach(function(band,inx){data[band.prefix+"mbssidCur"]=band.current}),somovd.write(rpcs.current,data,getMbssids)}function getMbssids(res){function getMbssidsCb(res){var errorMsg="Can't get data from "+rpcs.macFilter+" RPC";if(checkResponse(errorMsg,cb)(res)){if(bandsCursors.forEach(function(band,bandInx){var networkInx=bandsCursors[getBandInx(band.prefix)].current,network=networks[bandInx].List[networkInx],accessPolicyKey=res.data[band.prefix+"AccessPolicy"],macFilterList=res.data[band.prefix+"MacFilterList"];network.AccessPolicy=accessPolicy[accessPolicyKey],network.Enable="0"!=accessPolicyKey;for(var inx in macFilterList)/^\d+$/.test(inx)&&(rules[ruleCur++]={Network:networkInx+"",Band:bandInx+"",Hostname:macFilterList[inx].hostname,MAC:macFilterList[inx].mac,Enable:macFilterList[inx].active,Inx:inx});return band.current>=band.number?void delete bandsCursors[bandInx]:void bandsCursors[bandInx].current++}),bandsCursors.some(function(el){return el}))return void getNextMbssids();dms.data={Device:{WiFiMACFilter:{NeedHostname:!0,Networks:networks,Rules:rules,MaxRulesCount:res.data.MaxNumMacFilter}}},dms.__initialData=funcs.deepClone(dms.data),cb&&cb()}}var errorMsg="Can't get data from "+rpcs.current+" RPC";checkResponse(errorMsg,cb)(res)&&somovd.read(rpcs.macFilter).then(getMbssidsCb)}function getBandInx(prefix){for(var inx in networks)if(networks[inx].Band==prefixes[prefix])return inx}function dummy(){}var networks={},rules={},cb=cb||dummy,bandsCursors=Array(1),networkCur=1,ruleCur=1;somovd.read(rpcs.wifi).then(getWifiCb)}function push(cb){function createPromise(executor){return function(){return new _promise2["default"](executor)}}function getNetworksChanged(){function addUniqNetworkChanges(networks,key){var path=key.split("."),newKey=path[3]+"."+path[5];return networks.concat(isNetworkChange(path)&&isUniqNetwork(newKey,networks)?newKey:[])}function isNetworkChange(path){return"Networks"==path[2]&&"List"==path[4]}function isUniqNetwork(key,networks){return!~networks.indexOf(key)}var networksChanged=_keys2["default"](changes).reduce(addUniqNetworkChanges,[]).map(function(key){var path=key.split(".");return{band:path[0],network:path[1]}});return networksChanged}function getRulesAdded(){var list=getWiFiMACFilter().__toAdd;return list?list.split(",").map(function(el){return el.replace(/Rules.(.+)/,"$1")}):[]}function getRulesChanged(){function addUniqRulesChanges(rules,key){function isRuleChange(path){return"Rules"==path[2]&&/^\d+$/.test(newKey)}var path=key.split("."),newKey=path[3];return rules.concat(isRuleChange(path)&&isUniqRule(newKey,rules)?newKey:[])}function isUniqRule(key,rules){return!~rules.indexOf(key)}var rulesChanged=_keys2["default"](changes).reduce(addUniqRulesChanges,[]);return rulesChanged}function getRulesDeleted(){var list=getWiFiMACFilter().__toDel;return list?list.split(",").map(function(el){return el.replace(/Rules.(.+)/,"$1")}):[]}function applyNetworksChanges(resolve,reject){var changes=getNetworksChanged(),networkInxs=changes[0],changeMbssidCur=function(networkInxs){var prefix=getBandPrefix(networkInxs.band),data=_defineProperty3["default"]({},prefix+"mbssidCur",+networkInxs.network);somovd.write(rpcs.current,data,applyNetwork(networkInxs))},applyNetwork=function(networkInxs){return function(res){checkResponse("mbssidCur changing is unsuccessful",reject)(res);var prefix=getBandPrefix(networkInxs.band),data=_defineProperty3["default"]({},prefix+"AccessPolicy",getAccessPolicy(networkInxs));somovd.write(rpcs.macFilter,data,applyCb)}},applyCb=function(res){var errorMsg="AccessPolicy changing is unsuccessful";checkResponse(errorMsg,reject),resolve()};return networkInxs?void changeMbssidCur(networkInxs):resolve()}function applyAddedRules(resolve,reject){var addedRulesChanges=getRulesAdded(),addedRuleInx=addedRulesChanges[0],rule=getRule(addedRuleInx),changeMbssidCur=function(rule){var prefix=getBandPrefix(rule.Band),data=_defineProperty3["default"]({},prefix+"mbssidCur",+rule.Network);somovd.write(rpcs.current,data,applyRule(rule))},applyRule=function(rule){return function(res){checkResponse("mbssidCur changing is unsuccessful",reject)(res);var prefix=getBandPrefix(rule.Band),data=_defineProperty3["default"]({},prefix+"MacFilterList",ruleNativeToSomovd(rule));somovd.write(rpcs.macFilter,data,-1,applyCb)}},applyCb=function(res){var errorMsg="Rule adding is unsuccessful";checkResponse(errorMsg,reject),resolve()};return rule?void changeMbssidCur(rule):resolve()}function applyUpdatedRules(resolve,reject){var updatedRulesChanges=getRulesChanged(),updatedRuleInx=updatedRulesChanges[0],rule=getRule(updatedRuleInx),changeMbssidCur=function(rule){var prefix=getBandPrefix(rule.Band),data=_defineProperty3["default"]({},prefix+"mbssidCur",+rule.Network);somovd.write(rpcs.current,data,applyRule(rule))},applyRule=function(rule){return function(res){checkResponse("mbssidCur changing is unsuccessful",reject)(res);var prefix=getBandPrefix(rule.Band),data=_defineProperty3["default"]({},prefix+"MacFilterList",ruleNativeToSomovd(rule));somovd.write(rpcs.macFilter,data,+rule.Inx,applyCb)}},applyCb=function(res){var errorMsg="Rule updating is unsuccessful";checkResponse(errorMsg,reject),resolve()};return rule?void changeMbssidCur(rule):resolve()}function applyDeletedRules(resolve,reject){var rules=getRulesDeleted().map(function(inx){return getRule(inx+"-")}),deleteNext=function(){var rule=rules.shift();return rule?void changeMbssidCur(rule):resolve()},changeMbssidCur=function(rule){var prefix=getBandPrefix(rule.Band),data=_defineProperty3["default"]({},prefix+"mbssidCur",+rule.Network);somovd.write(rpcs.current,data,applyRule(rule))},applyRule=function(rule){return function(res){checkResponse("mbssidCur changing is unsuccessful",reject)(res);var prefix=getBandPrefix(rule.Band),data=_defineProperty3["default"]({},prefix+"MacFilterList",ruleNativeToSomovd(rule));somovd.remove(rpcs.macFilter,data,+rule.Inx,applyCb)}},applyCb=function(res){var errorMsg="Rule deleting is unsuccessful";checkResponse(errorMsg,reject),deleteNext()};deleteNext()}function getBandPrefix(inx){var band=getWiFiMACFilter().Networks[inx].Band;return _.invert(prefixes)[band]}function getAccessPolicy(networkInxs){var stringAP=dms.data.Device.WiFiMACFilter.Networks[networkInxs.band].List[networkInxs.network].AccessPolicy;return+_.invert(accessPolicy)[stringAP]}function ruleNativeToSomovd(rule){return{mac:rule.MAC,hostname:rule.Hostname,active:rule.Enable}}var changes=dms.status();return changes?createPromise(applyNetworksChanges)().then(createPromise(applyAddedRules)).then(createPromise(applyUpdatedRules)).then(createPromise(applyDeletedRules)).then(function(){return cb&&cb()})["catch"](function(msg){return cb&&cb(msg)}):cb&&cb()}var _=__webpack_require__(41),funcs=__webpack_require__(43),somovd=__webpack_require__(189).get(),rpcs={wifi:35,current:39,macFilter:42},prefixes={"":"24","5G_":"5"},accessPolicy={0:"off",1:"allow",2:"deny"},dms={pull:pull,push:push,data:null,__initialData:null},getWiFiMACFilter=function(){return dms.data.Device.WiFiMACFilter},getRule=function(inx){return getWiFiMACFilter().Rules[inx]};module.exports=dms;var checkResponse=function(msg,reject){return function(res){return funcs.is.RPCSuccess(res)?1:reject(msg)}}}()},function(module,exports,__webpack_require__){"use strict";!function(){function pull(cb){function readCb(response){return isError(response)?void(cb&&cb("Can't read data from "+constants.CONFIG_ID_STA_BANDWIDTH_CONTROL+" RPC")):(dms._data=converter.somovdToNative(response.data),dms._backup=funcs.deepClone(dms._data),void(cb&&cb()))}somovd.get().read(constants.CONFIG_ID_STA_BANDWIDTH_CONTROL,readCb)}function getData(){return dms._data.Rules}function getNetworks(){return dms._data.Networks}function wasModified(){return!_.isEqual(dms._data,dms._backup)}function push(cb){function writeCb(response){return isError(response)?void(cb&&cb("Can't write data to "+constants.CONFIG_ID_STA_BANDWIDTH_CONTROL+" RPC")):void(cb&&cb())}return somovd.get().write(constants.CONFIG_ID_STA_BANDWIDTH_CONTROL,converter.nativeToSomovd(dms._data),writeCb)}function isError(response){return 20!==response.status}var _=__webpack_require__(41),funcs=__webpack_require__(43),somovd=__webpack_require__(189),converter=__webpack_require__(196),constants={CONFIG_ID_STA_BANDWIDTH_CONTROL:258},dms={pull:pull,push:push,getData:getData,getNetworks:getNetworks,wasModified:wasModified,_data:null,_backup:null};module.exports=dms}()},function(module,exports,__webpack_require__){"use strict";function somovdToNative(data){function getRules(data){return _.map(data,function(elem,key){return{MAC:key,Enabled:elem.Enabled,DownloadRate:elem.DownloadRate,UploadRate:elem.UploadRate}})}var pattern=T({"->":["$data","Rules"],$data:":external",NeedSSIDSelect:!1,Rules:{"->":!0,"{$rules, $key}":["$parent",function(p){return getRules(p.$data)}],":":["$key*",function(k){return k}],Inx:["$key*",function(k){return k}],MAC:["$rules*",function(r){return r.MAC.toUpperCase()}],Enabled:["$rules*",function(r){return r.Enabled}],DownloadRate:["$rules*",function(r){return r.DownloadRate}],UploadRate:["$rules*",function(r){return r.UploadRate}]}});return pattern.build({$data:data})}function nativeToSomovd(data){var pattern=T({"->":!0,$data:":external","{$rules}":["$data",function(d){return d.Rules}],":":["$rules*",function(r){return r.MAC.toUpperCase()}],Enabled:["$rules*",function(r){return r.Enabled}],DownloadRate:["$rules*",function(r){return r.DownloadRate}],UploadRate:["$rules*",function(r){return r.UploadRate}]});return pattern.build({$data:data})}var T=__webpack_require__(122).T,_=__webpack_require__(41);__webpack_require__(43),module.exports={somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd}},function(module,exports,__webpack_require__){"use strict";"use version 6";!function(){function pull(cb){function readCb(generalResponse){var data={};rpcs.forEach(function(rpc,inx){var response=generalResponse.rq[inx];return isError(response)?void(data[rpc.key]=null):void(data[rpc.key]=response.data)}),__backup.iface_names={br0:funcs.deepClone(data.wans.iface_names.br0)},dms.data={Device:{DNS:converter.somovdToNative(data)}},dms.__initialData=funcs.deepClone(dms.data),cb&&cb()}somovd.get().read(rpcs.map(function(rpc){return rpc.num}),readCb)}function push(cb){function listMap(rpc){if(rpc.nativeKey&&dms.isChanged(rpc.nativeKey)){var data=converter.nativeToSomovd(dms.data.Device.DNS)[rpc.key];if("wans"==rpc.key){var iface_names=funcs.deepClone(__backup.iface_names);iface_names.br0.services.br0.dhcpd.addn_hosts=data.br0.services.br0.dhcpd.addn_hosts,data=iface_names}return{id:rpc.num,data:data,pos:-1}}}function writeCb(response){try{response.rq.forEach(rqHandler)}catch(err){cb&&(cb=cb.bind(null,err))}finally{cb&&cb()}}function rqHandler(rq){if(isError(rq))throw rq.status}var list={write:rpcs.map(listMap).filter(Boolean)};return list.write.length?void somovd.get().multi(list,!1,writeCb):cb&&cb()}function isError(response){return 20!==response.status}var funcs=(__webpack_require__(41),__webpack_require__(43)),somovd=__webpack_require__(189),converter=__webpack_require__(198),rpcs=[{key:"wans",num:1,nativeKey:"Hosts"},{key:"v4",num:7,nativeKey:"V4"},{key:"v6",num:132,nativeKey:"V6"}],dms={pull:pull,push:push,data:null,__initialData:null},__backup={iface_names:null};module.exports=dms}()},function(module,exports,__webpack_require__){"use strict";"use version 6";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _keys=__webpack_require__(84),_keys2=_interopRequireDefault(_keys);!function(){function somovdToNative(data){function getProtocol(protocol){return["$data",function(d){return!!d[protocol]&&T(getPattern(protocol)).build({$data:d})}]}function getPattern(protocol){return{"->":["$protocol","Servers"],$data:":external",$protocol:["$data",function(d){return d[protocol]}],Servers:{"->":!0,"{$server, $i}":["$parent",function(d){return d.$protocol.servers.split("|").filter(function(e){return e})}],":":["$i",function(i){return i+1}],$return:["$server",function(server){return server}]},Manual:["$protocol",function(d){return d.manual}],Defroute:["$protocol",function(d){return d.defroute}],Contag:["$protocol",function(d){return d.contag}],Ifname:["$protocol",function(d){return d.ifname}]}}var pattern=T({"->":["$data","V4","V6","Ifaces"],$data:":external",MAX_DNS_COUNT:3,V4:getProtocol("v4"),V6:getProtocol("v6"),AvailIPv6:["$data",function(d){return!!d.v6}],AvailDefroute:["$data",function(d){return"undefined"!=typeof d.v4.defroute}],Ifaces:getIfaces(data.wans),Hosts:data.wans.iface_names.br0.services.br0.dhcpd.addn_hosts||[]});return pattern.build({$data:data})}function nativeToSomovd(data){function getProtocol(protocol){return data[protocol]?{"->":!0,manual:["$root",function(d){return d.$data[protocol].Manual}],defroute:["$root",function(d){
return d.$data[protocol].Defroute}],contag:["$root",function(d){return d.$data[protocol].Contag}],ifname:["$root",function(d){return d.$data[protocol].Ifname}],servers:["$root",getServers.bind(null,protocol)]}:null}function getServers(protocol,data){var servers=data.$data[protocol].Servers;return _keys2["default"](servers).map(function(k){return servers[k]}).join("|")}var pattern=T({"->":["$data","v4","v6"],$data:":external",wans:{br0:{services:{br0:{dhcpd:{addn_hosts:data.Hosts}}}}},v4:getProtocol("V4"),v6:getProtocol("V6")});return pattern.build({$data:data})}function getIfaces(wans){function checkAndSetInterfaceForAllProtocols(iface,isTunnel){checkAndSetInterface(iface,V4,isIPv4,isTunnel),checkAndSetInterface(iface,V6,isIPv6,isTunnel)}function checkAndSetInterface(iface,dest,checkFn,isTunnel){checkFn(iface)&&"auto"!==iface.type&&(dest[iface.iface]={Name:iface.name},iface.contag&&(dest[iface.iface].Contag=iface.contag),iface.gwif&&(dest[iface.iface].Gwif=iface.gwif),isTunnel&&(dest[iface.iface].isTunnel=!0))}function isIPv4(iface){return!~["ipv6","pppv6"].indexOf(iface.type)}function isIPv6(iface){return!!~["ipv6","pppv6","pppdual"].indexOf(iface.type)}var ifaces=wans.iface_names,V4={},V6={};for(var ifaceKey in ifaces)if(ifaces[ifaceKey].is_wan)for(var serviceKey in ifaces[ifaceKey].services)if("bridge"!=ifaces[ifaceKey].services[serviceKey].type){checkAndSetInterfaceForAllProtocols(ifaces[ifaceKey].services[serviceKey]);for(var tunnelKey in ifaces[ifaceKey].services[serviceKey].tunnels)checkAndSetInterfaceForAllProtocols(ifaces[ifaceKey].services[serviceKey].tunnels[tunnelKey],!0)}return{V4:V4,V6:V6}}var T=__webpack_require__(122).T;__webpack_require__(41),module.exports={somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd}}()},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(41),funcs=__webpack_require__(43),somovd=__webpack_require__(189),converter=__webpack_require__(160),dms=function(){function pull(cb,constants){function readCb(response){if(!funcs.is.allRPCSuccess(response))return cb&&cb(response.status),response.status;var ifaces=response.rq[0]?response.rq[0].data.iface_names:void 0;if(__constants.isModem)var groups=response.rq[1]?response.rq[1].data:void 0;else var vlans=response.rq[1]?response.rq[1].data.vlans:void 0;var lan=converter.somovdToNative(ifaces,vlans,groups);normalize(lan.LAN),dms.data={Device:lan},__initialData=funcs.deepClone(dms.data),cb&&cb()}__constants=_.extend(__constants,constants);var rpc=[1];__constants.isModem?rpc.push(14):(__constants.BR2_PACKAGE_ANWEB_MULTI_LAN||__constants.SUPPORT_MULTI_LAN)&&rpc.push(119),somovd.get().read(rpc,readCb)}function push(cb,constants){var changes=status();if(!_.size(changes))return cb&&cb();var changeInterfaces=getChangeInterfaces(),convertInterfaces=converter.nativeToSomovd(changeInterfaces,constants),list={write:_.map(convertInterfaces,function(iface,key,interfaces){return{id:1,data:_.pick(interfaces,key),pos:-1}})};somovd.get().multi(list,!1,function(response){writeCb(response,cb)})}function remove(inx,cb){var lan=(somovd.get(),dms.data.Device.LAN[inx]),list={remove:[{id:1,data:[lan.__l3Key],pos:0}]};somovd.get().multi(list,!1,function(response){writeCb(response,cb)})}function writeCb(response,cb){if(!funcs.is.allRPCSuccess(response))return cb&&cb(!0),status;var flags={saveAndReboot:isNeedSaveAndReboot(response)};cb&&cb(null,flags)}function isNeedSaveAndReboot(response){return _.some(response.rq,function(elem){return 12==elem.status})}function status(){return _.isNull(dms.data)?{}:funcs.getChangesWithRemoved(__initialData,dms.data)}function getChangeInterfaces(){var changes=status(),keys=[];return _.each(changes,function(value,key){var re=/^Device.LAN.(\d+)./,matcher=key.match(re);if(!_.isNull(matcher)){var instance=matcher[1];_.contains(keys,instance)||keys.push(instance)}}),{LAN:_.pick(dms.data.Device.LAN,keys)}}function normalize(lan){function getPostfix(elem,key){if(!elem.__l2Key)return key;var postfix=elem.__l2Key;return postfix=postfix.replace(/[^0-9]+/g,""),(parseInt(postfix)+1).toString()}_.each(lan,function(elem,key){"1"!=key&&(_.has(elem,"Name")||(elem.Name="LAN"+getPostfix(elem,key)),_.has(elem,"Enable")||(elem.Enable=!0),elem.IPv4||(elem.IPv4={}),elem.IPv4.StaticIP&&(elem.IPv4.StaticIP[1]||(elem.IPv4.StaticIP[1]={}),_.isEmpty(elem.IPv4.StaticIP[1])&&(elem.IPv4.StaticIP[1].Address="",elem.IPv4.StaticIP[1].SubnetMask=""),_.isEmpty(elem.IPv4.StaticIP[2])&&delete elem.IPv4.StaticIP[2]),elem.IPv4.DHCP||(elem.IPv4.DHCP={}),elem.IPv4.DHCP.Mode||(elem.IPv4.DHCP.Mode="Disable"),elem.IPv6||(elem.IPv6={}),elem.IPv6.AddressingMode||(elem.IPv6.AddressingMode="PD"),elem.IPv6.StaticIP&&(elem.IPv6.StaticIP[1]||(elem.IPv6.StaticIP[1]={}),_.isEmpty(elem.IPv6.StaticIP[1])&&(elem.IPv6.StaticIP[1].Address="",elem.IPv6.StaticIP[1].Prefix="")),elem.IPv6.DHCP||(elem.IPv6.DHCP={}),elem.IPv6.DHCP.Mode||(elem.IPv6.DHCP.Mode="Disable"),elem.IPv6.DHCP.Server||(elem.IPv6.DHCP.Server={}),elem.IPv6.DHCP.Server.AutoconfigurationMode||(elem.IPv6.DHCP.Server.AutoconfigurationMode="Disable"))})}function getInitData(){return funcs.deepClone(__initialData)}var __constants={},__initialData=null;return{pull:pull,push:push,remove:remove,status:status,data:null,getInitData:getInitData}}();module.exports=dms},function(module,exports,__webpack_require__){"use strict";!function(){function pull(cb,__constants){function readCb(generalResponse){if(generalResponse.rq.some(isError))throw new Error("RPC error");var response=_.object(rpcList,generalResponse.rq),data=response[constants.CONFIG_ID_GROUP_VLAN].data;data.port_status=response[constants.CONFIG_ID_PORTS].data,data.wifi=response[constants.CONFIG_ID_WIFI]&&response[constants.CONFIG_ID_WIFI].data,dms.data={Device:{VLAN:somovdToNative(data)}},dms.__initialData=funcs.deepClone(dms.data),cb&&cb()}_.extend(constants,__constants);var rpcList=[constants.CONFIG_ID_GROUP_VLAN,constants.CONFIG_ID_PORTS];constants.SHOW_PORT_SSID&&rpcList.push(constants.CONFIG_ID_WIFI),somovd.get().read(rpcList,readCb)}function push(cb){function writeCb(response){return isError(response)?cb&&cb(response.status):void(cb&&cb())}return dms.isChanged?somovd.get().write(119,nativeToSomovd(dms.data.Device.VLAN),writeCb):cb&&cb()}function isError(response){return 20!==response.status}var _=__webpack_require__(41),funcs=__webpack_require__(43),somovd=__webpack_require__(189),converter=__webpack_require__(201),somovdToNative=converter.somovdToNative,nativeToSomovd=converter.nativeToSomovd,dms={pull:pull,push:push,data:null,__initialData:null},constants={CONFIG_ID_GROUP_VLAN:119,CONFIG_ID_PORTS:129,CONFIG_ID_WIFI:35};module.exports=dms}()},function(module,exports,__webpack_require__){"use strict";!function(){module.exports={somovdToNative:__webpack_require__(202),nativeToSomovd:__webpack_require__(203)}}()},function(module,exports,__webpack_require__){"use strict";!function(){var _=__webpack_require__(41);module.exports=function(data){function makePorts(acc,port){return acc[port]=makePort(port),acc}function makePort(port){return{Alias:getAlias(port),IsWan:isWan(port),IsWifi:isWifi(port)}}function getAlias(port){var portObj=data.port_status[port],portSSID=getSSID(port);return portObj&&portObj.alias||portSSID||port}function getSSID(port){if(!/^wifi/.test(port))return null;var band=/5G/.test(port)&&"5G_"||"",num=port.replace(/wifi(_[\w]+)?(-(\d))?(-na)?/,"$3")||0;return data.wifi&&data.wifi[band+"mbssid"]&&data.wifi[band+"mbssid"][num]&&data.wifi[band+"mbssid"][num].SSID||null}function isWan(port){var portObj=data.port_status[port];return!!portObj&&!!portObj.is_wan}function isWifi(port){return!port.indexOf("wifi")}function makeVlans(acc,vlan,inx){return acc[inx+1]=makeVlan(vlan),acc}function makeVlan(vlan){var preparedPorts=preparePorts(vlan),result={Name:vlan.name,Vid:vlan.vid,Enable:vlan.en,Iface:vlan.ifname,OLT:vlan.olt,Type:getType(vlan,preparedPorts),PortsUNumberOfEntries:preparedPorts.qty.u,PortsU:preparedPorts.u,PortsTNumberOfEntries:preparedPorts.qty.t,PortsT:preparedPorts.t,Qos:preparedPorts.qos};return vlan.vid_range_end&&(result.VidRangeEnd=vlan.vid_range_end),"want"!=result.Type||_.isUndefined(vlan.lan_subnet)||(result.LanSubnet=vlan.lan_subnet||"all"),"lanu"!=result.Type&&"lant"!=result.Type||_.isUndefined(vlan.routing)||(result.Routing=vlan.routing||[]),result}function preparePorts(vlan){function handlePort(port,key){var type=port.tag?"t":"u";qos=port.qos,ports[type][++inx[type]]={Key:key,Alias:getAlias(key)}}var qos,ports={t:{},u:{}},inx={t:0,u:0};return _.each(vlan.ports,handlePort),ports.qty=inx,_.isNumber(qos)&&(ports.qos=qos),ports}function getType(vlan,ports){var type=vlan.dest;return"bridge"===type?type:type+(ports.qty.u?"u":"t")}var result={};return result.Ports=data.avail_ports.reduce(makePorts,{}),result.ListNumberOfEntries=_.size(data.vlans),result.List=data.vlans.reduce(makeVlans,{}),result}}()},function(module,exports,__webpack_require__){"use strict";!function(){var _=__webpack_require__(41);module.exports=function(data){function convertVlan(vlan,inx){var result={name:vlan.Name,dest:getDest(vlan),vid:vlan.Vid,en:vlan.Enable,ifname:vlan.Iface,olt:vlan.OLT,ports:getPorts(vlan)};return result.vid_range_end=vlan.VidRangeEnd,"want"!=vlan.Type||_.isUndefined(vlan.LanSubnet)||(result.lan_subnet=vlan.LanSubnet&&"all"!=vlan.LanSubnet?vlan.LanSubnet:null),"lanu"!=vlan.Type&&"lant"!=vlan.Type||_.isUndefined(vlan.Routing)||(result.routing=vlan.Routing||[]),result}function getDest(vlan){return vlan.Type.replace(/(u|t)$/,"")}function getPorts(vlan){function makePort(isTagged){return function(port){ports[port.Key]={tag:isTagged},null!=vlan.Qos&&(ports[port.Key].qos=vlan.Qos)}}var ports={};return _.each(_.filter(vlan.PortsT,isNotDeleted),makePort(!0)),_.each(_.filter(vlan.PortsU,isNotDeleted),makePort(!1)),ports}function isNotDeleted(val,inx){return/[^\-]$/.test(inx)}var result={vlans:_.map(_.filter(data.List,isNotDeleted),convertVlan)};return result}}()},function(module,exports,__webpack_require__){"use strict";!function(){function pull(cb,__constants){return constants=_.extend(constants,__constants),clean(),pullDirData(cb)}function push(cb){return dms.isChanged()?pushDirData(cb):cb&&cb()}function pushDirData(cb){function writeCb(response){return isError(response)?cb&&cb(response.status):(dms.__initialData=funcs.deepClone(dms.data),void(cb&&cb()))}return somovd.get().write(constants.CONFIG_ID_GROUP_VLAN,nativeToSomovd(dms.data),writeCb)}function pullDirData(cb){function readCb(response){if(response.rq.some(isError))throw new Error("RPC error");var response=_.object(rpcList,response.rq),data={portsData:response[constants.CONFIG_ID_PORTS].data,vlansData:response[constants.CONFIG_ID_GROUP_VLAN].data,wifiData:response[constants.CONFIG_ID_WIFI]&&response[constants.CONFIG_ID_WIFI].data};dms.data=somovdToNative(data),dms.__initialData=funcs.deepClone(dms.data),cb&&cb()}var rpcList=[constants.CONFIG_ID_GROUP_VLAN,constants.CONFIG_ID_PORTS];return constants.SHOW_PORT_SSID&&rpcList.push(constants.CONFIG_ID_WIFI),somovd.get().read(rpcList,readCb)}function isError(response){return 12!==response.status&&20!==response.status}function isChanged(){if(!dms.data&&!dms.__initialData)return!1;var hasRemoved=_.keys(dms.data.sources).length!=_.keys(dms.__initialData.sources).length,changes=funcs.getChangesWithRemoved(dms.__initialData,dms.data);return hasRemoved||!_.isEmpty(changes)}function clean(){dms.data=null,dms.__initialData=null}var _=__webpack_require__(41),funcs=__webpack_require__(43),somovd=__webpack_require__(189),somovdToNative=__webpack_require__(205),nativeToSomovd=__webpack_require__(206),constants={CONFIG_ID_GROUP_VLAN:119,CONFIG_ID_PORTS:129,CONFIG_ID_WIFI:35},dms={pull:pull,push:push,data:null,__initialData:null,isChanged:isChanged};module.exports=dms}()},function(module,exports,__webpack_require__){"use strict";function toNative(input,options){var sources=getSources(input),ports=getPorts(input,sources),lanPorts=ports.lanPorts,wanPorts=ports.wanPorts,model={sources:sources,lanPorts:lanPorts,wanPorts:wanPorts};return model}function getPorts(params,sources){var portsData=params.portsData,vlansData=params.vlansData,wifiData=params.wifiData,result=_.reduce(vlansData.avail_ports,function(memo,port,index){var mappedPort=mapPort(port,{portsData:portsData,vlansData:vlansData,wifiData:wifiData,sources:sources}),mapKey=mappedPort.isWan?"wanPorts":"lanPorts",newIndex=_.size(memo[mapKey]);return memo[mapKey][newIndex]=mappedPort,memo},{lanPorts:{},wanPorts:{}});return result}function mapPort(port,params){function isSelected(port){var portVlans=_.filter(vlansData.vlans,function(vlan){return _.contains(_.keys(vlan.ports),port)});return 0!=portVlans.length}function getPortBridge(port){var portVlans=_.filter(vlansData.vlans,function(vlan){return _.contains(_.keys(vlan.ports),port)}),portSources=_.chain(sources).omit(function(source,sourceId){return!_.some(portVlans,function(vlan){return source.name==vlan.name&&(isWan(port)||"lan"!=vlan.dest)})}).keys().value();return isWan(port)?portSources:_.first(portSources)||null}function getAlias(port){var portObj=portsData[port],portSSID=getSSID(port);return portObj&&portObj.alias||portSSID||port}function getSSID(port){if(!/^wifi/.test(port))return null;var band=/5G/.test(port)&&"5G_"||"",num=port.replace(/wifi(_[\w]+)?(-(\d))?(-na)?/,"$3")||0;return wifiData&&wifiData[band+"mbssid"]&&wifiData[band+"mbssid"][num]&&wifiData[band+"mbssid"][num].SSID||null}function isWan(port){var portObj=portsData[port];return!!portObj&&!!portObj.is_wan}function isWifi(port){return!port.indexOf("wifi")}var portsData=params.portsData,vlansData=params.vlansData,wifiData=params.wifiData,sources=params.sources,mappedPort={name:port,alias:getAlias(port),isWan:isWan(port),isWifi:isWifi(port),bridge:getPortBridge(port),isSelected:isSelected(port)};return mappedPort}function getSources(params){var vlansData=(params.portsData,params.vlansData),result=_.reduce(vlansData.vlans,function(memo,vlan,index){var source=mapSource(vlan);return memo[index]=source,memo},{});return result}function mapSource(vlan){return{type:vlan.dest,vid:vlan.vid?vlan.vid:null,name:vlan.name,enabled:vlan.en,iface:vlan.ifname}}var _=__webpack_require__(41);module.exports=toNative},function(module,exports,__webpack_require__){"use strict";function toSomovd(data){function getVlans(){var vlans=_.map(data.sources,function(source,sourceId){return{name:source.name,dest:source.type,vid:source.vid,ifname:source.iface,en:source.enabled,ports:getPorts(source,sourceId)}});return vlans}function getPorts(source,sourceId){var lanPorts=_.filter(data.lanPorts,function(port){return(port.isSelected||port.bridge)&&bridgeIsSource(port.bridge,source,sourceId)}),wanPorts=_.filter(data.wanPorts,function(port){return _.some(port.bridge,function(bridge){return bridgeIsSource(bridge,source,sourceId)})}),reducer=function(isWan){return function(memo,port){return memo[port.name]={tag:!!isWan&&!!source.vid},memo}},ports=_.extend({},_.reduce(lanPorts,reducer(!1),{}),_.reduce(wanPorts,reducer(!0),{}));return ports}function bridgeIsSource(bridge,source,sourceId){return!bridge&&"lan"==source.type||bridge==sourceId}var result={vlans:getVlans()};return result}var _=__webpack_require__(41);module.exports=toSomovd},function(module,exports,__webpack_require__){"use strict";var newConfig=__webpack_require__(208),oldConfig=__webpack_require__(209);module.exports={newConfig:newConfig,oldConfig:oldConfig}},function(module,exports){module.exports=function(){}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _promise=__webpack_require__(45),_promise2=_interopRequireDefault(_promise),funcs=(__webpack_require__(41),__webpack_require__(43)),somovd=__webpack_require__(189),transformation=__webpack_require__(210);module.exports=function(){function pull(){return new _promise2["default"](function(resolve,reject){function readCb(response){return funcs.is.RPCSuccess(response)?(data=response.data,void resolve()):void reject()}var transport=somovd.get();transport.read(constants.CONFIG_ID_PORT_ISOLATE,readCb)})}function list(){var initData=workCopy();return transformation.instanceObjectToArray(initData,!1,"SourcePort")}function apply(applyList){return new _promise2["default"](function(resolve,reject){function writeCb(response){return funcs.is.RPCSuccess(response)?void resolve():void reject()}var transport=somovd.get(),applyData=transformation.arrayToInstanceObject(applyList,!1,!0);transport.write(constants.CONFIG_ID_PORT_ISOLATE,applyData,-1,writeCb)})}function workCopy(){return funcs.deepClone(data)}var constants={CONFIG_ID_PORT_ISOLATE:246},data=null,util={pull:pull,list:list,apply:apply};return util}()},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(41);__webpack_require__(43),module.exports=function(){function instanceObjectToArray(obj,skipMap,sortBy){function mapFn(obj){return obj.Dest=instanceObjectToArray(obj.Dest,!0,"DestPort"),obj}return _.chain(obj).map(function(elem,id){return"max_instance"!=id?(skipMap||(elem=mapFn(elem,id)),elem.__id=id,elem):void 0}).compact().sortBy(sortBy).value()}function arrayToInstanceObject(arr,skipMap,setMaxInstance){function mapFn(obj,setMaxInstance){return obj.Dest=arrayToInstanceObject(obj.Dest,!0,setMaxInstance),obj}var result={};return _.each(arr,function(elem,index){var id=_.clone(elem.__id);delete elem.__id,skipMap||(elem=mapFn(elem,setMaxInstance)),result[id]=elem}),setMaxInstance&&(result.max_instance=arr.length),result}return{instanceObjectToArray:instanceObjectToArray,arrayToInstanceObject:arrayToInstanceObject}}()},function(module,exports,__webpack_require__){"use strict";var newConfig=__webpack_require__(212),oldConfig=__webpack_require__(213),dsysinit=__webpack_require__(214);module.exports={newConfig:newConfig,oldConfig:oldConfig,dsysinit:dsysinit}},function(module,exports){module.exports=function(){}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _promise=__webpack_require__(45),_promise2=_interopRequireDefault(_promise),_=__webpack_require__(41),funcs=__webpack_require__(43),somovd=__webpack_require__(189);module.exports=function(){function pull(){return new _promise2["default"](function(resolve,reject){function readCb(response){return funcs.is.RPCSuccess(response)?(data=response.data,_.has(data.dos_filter,"enable")||(data.dos_filter.enable=!1),_.has(data,"ipFloodFIN")&&!data.dos_filter.perSourceFINThres&&(data.dos_filter.perSourceFINThres=null),_.has(data,"ipFloodICMP")&&!data.dos_filter.perSourceICMPThres&&(data.dos_filter.perSourceICMPThres=null),_.has(data,"ipFloodSYN")&&!data.dos_filter.perSourceSYNThres&&(data.dos_filter.perSourceSYNThres=null),_.has(data,"ipFloodUDP")&&!data.dos_filter.perSourceUDPThres&&(data.dos_filter.perSourceUDPThres=null),void resolve()):void reject()}var transport=somovd.get();transport.read(constants.CONFIG_ID_DOS_FILTER,readCb)})}function getData(){var initData=workCopy();return initData}function apply(applyData){return new _promise2["default"](function(resolve,reject){function writeCb(response){return funcs.is.RPCSuccess(response)?void resolve():void reject()}var transport=somovd.get();_.has(applyData,"ipFloodFIN")&&!applyData.perSourceFINThres&&(applyData.perSourceFINThres=0),_.has(applyData,"ipFloodICMP")&&!applyData.perSourceICMPThres&&(applyData.perSourceICMPThres=0),_.has(applyData,"ipFloodSYN")&&!applyData.perSourceSYNThres&&(applyData.perSourceSYNThres=0),_.has(applyData,"ipFloodUDP")&&!applyData.perSourceUDPThres&&(applyData.perSourceUDPThres=0),transport.write(constants.CONFIG_ID_DOS_FILTER,applyData,-1,writeCb)})}function workCopy(){return funcs.deepClone(data)}var constants={CONFIG_ID_DOS_FILTER:251},data=null,util={pull:pull,getData:getData,apply:apply};return util}()},function(module,exports){module.exports=function(){}},function(module,exports,__webpack_require__){"use strict";var dms=__webpack_require__(190).get().devinfo,pull=function(cb){return dms.pull(cb)},data=function(){return dms.data},dataModel=function(obj){return obj&&(dms.dataModel=obj),dms.dataModel};module.exports={pull:pull,data:data,dataModel:dataModel}},function(module,exports,__webpack_require__){"use strict";module.exports={nativeToSomovd:__webpack_require__(125),somovdToNative:__webpack_require__(121)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _keys=__webpack_require__(84),_keys2=_interopRequireDefault(_keys),dms=__webpack_require__(190).get().wifi,funcs=__webpack_require__(43),WiFiAccessPoint=__webpack_require__(218),WiFiEndPoint=__webpack_require__(222),WiFiWPS=__webpack_require__(223),WiFiWMM=__webpack_require__(224),helper=__webpack_require__(110);module.exports=function(){function isChange(){function isOnlyRegulatoryDomain(status){var indexRadio;return status&&status.Device&&status.Device.WiFi&&status.Device.WiFi.Radio&&(indexRadio=_.keys(status.Device.WiFi.Radio)[0]),isHasOneProperty(status.Device)&&isHasOneProperty(status.Device.WiFi)&&isHasOneProperty(status.Device.WiFi.Radio)&&isHasOneProperty(status.Device.WiFi.Radio[indexRadio])&&_.has(status.Device.WiFi.Radio[indexRadio],"RegulatoryDomain")}function isHasOneProperty(obj){return!!obj&&1==_.keys(obj).length}function isOnlyClientInfoFields(status){var indexRadio;status&&status.Device&&status.Device.WiFi&&status.Device.WiFi.Radio&&(indexRadio=_.keys(status.Device.WiFi.Radio)[0]);var indexEndPoint;status&&status.Device&&status.Device.WiFi&&status.Device.WiFi.Radio&&status.Device.WiFi.Radio[indexRadio]&&status.Device.WiFi.Radio[indexRadio].EndPoint&&(indexEndPoint=_.keys(status.Device.WiFi.Radio[indexRadio].EndPoint)[0]);var pathEndPoint="Device.WiFi.Radio."+indexRadio+".EndPoint."+indexEndPoint+".";return indexEndPoint&&_.has(status.Device.WiFi.Radio[indexRadio].EndPoint[indexEndPoint],"RSSI")&&funcs.cutBranch(status,pathEndPoint+"RSSI"),indexEndPoint&&_.has(status.Device.WiFi.Radio[indexRadio].EndPoint[indexEndPoint],"Connect")&&funcs.cutBranch(status,pathEndPoint+"Connect"),indexEndPoint&&_.has(status.Device.WiFi.Radio[indexRadio].EndPoint[indexEndPoint],"Channel")&&funcs.cutBranch(status,pathEndPoint+"Channel"),isHasOneProperty(status.Device)&&isHasOneProperty(status.Device.WiFi)&&isHasOneProperty(status.Device.WiFi.Radio[indexRadio])&&isHasOneProperty(status.Device.WiFi.Radio[indexRadio].EndPoint)&&0==_keys2["default"](status.Device.WiFi.Radio[indexRadio].EndPoint[indexEndPoint]).length}var status=dms.status();return status&&!_.isEmpty(status)&&!isOnlyRegulatoryDomain(status)&&!isOnlyClientInfoFields(status)}function setClientInfo(value){clientInfo=value}function getBand(index,freq){var radio=dms.data.Device.WiFi.Radio,found=[];freq&&(bandFreq=freq);for(var i in radio)if(radio[i].OperatingFrequencyBand==bandFreq){var obj={radio:radio[i],ap:new WiFiAccessPoint(dms.data,dms.attrs,i,freq),wps:new WiFiWPS(dms.data,i)};obj.wmm=new WiFiWMM(dms.data,dms.attrs,i),found.push(obj)}return _.isUndefined(index)?found:found[index]}function hasBand(freq){var radio=dms.data.Device.WiFi.Radio;return _.some(radio,function(elem){return elem.OperatingFrequencyBand==freq})}function setBandFreq(freq){bandFreq=freq}function getBandFreq(){return bandFreq}function setRegulatoryDomain(freq,domain){var radioFreq=_.findKey(dms.data.Device.WiFi.Radio,{OperatingFrequencyBand:freq});radioFreq&&(dms.data.Device.WiFi.Radio[radioFreq].RegulatoryDomain=domain)}function getClient(band){var index=band&&"2.4GHz"!=band?2:1;return new WiFiEndPoint(dms.data,index)}function getClientBands(){var ap=dms.data.Device.WiFi.Radio;return _.map(ap,function(elem){return elem.OperatingFrequencyBand})}function isSeparateClient(){var radio=dms.data.Device.WiFi.Radio[1],radio5G=dms.data.Device.WiFi.Radio[2];return radio&&radio5G&&radio.EndPointNumberOfEntries>0&&radio5G.EndPointNumberOfEntries>0}function isRadioEnable(freq){var radio=dms.data.Device.WiFi.Radio;return _.some(radio,function(elem){return elem.OperatingFrequencyBand==freq&&elem.Enable})}function enableRadio(freq,cb){var radio=getRadioData(freq);radio.Enable=!0,wifi.push(cb)}function enableRadioBroadcast(freq,inx,cb){var radio=getRadioData(freq);radio.AccessPoint[inx||"1"].Broadcast=!0,wifi.push(cb)}function countries(){var CountriesList=dms.data.Device.WiFi.CountriesList;return CountriesList}function scanList(band){if(!dms.scanData||!dms.scanData.Device.WiFi.ScanList)return[];var result=_.toArray(dms.scanData.Device.WiFi.ScanList);return band&&(result=_.filter(result,function(elem){return elem.Band==band})),result}function supportedParam(param){var band=getBand(0);if(band&&band.radio){var radio=band.radio;return _.has(radio,param)}}function writeSupported(param){var result=funcs.fetchBranch(dms.attrs,"Device.WiFi.Radio.");return!result[param]||-1!=result[param].access.indexOf("Write")}function getRadioAttrs(){var result=funcs.fetchBranch(dms.attrs,"Device.WiFi.Radio.");return result}function getRadioData(freq){var radio=dms.data.Device.WiFi.Radio;return _.find(radio,function(elem){return elem.OperatingFrequencyBand==freq})}function getWDSData(){return dms.data.Device.WiFi.WDS}function isCheckDeviceLoss(){return clientInfo&&"WLAN"==clientInfo.name}function checkDeviceLoss(){function getCurrentRadioPath(init,client){var radioInst,radio=funcs.fetchBranch(init,"Device.WiFi.Radio.");return _.each(radio,function(elem,inst1){isCurrentBand(elem.OperatingFrequencyBand,client.band)&&(radioInst=inst1)}),radioInst?"Device.WiFi.Radio."+radioInst+".":""}function getCurrentAPPath(init,client){var radioInst,apInst,radio=funcs.fetchBranch(init,"Device.WiFi.Radio.");return _.each(radio,function(elem,inst1){isCurrentBand(elem.OperatingFrequencyBand,client.band)&&(radioInst=inst1,_.each(elem.AccessPoint,function(ap,inst2){ap.SSID==client.SSID&&(apInst=inst2)}))}),radioInst&&apInst?"Device.WiFi.Radio."+radioInst+".AccessPoint."+apInst+".":""}function getAPParams(rPath,apPath,data){var result={},radio=funcs.fetchBranch(init,rPath),ap=funcs.fetchBranch(data,apPath),pathFrequency=apPath.replace(/AccessPoint.+$/,"OperatingFrequencyBand"),frequency=funcs.fetchBranch(data,pathFrequency);switch(result.SSID=ap.SSID,result.ModeEnabled=wifi.helper.getModeName(ap.Security.ModeEnabled,radio.OperatingStandards,radio.ModeAvailable),result.Frequency=frequency,result.ProfileId=getIndexFromPath(apPath),ap.Security.ModeEnabled){case"WPA-Personal":case"WPA2-Personal":case"WPA-WPA2-Personal":result.PreSharedKey=ap.Security.PreSharedKey;break;case"WEP":_.each([1,2,3,4],function(value){result["WEPKey"+value]=ap.Security["WEPKey"+value]});break;case"WPA-Enterprise":case"WPA2-Enterprise":case"WPA-WPA2-Enterprise":result.RadiusSecret=ap.Security.RadiusSecret}return result}function getIndexFromPath(path){var endIndex=path.lastIndexOf("."),beginIndex=path.lastIndexOf(".",endIndex-1)+1;return parseInt(path.substring(beginIndex,endIndex))}function isCurrentBand(band1,band2){return parseFloat(band1)==parseFloat(band2)}var result={loss:!1,reason:[],params:{}};if(!isCheckDeviceLoss())return result;var init=dms.getInitData(),data=dms.data,changes=dms.status(),apPath=getCurrentAPPath(init,clientInfo),rPath=getCurrentRadioPath(init,clientInfo);if(!apPath)return result;var changeParamsList=funcs.splitTree(changes);return _.each(changeParamsList,function(obj){var reAP=new RegExp(apPath),reParams=[{name:"ssid",value:[/SSID/]},{name:"security_mode",value:[/ModeEnabled/]},{name:"security_encryption",value:[/PreSharedKey/,/WEPKey*/,/RadiusSecret/]}],name=obj.Name;obj.Value,_.last(name.split(".")),reAP.test(name)&&(_.each(reParams,function(elem){_.each(elem.value,function(reParam){reParam.test(name)&&(result.loss=!0,result.reason.push(elem.name))})}),result.loss&&(result.params=_.extend(result.params,getAPParams(rPath,apPath,data))))}),result}function isClientMode(){var result=!1,band=getBand();if(band&&band[0]){var freq=getBandFreq(),endPoint=_.findWhere(band[0].radio.EndPoint,{Band:freq});result=endPoint&&endPoint.Enable&&endPoint.Profile}return!!result}function getBasicClientInfo(){return dms.data.Device.WiFi.ClientBasic}var bandFreq=null,clientInfo=null,wifi={data:dms.data,getRootData:function(){return dms.data},scanData:dms.scanData,pull:dms.pull,pullCommon:dms.pullCommon,pullAdv:dms.pullAdv,pullWMM:dms.pullWMM,pullWDS:dms.pullWDS,pullClient:dms.pullClient,getChannels:dms.getChannels,setClientInfo:setClientInfo,updateScan:dms.updateScan,push:dms.push,isChange:isChange,hasBand:hasBand,getBand:getBand,getBandFreq:getBandFreq,setBandFreq:setBandFreq,getClient:getClient,getClientBands:getClientBands,getWDSData:getWDSData,getRadioAttrs:getRadioAttrs,isSeparateClient:isSeparateClient,isRadioEnable:isRadioEnable,enableRadio:enableRadio,enableRadioBroadcast:enableRadioBroadcast,countries:countries,scanList:scanList,supportedParam:supportedParam,checkDeviceLoss:checkDeviceLoss,isWirelessClient:isCheckDeviceLoss,helper:helper,isClientMode:isClientMode,writeSupported:writeSupported,setRegulatoryDomain:setRegulatoryDomain,getStatus:dms.status,getBasicClientInfo:getBasicClientInfo};return wifi}()},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(41),somovd=__webpack_require__(219),dsysinit=__webpack_require__(221);module.exports=_.size(somovd)?somovd:dsysinit},function(module,exports,__webpack_require__){"use strict";var funcs=__webpack_require__(43),_=__webpack_require__(41),WiFiAccessPoint=__webpack_require__(220);module.exports=function(data,attrs,radioInx){function getDefault(){var _this=this,baseAP=this.getBase(),obj={SSID:this.getSSID(data.Device.WiFi.Radio[radioInx]),Broadcast:!0,SSIDAdvertisementEnabled:!1,MaxAssociatedDevices:0,ClientIsolation:!1,BandwidthRestricted:0,Security:{ModesSupported:baseAP.Security.ModesSupported,ModeEnabled:"WPA2-Personal",EncryptionType:"AES",OpenWEP:!1,WEPKey1:"",WEPKey1Type:"1",WEPKey2:"",WEPKey2Type:"1",WEPKey3:"",WEPKey3Type:"1",WEPKey4:"",WEPKey4Type:"1",PreSharedKey:funcs.randomString(8),DefaultKeyID:"1",RekeyingInterval:3600,RadiusServerIPAddr:"192.168.0.254",RadiusServerPort:1812,ProtectedManagementFrames:"MgmtFrameProtectionRequired",RadiusSecret:"dlink"}};return obj=_.pick(obj,function(value,key){return _this.supportedParam(key)}),obj.Security=_.pick(obj.Security,function(value,key){return _this.supportedParam(key,"Security.")}),obj}var wifiAP=new WiFiAccessPoint(data,attrs,radioInx);return wifiAP.getDefault=function(){return getDefault.call(this)},wifiAP}},function(module,exports,__webpack_require__){"use strict";function WiFiAccessPoint(data,attrs,radioInx){function getSSID(radio){var res,ssid=radio.AccessPoint[1].SSID,inx=_.size(radio.AccessPoint);do{inx++;var resFind=_.find(radio.AccessPoint,function(elem){return elem.SSID==ssid+"."+inx});res=!resFind}while(0==res);return ssid=ssid+"."+inx}return{get:function(inx){return data.Device.WiFi.Radio[radioInx].AccessPoint[inx]},getBase:function(){return data.Device.WiFi.Radio[radioInx].AccessPoint[1]},getSSID:getSSID,set:function(obj,inx){var path=funcs.setInstance(data.Device.WiFi.Radio[radioInx],"AccessPoint."+inx,obj);return path.replace("AccessPoint.","")},cut:function(inx){return funcs.cutInstance(data.Device.WiFi.Radio[radioInx],"AccessPoint."+inx)},list:function(){return data.Device.WiFi.Radio[radioInx].AccessPoint},add:function(obj){var path=funcs.addInstance(data.Device.WiFi.Radio[radioInx],"AccessPoint",obj);return path.replace("AccessPoint.","")},conflicts:function(obj){var list=this.list();return _.filter(_.keys(list),function(key){var elem=list[key];return elem.SSID==obj.SSID?!0:void 0})},supportedParam:function(param,root){var base=this.getBase(),obj=root?funcs.fetchBranch(base,root):base;return _.has(obj,param)}}}var funcs=__webpack_require__(43),_=__webpack_require__(41);module.exports=WiFiAccessPoint},function(module,exports){module.exports=function(){}},function(module,exports,__webpack_require__){"use strict";function WiFiEndPoint(data,radioInx){
return{getBase:function(){var arr=_.values(data.Device.WiFi.Radio[radioInx].EndPoint);return arr[0]},list:function(){return data.Device.WiFi.Radio[radioInx].EndPoint},conflicts:function(obj){var list=this.list();return _.filter(_.keys(list),function(key){var elem=list[key];return elem.SSID==obj.SSID?!0:void 0})}}}var _=(__webpack_require__(43),__webpack_require__(41));module.exports=WiFiEndPoint},function(module,exports,__webpack_require__){"use strict";function WiFiWPS(data,radioInx){function info(inx){var info={},currentAP=ap[inx],wps=currentAP.WPS,sec=currentAP.Security;return info.enabled=wps.Enable,info.configured=wps.Configured,_.has(wps,"Configured")&&(info.state=wps.Configured?"wifi_wps_configured":"wifi_wps_not_configured"),_.has(wps,"DefaultPIN")&&(info.defpin=wps.DefaultPIN),_.has(wps,"DevicePIN")&&(info.devpin=wps.DevicePIN),_.has(wps,"ClientPIN")&&(info.clipin=wps.ClientPIN),_.has(currentAP,"SSID")&&(info.ssid=currentAP.SSID),_.has(sec,"ModeEnabled")&&(info.mode=helper.getModeName(sec.ModeEnabled,radio.OperatingStandards,radio.ModeAvailable)),_.has(sec,"EncryptionType")&&(info.encr=sec.EncryptionType),_.has(sec,"PreSharedKey")&&"None"!=sec.ModeEnabled&&(info.psk=sec.PreSharedKey),info}var radio=data.Device.WiFi.Radio[radioInx],ap=data.Device.WiFi.Radio[radioInx].AccessPoint;return{data:function(inx){return ap[inx].WPS},getConnectMethod:function(inx){return ap[inx].WPS.PIN?"PIN":"PBC"},getInfo:function(inx){return info(inx)},connect:function(inx){"PIN"!=ap[inx].WPS.Method&&delete ap[inx].WPS.PIN},reset:function(cb,inx){ap[inx].WPS.Configured=!1,cb&&cb()},warnings:function(inx){var result=[];return radio.Enable||result.push("radioDisable"),_.has(ap[inx],"Broadcast")&&!ap[inx].Broadcast&&result.push("broadcastDisable"),ap[inx].WPS.Check||result.push("unallowableMode"),result},apInfo:function(){return ap}}}var _=(__webpack_require__(43),__webpack_require__(41)),helper=__webpack_require__(110);module.exports=WiFiWPS},function(module,exports,__webpack_require__){"use strict";function WiFiWMM(data,attrs,radioInx){function getRestriction(type,ac){function getRestrict(cwmin,cwmax){return{ECWMin:cwmin,ECWMax:cwmax}}function getAIFSRangeAttrs(wmmAttrs){var range=getAIFSRangeDefault(),minMax=funcs.newConfig.makeMinMaxModel(wmmAttrs);return _.has(minMax.AIFSN,"min")&&(range.min=minMax.AIFSN.min),_.has(minMax.AIFSN,"max")&&(range.max=minMax.AIFSN.max+1),prepareAIFSRange(range)}function getAIFSRangeDefault(){return{min:1,max:16}}function prepareAIFSRange(range){return _.range(range.min,range.max)}function getTxOpMaxMinMaxAttrs(wmmAttrs){var range=getTxOpMaxMinMaxDefault(),minMax=funcs.newConfig.makeMinMaxModel(wmmAttrs);return _.has(minMax.TxOpMax,"min")&&(range.min=minMax.TxOpMax.min),_.has(minMax.TxOpMax,"max")&&(range.max=minMax.TxOpMax.max),range}function getTxOpMaxMinMaxDefault(){return{min:0,max:9999}}function getWMMAttrs(type,ac){function getWMMAPAttrs(){return funcs.fetchBranch(attrs,"Device.WiFi.Radio.WMM.AP.AC.")}function getWMMEPAttrs(){return funcs.fetchBranch(attrs,"Device.WiFi.Radio.WMM.EP.AC.")}if(!attrs)return null;var wmmAttrs="ap"==type?getWMMAPAttrs():getWMMEPAttrs();return wmmAttrs&&wmmAttrs[ac]?wmmAttrs[ac]:null}var wmmAttrs=getWMMAttrs(type,ac);return{ap:{BK:getRestrict(5,10),BE:getRestrict(4,6),VI:getRestrict(3,4),VO:getRestrict(2,3)},ep:{BK:getRestrict(4,10),BE:getRestrict(4,10),VI:getRestrict(3,4),VO:getRestrict(2,3)},AIFSN:wmmAttrs?getAIFSRangeAttrs(wmmAttrs):prepareAIFSRange(getAIFSRangeDefault()),TxOpMax:wmmAttrs?getTxOpMaxMinMaxAttrs(wmmAttrs):getTxOpMaxMinMaxDefault()}}function hasSupportMode(){return _.has(data.settings,"Mode")}var radio=data.Device.WiFi.Radio[radioInx];if(!radio.WMM)return{};var wmm=radio.WMM,ap=wmm.AP[1].AC,ep=wmm.EP[1].AC,data={settings:wmm,ap:ap,ep:ep};return{data:data,get:function(type,inst){return data[type][inst]},getRestriction:getRestriction,hasSupportMode:hasSupportMode}}var funcs=__webpack_require__(43),_=__webpack_require__(41);module.exports=WiFiWMM},function(module,exports,__webpack_require__){"use strict";function isChanged(){var path,changes=status();for(path in changes)if(!path.indexOf("Device.WiFiMACFilter"))return!0;return!1}function status(){return dms.data?_.extend(funcs.getChanges(dms.data,dms.__initialData),funcs.getChanges(dms.__initialData,dms.data)):{}}function data(){return dms.data?dms.data.Device.WiFiMACFilter:{}}var dms=__webpack_require__(190).get().wifiMacFilter,funcs=__webpack_require__(43),_=__webpack_require__(41);module.exports={pull:dms.pull,push:dms.push,status:status,isChanged:isChanged,data:data,cut:function(inx){return funcs.cutInstance(dms.data.Device.WiFiMACFilter,"Rules."+inx)},set:function(inx,obj){return funcs.setInstance(dms.data.Device.WiFiMACFilter,"Rules."+inx,obj)},add:function(obj){return funcs.addInstance(dms.data.Device.WiFiMACFilter,"Rules",obj)}},dms.isChanged=isChanged,dms.status=status},function(module,exports,__webpack_require__){"use strict";var dms=__webpack_require__(190).get().wifiShaping;__webpack_require__(43),__webpack_require__(41),module.exports={pull:dms.pull,push:dms.push,getData:dms.getData,getNetworks:dms.getNetworks,wasModified:dms.wasModified}},function(module,exports,__webpack_require__){"use strict";var funcs=__webpack_require__(43),_=__webpack_require__(41),dms=__webpack_require__(190).get().lan,ipv4=__webpack_require__(228),ipv6=__webpack_require__(235);module.exports=function(){function pull(cb,constants){return dms.pull(cb,constants)}function push(cb,constants){return dms.push(cb,constants)}function remove(inx,cb){return dms.remove(inx,cb)}function data(){return _.isNull(dms.data)?{}:dms.data.Device.LAN}function deviceMode(){return _.isNull(dms.data)||!_.has(dms.data.Device,"DeviceMode")?"":dms.data.Device.DeviceMode}function supported(){return dms.supported?dms.supported():function(){}}function constraints(){return dms.constraints?dms.constraints():{}}function isChange(){return!_.isEmpty(dms.status())}function cleanData(){dms.data=null}function getInterface(){function init(){var interfaces=list();initInterfaces=funcs.deepClone(interfaces);var inst=_.keys(interfaces)[0];change(inst)}function clean(){current=null,initInterfaces=null}function list(){return lan.data()}function listNew(){var interfaces=funcs.deepClone(lan.data());return _.each(interfaces,function(iface,key){iface.__isNewInterface||delete interfaces[key]}),interfaces}function getData(inst){var interfaces=list();return interfaces?interfaces[inst]:null}function setData(data,inst){var interfaces=list();interfaces[inst]=funcs.deepClone(data)}function getCurrent(){return current}function getNotices(){var notices=[];return _.each(current,function(elem){if(elem&&elem.notification){var list=elem.notification.list();_.each(list,function(name){var notice=elem.notification.get(name);notice.check()&&notices.push({name:name,notice:notice})})}}),notices}function change(inst,isSetCurrentData){if(isSetCurrentData){var oldIface=funcs.deepClone(_.omit(current.data,"__l2Key","__vlanName")),newIface=getData(inst),iface=funcs.deepExtend(newIface,oldIface);resetInstanceToInit(current.instance)}else var iface=getData(inst);current={data:iface,instance:inst,ipv4:"undefined"!=typeof ipv4&&_.has(iface,"IPv4")?ipv4(iface):dummy(),ipv6:"undefined"!=typeof ipv6&&_.has(iface,"IPv6")?ipv6(iface):dummy()}}function has(inst){var interfaces=list();return interfaces&&_.has(interfaces,inst)}function resetInstanceToInit(inst){setData(funcs.deepClone(initInterfaces[inst]),inst)}function dummy(){return{}}var current=null,initInterfaces=null;return{init:init,clean:clean,list:list,listNew:listNew,getCurrent:getCurrent,getNotices:getNotices,change:change,has:has}}function getIfaceConnections(iface){var lan=dms.data.Device.LAN,names=[];return _.each(lan,function(connection){connection.__l3Key===iface&&names.push(connection.Name)}),names}function checkDeviceLoss(currentAddr){var result={loss:!1,reason:[],params:{}},init=dms.getInitData(),data=dms.data,changes=dms.status(),checkLoss=isCheckDeviceLoss(init,data,currentAddr);if(!checkLoss.check)return result;var addrPath=checkLoss.addrPath,changeParameterList=funcs.splitTree(changes);return _.each(changeParameterList,function(obj){var reAddr=[new RegExp(addrPath),new RegExp(checkLoss.modePath)],name=obj.Name;obj.Value,_.some(reAddr,function(re){return re.test(name)})&&(result.loss=!0,result.reason.push("addr"))}),result.loss&&(result.params=_.extend(result.params,getAddrs(init,data,addrPath))),result}function getAddrs(init,data,path){var result={};return result.oldIP=funcs.fetchBranch(init,path),result.newIP=funcs.fetchBranch(data,path),result}function isCheckDeviceLoss(init,data,currentClientIP){var addrPath,modePath,checkPath=_.some(init.Device.LAN,function(elem,inx){return _.some(elem.IPv4.StaticIP,function(ip,id){var checkParam=funcs.is.ipv4(currentClientIP)?ip.Address:ip.AddnHostname;return checkParam==currentClientIP&&(addrPath="Device.LAN."+inx+".IPv4.StaticIP."+id+".Address",modePath="Device.LAN."+inx+".IPv4.AddressingMode",!0)})});if(!checkPath)return!1;var newClientIP=funcs.fetchBranch(data,addrPath),newClientMode=funcs.fetchBranch(data,modePath),currentMode=funcs.fetchBranch(init,modePath);return{check:newClientIP!=currentClientIP||newClientMode!=currentMode&&"Static"==newClientMode,addrPath:addrPath,modePath:modePath}}var lan={pull:pull,push:push,remove:remove,data:data,deviceMode:deviceMode,supported:supported,constraints:constraints,isChange:isChange,clean:cleanData,"interface":getInterface(),getIfaceConnections:getIfaceConnections,checkDeviceLoss:checkDeviceLoss};return lan}()},function(module,exports,__webpack_require__){"use strict";var Notification=(__webpack_require__(43),__webpack_require__(41),__webpack_require__(229)),ipv4StaticIP=__webpack_require__(230),ipv4DHCP=__webpack_require__(231),ipv4DnsHosts=__webpack_require__(234);module.exports=function(iface){function data(){return ipv4}var ipv4=iface.IPv4,staticIP=ipv4StaticIP(ipv4),dhcp=ipv4DHCP(ipv4),dns=ipv4DnsHosts(ipv4),notification=new Notification;return notification.add({name:"dhcp_is_incorrect_pool",check:{fn:dhcp.isIncorrectPool,context:dhcp},correct:{fn:dhcp.changePool,context:dhcp},params:{fn:function(){return{ranges:staticIP.getRanges()}}}}),{data:data,staticIP:staticIP,dhcp:dhcp,dns:dns,notification:notification}}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(41);module.exports=function(){function Notification(){function list(){return _.keys(listeners)}function add(options){options.name&&(listeners[options.name]=new Notice(options))}function get(name){return listeners[name]?listeners[name]:null}function remove(name){delete listeners[name]}function cleanAll(name){_.each(listeners,function(elem,name){remove(name)})}var listeners={};return{list:list,add:add,get:get,remove:remove,cleanAll:cleanAll}}function Notice(options){function check(){return callOption("check",arguments)}function correct(){return callOption("correct",arguments)}function params(){return callOption("params",arguments)}function callOption(name,args){var option=options[name];if(option){var fn=option.fn,args=Array.prototype.slice.call(args,0),context=option.context||null;return fn.apply(context,args)}}return{check:check,correct:correct,params:params}}return Notification}()},function(module,exports,__webpack_require__){"use strict";var funcs=__webpack_require__(43);funcs.ipv4=__webpack_require__(108),funcs.is=__webpack_require__(107);var _=__webpack_require__(41);module.exports=function(ipv4){function get(inx){return curLanIp=_.has(staticIP,inx)?staticIP[inx].Address:null,_.has(staticIP,inx)?staticIP[inx]:null}function set(elem,inx){staticIP[inx]=elem}function list(){return _.isUndefined(staticIP)?null:staticIP}function conflicts(inx){function isIncorrectSubnet(address,mask){return!funcs.is.ipv4(address)||!funcs.is.mask(mask)}if(!inx)return[];var addresses=list(),current=get(inx),result=[];return isIncorrectSubnet(current.Address,current.SubnetMask)?result:(_.each(addresses,function(elem,index){if(index!=inx&&!isIncorrectSubnet(elem.Address,elem.SubnetMask)){var network=funcs.ipv4.subnet.getNetworkRange(elem.Address,elem.SubnetMask);funcs.ipv4.subnet.belongNetworkRange(network,current.Address)&&result.push(index)}}),result)}function validation(elem,dhcpOffFlag,minHosts){function isInvalidGW(gw){return!gw||!funcs.is.ipv4(gw)}function isInvalidIP(addr){return addr&&!funcs.is.ipv4(addr)}function isInvalidMask(msk){return msk&&!funcs.is.mask(msk)}function isReserved(addr,msk){return funcs.ipv4.subnet.checkReserved(addr,msk)}function isHostsLessMin(hosts,minHosts){var minHostsCount=minHosts?minHosts:options.minHosts;return!_.isNull(minHostsCount)&&minHostsCount>hosts}function isHostsLessMinDhcpOff(hosts){return!_.isNull(options.minHostsDhcpOff)&&hosts<options.minHostsDhcpOff}function isHostsMoreMax(hosts){return!_.isNull(options.maxHosts)&&hosts>options.maxHosts}var errors={Address:[],SubnetMask:[],GatewayAddress:[]},addr=elem.Address,msk=elem.SubnetMask,gw=elem.GatewayAddress;if(isInvalidIP(addr)&&errors.Address.push("msg_invalid_ipv4"),isInvalidMask(msk)&&errors.SubnetMask.push("msg_invalid_mask"),__autoconf.BR2_PACKAGE_ANWEB_CUSTOM_CANALPLUS_38587&&funcs.ipv4.subnet.belongNetwork("192.168.100.0",addr,msk)&&errors.Address.push("lan_error_ip_addr_unavalable"),!isInvalidIP(addr)&&!isInvalidMask(msk)){var hosts=funcs.ipv4.mask.hosts(msk);if(isReserved(addr,msk)&&errors.Address.push("lan_error_ip_is_reserved"),(dhcpOffFlag?isHostsLessMinDhcpOff(hosts):isHostsLessMin(hosts,minHosts))&&errors.SubnetMask.push("lan_error_subnet_hosts_less_min"),isHostsMoreMax(hosts)&&errors.SubnetMask.push("lan_error_subnet_hosts_more_max"),!isInvalidGW(gw)){var network=funcs.ipv4.subnet.getNetworkRange(elem.Address,elem.SubnetMask);funcs.ipv4.subnet.belongNetworkRange(network,gw)||errors.GatewayAddress.push("lan_error_gateway_not_belong_subnets"),0==funcs.ipv4.address.compare(addr,gw)&&(errors.Address.push("msg_ip_address_is_used"),errors.GatewayAddress.push("msg_ip_address_is_used"))}}return errors}function getRanges(){function correctResultRanges(result,currentDHCPPool,curLanIp){return funcs.ipv4.subnet.replaceNetworkRange(result,currentDHCPPool,curLanIp)}function isValidList(addressesList){return _.every(addressesList,function(elem){var errors=validation(elem);return 0==errors.Address.length&&0==errors.SubnetMask.length})}function filterRanges(network,addr1,addr2){var compareAddresses=funcs.ipv4.address.compare(addr1,addr2);switch(compareAddresses){case 1:var ranges1=funcs.ipv4.subnet.splitNetworkRange(network,addr2),ranges2=funcs.ipv4.subnet.splitNetworkRange(network,addr1);if(_.isUndefined(ranges1[1])){var range={start:ranges1[0].start,end:ranges2[0].end};result=result.concat(range)}else{result=result.concat(ranges1[0]);var range={start:ranges1[1].start,end:ranges2[0].end};result=result.concat(range)}_.isUndefined(ranges2[1])||(result=result.concat(ranges2[1]));break;case-1:var ranges1=funcs.ipv4.subnet.splitNetworkRange(network,addr1),ranges2=funcs.ipv4.subnet.splitNetworkRange(network,addr2);if(_.isUndefined(ranges1[1])){var range={start:ranges1[0].start,end:ranges2[0].end};result=result.concat(range)}else{result=result.concat(ranges1[0]);var range={start:ranges1[1].start,end:ranges2[0].end};result=result.concat(range)}_.isUndefined(ranges2[1])||(result=result.concat(ranges2[1]))}}var result=[],addressesList=list();return isValidList(addressesList)?(_.each(addressesList,function(elem){var network=funcs.ipv4.subnet.getNetworkRange(elem.Address,elem.SubnetMask),currentDHCPPool={start:dhcp?dhcp.MinAddress:null,end:dhcp?dhcp.MaxAddress:null};if(!_.isUndefined(elem.GatewayAddress)&&elem.GatewayAddress)filterRanges(network,elem.Address,elem.GatewayAddress);else{var ranges=funcs.ipv4.subnet.splitNetworkRange(network,elem.Address);result=result.concat(ranges),1==result.length&&funcs.is.ipv4(currentDHCPPool.start)&&funcs.is.ipv4(currentDHCPPool.end)&&(result=correctResultRanges(result[0],currentDHCPPool,curLanIp))}}),_.filter(result,function(elem){return-1==funcs.ipv4.address.compare(elem.start,elem.end)})):result}function outOfRanges(addr){var ranges=getRanges();return!!ranges.length&&!_.some(ranges,function(range){return funcs.ipv4.subnet.belongNetworkRange(range,addr)})}function getSubnet(){function isValidList(addressesList){return _.every(addressesList,function(elem){var errors=validation(elem);return 0==errors.Address.length&&0==errors.SubnetMask.length})}var result=[],addressesList=list();return isValidList(addressesList)?(_.each(addressesList,function(elem){var network=funcs.ipv4.subnet.getNetwork(elem.Address,elem.SubnetMask);result.push(network)}),result):result}function isBelongDifferentRanges(addrs,startIp,endIp){function isBelong(net,addrs){return _.every(addrs,function(addr){return funcs.ipv4.subnet.belongNetwork(net.net,addr,net.mask)})}var subnet=getSubnet();return!!subnet.length&&!_.some(subnet,function(net){if(startIp&&endIp){var startNet=funcs.ipv4.subnet.getNetworkAddress(startIp,net.mask),endNet=funcs.ipv4.subnet.getNetworkAddress(endIp,net.mask);return startNet==endNet}return isBelong(net,addrs)})}function isAddressBelongNetworkRange(range){var addressesList=list();return _.some(addressesList,function(elem){return funcs.ipv4.subnet.belongNetworkRange(range,elem.Address)})}function isGatewayBelongNetworkRange(range){var addressesList=list();return _.some(addressesList,function(elem){return!_.isUndefined(elem.GatewayAddress)&&elem.GatewayAddress?funcs.ipv4.subnet.belongNetworkRange(range,elem.GatewayAddress):void 0})}function isReserved(addr){var addressesList=list();return _.some(addressesList,function(elem){return funcs.ipv4.subnet.checkReserved(addr,elem.SubnetMask)})}function getOptions(){return options}function setOptions(data){options=_.extend(options,data)}var curLanIp,staticIP=ipv4.StaticIP,dhcp=ipv4.DHCP?ipv4.DHCP.Server:null,__autoconf="undefined"!=typeof autoconf?autoconf:{},options={minHosts:4,maxHosts:16777214,minHostsDhcpOff:2};return{get:get,set:set,list:list,conflicts:conflicts,validation:validation,getRanges:getRanges,outOfRanges:outOfRanges,isBelongDifferentRanges:isBelongDifferentRanges,getOptions:getOptions,setOptions:setOptions,isAddressBelongNetworkRange:isAddressBelongNetworkRange,isGatewayBelongNetworkRange:isGatewayBelongNetworkRange,isReserved:isReserved}}},function(module,exports,__webpack_require__){"use strict";var funcs=__webpack_require__(43);funcs.ipv4=__webpack_require__(108),funcs.is=__webpack_require__(107),_=__webpack_require__(41);var moduleStatipIP=__webpack_require__(230),moduleDhcpStaticAddress=__webpack_require__(232),moduleDHCPOption=__webpack_require__(233);module.exports=function(ipv4){function data(){return dhcp}function validation(data,minHostsCount,isAPMode){var errors={MinAddress:[],MaxAddress:[],LeaseTime:[]},minAddress=dhcp.Server.MinAddress,maxAddress=dhcp.Server.MaxAddress,leaseTime=_.has(dhcp.Server,"LeaseTime")&&dhcp.Server.LeaseTime?dhcp.Server.LeaseTime.toString():void 0;if(leaseTime&&leaseTime.length>8&&errors.LeaseTime.push("msg_input_lenght_more_max"),minAddress||errors.MinAddress.push("msg_input_is_empty"),maxAddress||errors.MaxAddress.push("msg_input_is_empty"),minAddress&&!funcs.is.ipv4(minAddress)&&errors.MinAddress.push("msg_invalid_ipv4"),maxAddress&&!funcs.is.ipv4(maxAddress)&&errors.MaxAddress.push("msg_invalid_ipv4"),minAddress&&funcs.is.ipv4(minAddress)&&maxAddress&&funcs.is.ipv4(maxAddress)){staticIP.isBelongDifferentRanges([minAddress])&&errors.MinAddress.push("lan_error_ip_address_and_lan_ip_are_in_different_subnets"),staticIP.isBelongDifferentRanges([maxAddress])&&errors.MaxAddress.push("lan_error_ip_address_and_lan_ip_are_in_different_subnets"),staticIP.isBelongDifferentRanges([],minAddress,maxAddress)&&(errors.MinAddress.push("lan_error_dhcp_start_ip_and_stop_ip_belong_different_ip_ranges"),errors.MaxAddress.push("lan_error_dhcp_start_ip_and_stop_ip_belong_different_ip_ranges"));var compareAddresses=funcs.ipv4.address.compare(minAddress,maxAddress);switch(compareAddresses){case 1:errors.MinAddress.push("lan_error_dhcp_start_ip_more_stop_ip"),errors.MaxAddress.push("lan_error_dhcp_stop_ip_less_start_ip");break;case 0:minHostsCount>2&&(errors.MinAddress.push("lan_error_dhcp_start_ip_equal_stop_ip"),errors.MaxAddress.push("lan_error_dhcp_start_ip_equal_stop_ip"))}staticIP.isReserved(minAddress)&&errors.MinAddress.push("lan_error_ip_is_reserved"),staticIP.isReserved(maxAddress)&&errors.MaxAddress.push("lan_error_ip_is_reserved"),staticIP.isAddressBelongNetworkRange({start:minAddress,end:maxAddress})&&(errors.MinAddress.push("lan_error_lan_ip_address_is_in_dhcp_range"),errors.MaxAddress.push("lan_error_lan_ip_address_is_in_dhcp_range")),isAPMode&&staticIP.isGatewayBelongNetworkRange({start:minAddress,end:maxAddress})&&(errors.MinAddress.push("lan_error_gw_ip_address_is_in_dhcp_range"),errors.MaxAddress.push("lan_error_gw_ip_address_is_in_dhcp_range")),staticIP.outOfRanges(minAddress)&&errors.MinAddress.push("lan_error_dhcp_start_ip_out_of_ranges"),staticIP.outOfRanges(maxAddress)&&errors.MaxAddress.push("lan_error_dhcp_stop_ip_out_of_ranges")}return errors}function changePool(obj){obj.start&&funcs.is.ipv4(obj.start)&&obj.end&&funcs.is.ipv4(obj.end)&&(dhcp.Server.MinAddress=obj.start,dhcp.Server.MaxAddress=obj.end)}function isIncorrectPool(){if("Server"!=data().Mode)return!1;var error=validation();return error.MinAddress.length||error.MaxAddress.length}var dhcp=ipv4.DHCP||{},staticIP=_.isUndefined(ipv4.staticIP)?moduleStatipIP(ipv4):ipv4.staticIP,dhcpStaticAddress=moduleDhcpStaticAddress(dhcp,"ipv4"),DHCPOption=moduleDHCPOption(dhcp,"ipv4");return{data:data,validation:validation,changePool:changePool,isIncorrectPool:isIncorrectPool,staticAddress:dhcpStaticAddress,DHCPOption:DHCPOption}}},function(module,exports,__webpack_require__){"use strict";function StaticAddress(dhcp,ipVersion){function list(){return dhcpServer.StaticAddress}function mode(){return dhcp.Mode}function add(elem){var path=funcs.addInstance(dhcpServer,"StaticAddress",elem);return path.replace("StaticAddress.","")}function set(elem,inx){var path=funcs.setInstance(dhcpServer,"StaticAddress."+inx,elem);return path.replace("StaticAddress.","")}function cut(inx){return funcs.cutInstance(dhcpServer,"StaticAddress."+inx)}function remove(inx){var elem=_.clone(dhcpServer.StaticAddress[inx]);delete dhcpServer.StaticAddress[inx];var toAdd=dhcpServer.__toAdd.split(","),toAddIndex=_.indexOf(toAdd,"StaticAddress."+inx);return-1!=toAddIndex&&toAdd.splice(toAddIndex,1),toAdd.length?dhcpServer.__toAdd=toAdd.join(","):delete dhcpServer.__toAdd,elem}function validation(elem){var errors={IPAddress:[],MACAddress:[],LeaseTime:[]},ipAddress=elem.IPAddress,macAddress=elem.MACAddress;return ipAddress&&("ipv4"!=ipversion||funcs.is.ipv4(ipAddress)||errors.IPAddress.push("msg_invalid_ipv4"),"ipv6"!=ipversion||funcs.is.ipv6(ipAddress)||errors.IPAddress.push("msg_invalid_ipv6")),macAddress&&!funcs.is.mac(macAddress)&&errors.MACAddress.push("msg_invalid_mac"),errors}function checkForEntryInSubnet(ipaddr,server){if(!ipaddr)return!0;if("ipv4"==ipversion&&!funcs.is.ipv4(ipaddr))return!0;if("ipv6"==ipversion&&!funcs.is.ipv6(ipaddr))return!0;var mask="ipv4"==ipversion?server.SubnetMask:server.Prefix,network=funcs[ipversion].subnet.getNetworkRange(server.Address,mask);return!!funcs[ipversion].subnet.belongNetworkRange(network,ipaddr)}function isUseRule(rule){return _.some(list(),function(elem,inx){return rule.IPAddress==elem.IPAddress||rule.MACAddress==elem.MACAddress||rule.Hostname==elem.Hostname})}function usedValues(withoutInx){var rules=_.filter(list(),function(elem,inx){return"cut"!=getInstanceState(inx)&&(!withoutInx||withoutInx!=inx)});return{IPAddress:_.compact(_.pluck(rules,"IPAddress")),MACAddress:"ipv4"==ipversion?_.compact(_.pluck(rules,"MACAddress")):[],Hostname:_.compact(_.pluck(rules,"Hostname")),Mode:_.compact(_.pluck(rules,"Mode")),LeaseTime:_.compact(_.pluck(rules,"LeaseTime"))}}function getInstanceState(instance){var regCut=/\-$/,regAdd=/\+$/;return regCut.test(instance)?"cut":regAdd.test(instance)?"add":""}if(!(this instanceof StaticAddress))return new StaticAddress(dhcp,ipVersion);var dhcpServer=dhcp.Server||{},ipversion=ipVersion;return{list:list,mode:mode,add:add,set:set,cut:cut,remove:remove,validation:validation,checkForEntryInSubnet:checkForEntryInSubnet,isUseRule:isUseRule,usedValues:usedValues,getInstanceState:getInstanceState}}var funcs=__webpack_require__(43);funcs.is=__webpack_require__(107),funcs.ipv4=__webpack_require__(108),funcs.ipv6=__webpack_require__(109);var _=__webpack_require__(41);module.exports=StaticAddress},function(module,exports,__webpack_require__){"use strict";function DHCPOption(dhcp,ipVersion){function list(){return dhcp.DHCPCustomOpts}function mode(){return dhcp.Mode}function add(elem){return dhcp.DHCPCustomOpts.push(elem),dhcp.DHCPCustomOpts}function set(elem,inx){return dhcp.DHCPCustomOpts[inx]=elem,dhcp.DHCPCustomOpts}function remove(inx){return _.each(inx,function(num){delete dhcp.DHCPCustomOpts[num]}),dhcp.DHCPCustomOpts=_.compact(dhcp.DHCPCustomOpts),dhcp.DHCPCustomOpts}function usedValues(withoutInx){var rules=_.filter(list(),function(elem,inx){return"cut"!=getInstanceState(inx)&&(!withoutInx&&0!=withoutInx||withoutInx!=inx)});return{Option:_.compact(_.pluck(rules,"Option")),Tag:_.compact(_.pluck(rules,"Tag")),Value:_.compact(_.pluck(rules,"Value"))}}function getInstanceState(instance){var regCut=/\-$/,regAdd=/\+$/;return regCut.test(instance)?"cut":regAdd.test(instance)?"add":""}return this instanceof DHCPOption?(dhcp.DHCPCustomOpts=dhcp.DHCPCustomOpts||[],{list:list,mode:mode,add:add,set:set,remove:remove,usedValues:usedValues,getInstanceState:getInstanceState}):new DHCPOption(dhcp,ipVersion)}var funcs=__webpack_require__(43);funcs.is=__webpack_require__(107),funcs.ipv4=__webpack_require__(108),funcs.ipv6=__webpack_require__(109);var _=__webpack_require__(41);module.exports=DHCPOption},function(module,exports,__webpack_require__){"use strict";function Hosts(input){function list(){return dns.Hosts}function add(elem){var path=funcs.addInstance(dns,"Hosts",elem);return path.replace("Hosts.","")}function set(elem,inx){var path=funcs.setInstance(dns,"Hosts."+inx,elem);return path.replace("Hosts.","")}function cut(inx){return funcs.cutInstance(dns,"Hosts."+inx)}function remove(inx){var elem=_.clone(dns.Hosts[inx]);delete dns.Hosts[inx];var toAdd=dns.__toAdd.split(","),toAddIndex=_.indexOf(toAdd,"Hosts."+inx);return-1!=toAddIndex&&toAdd.splice(toAddIndex,1),toAdd.length?dns.__toAdd=toAdd.join(","):delete dns.__toAdd,elem}function getInstanceState(instance){var regCut=/\-$/,regAdd=/\+$/;return regCut.test(instance)?"cut":regAdd.test(instance)?"add":""}if(!(this instanceof Hosts))return new Hosts(input);var dns=input.DNS||{};return{list:list,add:add,set:set,cut:cut,remove:remove,getInstanceState:getInstanceState}}var funcs=__webpack_require__(43),_=__webpack_require__(41);module.exports=Hosts},function(module,exports,__webpack_require__){"use strict";var Notification=(__webpack_require__(43),__webpack_require__(41),__webpack_require__(229)),ipv6StaticIP=__webpack_require__(236),ipv6DHCP=__webpack_require__(237),ipv6DnsHosts=__webpack_require__(234);module.exports=function(iface){function data(){return ipv6}var ipv6=iface.IPv6,staticIP=ipv6StaticIP(ipv6),dhcp=ipv6DHCP(ipv6),dns=ipv6DnsHosts(ipv6),notification=new Notification;if(ipv6.StaticIP[1]&&ipv6.StaticIP[1].Address==ipv6.DHCP.Server.MinAddress&&"Statefull"==ipv6.DHCP.Server.AutoconfigurationMode){var staticIPRange=staticIP.getRanges();!staticIPRange[1]&&staticIPRange[0]&&(ipv6.DHCP.Server.MinAddress=staticIPRange[0].start)}return notification.add({name:"dhcp_is_incorrect_pool",check:{fn:dhcp.isIncorrectPool,context:dhcp},correct:{fn:dhcp.changePool,context:dhcp},params:{fn:function(){var ranges=staticIP.getRanges();return{ranges:ranges}}}}),{data:data,staticIP:staticIP,dhcp:dhcp,dns:dns,notification:notification}}},function(module,exports,__webpack_require__){"use strict";var funcs=__webpack_require__(43);funcs.is=__webpack_require__(107),funcs.ipv6=__webpack_require__(109);var _=__webpack_require__(41);module.exports=function(ipv6){function get(inx){return _.has(staticIP,inx)?staticIP[inx]:null}function set(obj,inx){if(!inx){var keys=_.keys(staticIP);inx=keys.length>0?Number(_.last(keys))+1:"1"}staticIP[inx]=_.clone(obj)}function remove(inx){_.each(inx,function(elem){delete staticIP[elem]})}function list(){return _.isUndefined(staticIP)?null:staticIP}function getDefaultInst(){return{Enable:!0,Address:"",Prefix:"",AddressingType:"Static"}}function validation(elem){function isInvalidIP(addr){return addr&&!funcs.is.ipv6(addr)}function isInvalidPrefix(prefix){return prefix&&!funcs.is.ipv6Prefix(prefix)}function isReserved(addr,prefix){return funcs.ipv6.subnet.checkReserved(addr,prefix)}function isOutOfRangePrefix(prefix){var value=parseInt(prefix);return!_.isNull(options.minPrefix)&&value<options.minPrefix||!_.isNull(options.maxPrefix)&&value>options.maxPrefix}function isOutOfSubnetRange(subnetGateway,subnetStaticIp){return subnetGateway!=subnetLinkLocal&&subnetGateway!=subnetStaticIp?subnetGateway&&subnetStaticIp:void 0}var errors={Address:[],Prefix:[],GatewayAddress:[]},addr=elem.Address,prefix=elem.Prefix,gw=elem.GatewayAddress;if(gw)var subnetGateway=funcs.ipv6.subnet.getNetworkAddress(funcs.ipv6.address.full(gw),prefix),subnetStaticIp=funcs.ipv6.subnet.getNetworkAddress(funcs.ipv6.address.full(addr),prefix),subnetLinkLocal=funcs.ipv6.subnet.getNetworkAddress(funcs.ipv6.address.full("fe80::"),prefix);return isInvalidIP(addr)&&errors.Address.push("msg_invalid_ipv6"),isInvalidIP(gw)&&errors.GatewayAddress.push("msg_invalid_ipv6"),isInvalidPrefix(prefix)&&errors.Prefix.push("msg_invalid_ipv6_prefix"),isInvalidIP(addr)||isInvalidPrefix(prefix)||isReserved(addr,prefix)&&errors.Address.push("lan_error_ip_is_reserved"),isInvalidIP(gw)||isInvalidPrefix(prefix)||isReserved(gw,prefix)&&errors.GatewayAddress.push("lan_error_ip_is_reserved"),isInvalidIP(addr)||isInvalidIP(gw)||isInvalidPrefix(prefix)||isOutOfRangePrefix(prefix)&&errors.Prefix.push("lan_error_subnet_ipv6_prefix_out_of_range"),isInvalidIP(gw)||isInvalidPrefix(prefix)||isInvalidIP(addr)||isOutOfSubnetRange(subnetGateway,subnetStaticIp)&&errors.GatewayAddress.push("msg_error_gateway_ip_address_out_of_range"),!gw||isInvalidIP(addr)||isInvalidIP(gw)||isInvalidPrefix(prefix)||funcs.ipv6.address.full(addr).toUpperCase()==funcs.ipv6.address.full(gw).toUpperCase()&&errors.GatewayAddress.push("msg_ip_address_is_used"),errors}function getRanges(){function isValidList(addressesList){return _.every(addressesList,function(elem){var errors=validation(elem);return 0==errors.Address.length&&0==errors.Prefix.length})}function list(){return _.isUndefined(staticIP)?null:_.omit(staticIP,2)}var result=[],addressesList=list();return isValidList(addressesList)?(_.each(addressesList,function(elem){var network=funcs.ipv6.subnet.getNetworkRange(elem.Address,elem.Prefix),ranges=funcs.ipv6.subnet.splitNetworkRange(network,elem.Address);_.each(ranges,function(range){funcs.ipv6.subnet.belongNetworkRange(network,range.start)&&funcs.ipv6.subnet.belongNetworkRange(network,range.end)&&range.start!=range.end&&(result=result.concat(range))})}),result):result}function outOfRanges(addr){var ranges=getRanges();return!!ranges.length&&!_.some(ranges,function(range){return funcs.ipv6.subnet.belongNetworkRange(range,addr)})}function getSubnet(){function isValidList(addressesList){return _.every(addressesList,function(elem){var errors=validation(elem);return 0==errors.Address.length&&0==errors.Prefix.length})}var result=[],addressesList=list();return isValidList(addressesList)?(_.each(addressesList,function(elem){var network=funcs.ipv6.subnet.getNetwork(elem.Address,elem.Prefix);result.push(network)}),result):result}function isBelongDifferentRanges(addrs){function isBelong(net,addrs){return _.every(addrs,function(addr){return funcs.ipv6.subnet.belongNetwork(net.net,addr,net.prefix)})}var subnet=getSubnet();
return!!subnet.length&&!_.some(subnet,function(net){return isBelong(net,addrs)})}function isAddressBelongNetworkRange(range){var addressesList=list();return _.some(addressesList,function(elem){return funcs.ipv6.subnet.belongNetworkRange(range,elem.Address)})}function getOptions(){return options}function setOptions(data){options=_.extend(options,data)}function checkUnique(elem,inx){if(!elem.Address||!elem.Prefix)return!0;var curSubnet={ip:elem.Address,prefix:elem.Prefix},overIPs=inx?_.omit(staticIP,inx):staticIP,check=_.every(overIPs,function(ip){var ipSubnet={ip:ip.Address,prefix:ip.Prefix};return!funcs.ipv6.subnet.containsNetwork(ipSubnet,curSubnet)&&!funcs.ipv6.subnet.containsNetwork(curSubnet,ipSubnet)});return check}var staticIP=ipv6.StaticIP,options={minPrefix:1,maxPrefix:128};return{get:get,set:set,remove:remove,list:list,getDefaultInst:getDefaultInst,validation:validation,getRanges:getRanges,outOfRanges:outOfRanges,isBelongDifferentRanges:isBelongDifferentRanges,getOptions:getOptions,setOptions:setOptions,isAddressBelongNetworkRange:isAddressBelongNetworkRange,checkUnique:checkUnique}}},function(module,exports,__webpack_require__){"use strict";var funcs=__webpack_require__(43);funcs.ipv6=__webpack_require__(109),funcs.is=__webpack_require__(107),_=__webpack_require__(41);var moduleStatipIP=__webpack_require__(236),moduleDhcpStaticAddress=__webpack_require__(232);module.exports=function(ipv6){function data(){return dhcp}function validation(){var errors={MinAddress:[],MaxAddress:[],LeaseTime:[]},minAddress=dhcp.Server.DHCPAddressShort?"::"+dhcp.Server.MinAddress:dhcp.Server.MinAddress,maxAddress=dhcp.Server.DHCPAddressShort?"::"+dhcp.Server.MaxAddress:dhcp.Server.MaxAddress,leaseTime=_.has(dhcp.Server,"LeaseTime")&&dhcp.Server.LeaseTime?dhcp.Server.LeaseTime.toString():void 0;if(leaseTime&&leaseTime.length>8&&errors.LeaseTime.push("msg_input_lenght_more_max"),minAddress||errors.MinAddress.push("msg_input_is_empty"),maxAddress||errors.MaxAddress.push("msg_input_is_empty"),minAddress&&!funcs.is.ipv6(minAddress)&&errors.MinAddress.push("msg_invalid_ipv6"),maxAddress&&!funcs.is.ipv6(maxAddress)&&errors.MaxAddress.push("msg_invalid_ipv6"),minAddress&&funcs.is.ipv6(minAddress)&&maxAddress&&funcs.is.ipv6(maxAddress)){var compareAddresses=funcs.ipv6.address.compare(minAddress,maxAddress);switch(compareAddresses){case 1:errors.MinAddress.push("lan_error_dhcp_start_ip_more_stop_ip"),errors.MaxAddress.push("lan_error_dhcp_stop_ip_less_start_ip");break;case 0:errors.MinAddress.push("lan_error_dhcp_start_ip_equal_stop_ip"),errors.MaxAddress.push("lan_error_dhcp_start_ip_equal_stop_ip")}if(dhcp.Server.DHCPAddressShort){var patt=/^::[0-9A-Fa-f]{1,4}$/,nullPatt=/^::[0]{1,4}$/;!nullPatt.test(minAddress)&&patt.test(minAddress)||errors.MinAddress.push("msg_not_allowed_addr"),!nullPatt.test(maxAddress)&&patt.test(maxAddress)||errors.MaxAddress.push("msg_not_allowed_addr")}else staticIP.isBelongDifferentRanges([minAddress,maxAddress])&&(errors.MinAddress.push("lan_error_dhcp_start_ip_and_stop_ip_belong_different_ip_ranges"),errors.MaxAddress.push("lan_error_dhcp_start_ip_and_stop_ip_belong_different_ip_ranges")),staticIP.isAddressBelongNetworkRange({start:minAddress,end:maxAddress})&&(errors.MinAddress.push("lan_error_lan_ip_address_is_in_dhcp_range_ipv6"),errors.MaxAddress.push("lan_error_lan_ip_address_is_in_dhcp_range_ipv6")),staticIP.outOfRanges(minAddress)&&errors.MinAddress.push("lan_error_dhcp_start_ip_out_of_ranges"),staticIP.outOfRanges(maxAddress)&&errors.MaxAddress.push("lan_error_dhcp_stop_ip_out_of_ranges")}return errors}function changePool(obj){obj.start&&funcs.is.ipv6(obj.start)&&obj.end&&funcs.is.ipv6(obj.end)&&(dhcp.Server.MinAddress=obj.start,dhcp.Server.MaxAddress=obj.end)}function isIncorrectPool(){var autoMode=(data().Mode,data().Server.AutoconfigurationMode);if("Statefull"!=autoMode||ipv6.StaticIP&&ipv6.StaticIP[1]&&""==ipv6.StaticIP[1].Address)return!1;var error=validation();return error.MinAddress.length||error.MaxAddress.length}var dhcp=ipv6.DHCP,staticIP=_.isUndefined(ipv6.staticIP)?moduleStatipIP(ipv6):ipv6.staticIP,dhcpStaticAddress=moduleDhcpStaticAddress(dhcp,"ipv6");return{data:data,validation:validation,isIncorrectPool:isIncorrectPool,changePool:changePool,staticAddress:dhcpStaticAddress}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function isChanged(){var path,changes=status();for(path in changes)if(!path.indexOf("Device.VLAN"))return!0;return!1}function status(){return dms.data?_.extend(funcs.getChanges(dms.data,dms.__initialData),funcs.getChanges(dms.__initialData,dms.data)):{}}function getAvailPortsU(vlan,include,exclude){return getAvailPorts(vlan)(include,exclude)}function getAvailPortsT(include,exclude){return getAvailPorts(null)(include,exclude)}function getAvailPorts(vlan){return function(include,exclude){function filterHandler(filters,isExclude){function check(port,isExclude){return function(type){return types[type](port)^isExclude}}return function(port){return filters.filter(inTypes).some(check(port,isExclude))}}function inCurrentVlan(name){return toArray(vlan.PortsU).some(function(port){return name===port.Key})}function isFree(name){return!getBusyPorts().some(function(port){return name===port.Key})}function getBusyPorts(){var concatPorts=function(acc,vlan){return acc.concat(toArray(vlan.PortsU))};return reduce(getDmsVlan().List,concatPorts,[])}var isAvail=function(port,name){return inCurrentVlan(name)||isFree(name)},inTypes=function(type){return type in types},isNotEmptyArray=function(obj){return Array.isArray(obj)&&obj.length},types={wan:isWan,wifi:isWifi},isTagged=null===vlan,ports=isTagged?reject(getDmsVlan().Ports,isWifi):filter(getDmsVlan().Ports,isAvail);return ports=isNotEmptyArray(include)?filter(ports,filterHandler(include,!1)):ports,isNotEmptyArray(exclude)?filter(ports,filterHandler(exclude,!0)):ports}}function getUsedPortsU(vlan){return getUsedPorts("PortsU",vlan)}function getUsedPortsT(vlan){return getUsedPorts("PortsT",vlan)}function getUsedPorts(portsKey,vlan){function isUsed(port,name){return toArray(vlan[portsKey]).some(function(port){return name===port.Key})}function convert(item,key){return{item:item,key:key}}return toArray(map(filter(getDmsVlan().Ports,isUsed),convert))}function getTypeCount(type){var checkType=function(type){return function(vlan){return vlan.Type===type}};return toArray(getDmsVlan().List).filter(checkType(type)).length}function filter(obj,fn){function filterFn(acc,item,key,obj){return fn(item,key,obj)?setProp(acc,key,item):acc}return reduce(obj,filterFn,{})}function reject(obj,fn){return filter(obj,reverse(fn))}function map(obj,fn){function mapFn(acc,item,key,obj){return setProp(acc,key,fn(item,key,obj))}return reduce(obj,mapFn,{})}function setProp(obj,key,property){return obj[key]=property,obj}function reduce(obj,fn,initial){var result=initial;for(var key in obj)result=fn(result,obj[key],key,obj);return result}function toArray(obj){return obj?_keys2["default"](obj).map(function(key){return obj[key]}):[]}function reverse(fn){return function(item,key,obj){return!fn.apply(null,arguments)}}var _keys=__webpack_require__(84),_keys2=_interopRequireDefault(_keys),dms=__webpack_require__(190).get().vlan,funcs=__webpack_require__(43),getDmsVlan=function(){return dms.data.Device.VLAN},pull=dms.pull,push=dms.push,data=function(){return _.isNull(dms.data)?{}:getDmsVlan()};module.exports={pull:pull,push:push,status:status,isChanged:isChanged,data:data,getAvailPortsU:getAvailPortsU,getAvailPortsT:getAvailPortsT,getUsedPortsU:getUsedPortsU,getUsedPortsT:getUsedPortsT,getTypeCount:getTypeCount,cut:function(inx){return funcs.cutInstance(getDmsVlan(),"List."+inx)},set:function(inx,obj){return funcs.setInstance(getDmsVlan(),"List."+inx,obj)},add:function(obj){return funcs.addInstance(getDmsVlan(),"List",obj)},list:function(){return getDmsVlan().List},cutPort:function(portsKey,vlanInx,inx){return funcs.cutInstance(getDmsVlan().List[vlanInx],portsKey+"."+inx)},addPort:function(portsKey,vlanInx,obj){return funcs.addInstance(getDmsVlan().List[vlanInx],portsKey,obj)}},dms.isChanged=isChanged,dms.status=status;var isWan=function(port){return!!port.IsWan},isWifi=function(port){return!!port.IsWifi}},function(module,exports,__webpack_require__){"use strict";var dir=__webpack_require__(240),dsl=__webpack_require__(241);module.exports=function(){var obj={};return dir.pull&&dsl.pull&&autoconf?autoconf.BR2_PACKAGE_ANWEB_SUPPORT_ADSL?dsl:dir:(dir.pull&&!dsl.pull?obj=dir:dsl.pull&&!dir.pull&&(obj=dsl),obj)}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(41),dms=(__webpack_require__(43),__webpack_require__(190).get().portAllocation);module.exports=function(){function updateAvailableSourcesList(){availableSources=_.reduce(dms.data.sources,function(memo,source,index){return sourceMayBeGrouped(source)&&(memo[index]=source),memo},{})}function updateType(source,id,isDsysinit){if("wan"==source.type&&source.vid)throw"Cannot create or update tagged NAT";if(!id||"wan"!=source.type){if(!hasDefaultWanSource()&&!source.vid)return void(source.type="wan");if(hasDefaultWanSource()&&source.vid&&(source.type=isDsysinit?"wan_tag":"bridge"),hasDefaultWanSource()&&!source.vid)throw"Cannot create or update bridge without tag"}}function addSource(source,isDsysinit){if(!source.name)throw"source name must be specified";updateType(source,void 0,isDsysinit);var maxId=_.max(_.keys(dms.data.sources))||-1,newId=Number(maxId)+1;dms.data.sources[newId]=source;var internetPort=_.findWhere(dms.data.wanPorts,{name:"internet"})||_.findWhere(dms.data.wanPorts,{name:"port5"});return internetPort&&internetPort.bridge.push(newId),updateAvailableSourcesList(),source}function getDefaultWanSourceId(){var defaultSource=_.find(_.pairs(getAvailableSources()),function(pair){return"wan"==pair[1].type&&!pair[1].vid});return defaultSource?defaultSource[0]:null}function hasDefaultWanSource(){return!!getDefaultWanSourceId()}function updateSource(id,source,isDsysinit){updateType(source,id,isDsysinit),_.extend(dms.data.sources[id],source),updateAvailableSourcesList()}function removeSource(id){var source=dms.data.sources[id];_.each(dms.data.lanPorts,function(port){source&&port.bridge==source.name&&(port.bridge=null)}),delete dms.data.sources[id],updateAvailableSourcesList()}function getAvailableSources(){return availableSources||updateAvailableSourcesList(),availableSources}function filterBridges(isDsysinit){return _.omit(getAvailableSources(),function(source){return isDsysinit?"wan_tag"!=source.type:"bridge"!=source.type})}function portInBridge(port,isDsysinit){return!!port.bridge&&!!filterBridges(isDsysinit)[port.bridge]}function sourceMayBeGrouped(source){return"bridge"==source.type||"wan"==source.type&&!source.vid||"wan_tag"==source.type}function sourceIsEditable(source){return!source||"bridge"==source.type||"wan_tag"==source.type}function getReservedNames(){return _.pluck(dms.data.sources,"name")}function getReservedVlans(params){return _.compact(_.pluck(dms.data.sources,"vid"))}function getDefaultSourceId(){var wanSourceId=getDefaultWanSourceId();return isNull(wanSourceId)?null:wanSourceId}function getDefaultSource(){var defaultSourceId=getDefaultWanSourceId();return isNull(defaultSourceId)?null:getAvailableSources()[defaultSourceId]}function isNull(value){return _.isUndefined(value)||_.isNull(value)}function portInDefaultGroup(port){var defaultSourceId=getDefaultSourceId();return!isNull(defaultSourceId)&&defaultSourceId==port.bridge}function pull(constants){var promise=dms.pull(null,constants);return promise.then(updateAvailableSourcesList),promise}var availableSources=null;return{pull:pull,push:dms.push,sources:getAvailableSources,connections:function(){return[]},deletedSources:function(){return[]},ports:function(){return dms.data.lanPorts},availIfaces:function(){return[]},getBusyPVC:function(){return[]},addSource:addSource,updateSource:updateSource,removeSource:removeSource,sourceIsEditable:sourceIsEditable,getDeviceClass:function(){return"DIR"},getReservedNames:getReservedNames,getReservedVlans:getReservedVlans,getDefaultSource:getDefaultSource,getDefaultSourceId:getDefaultSourceId,portInDefaultGroup:portInDefaultGroup,hasDefaultWanSource:hasDefaultWanSource,portInBridge:portInBridge,isChanged:dms.isChanged}}()},function(module,exports){module.exports=function(){}},function(module,exports,__webpack_require__){"use strict";function isChanged(protocol){var path,changes=status();for(path in changes)if(!path.indexOf("Device.DNS."+protocol))return!0;return!1}function status(){return dms.data?_.extend(funcs.getChanges(dms.data,dms.__initialData),funcs.getChanges(dms.__initialData,dms.data)):{}}function data(){return dms.data?dms.data.Device.DNS:{}}var dms=__webpack_require__(190).get().dns,funcs=__webpack_require__(43),_=__webpack_require__(41);module.exports={pull:dms.pull,push:dms.push,status:status,isChanged:isChanged,data:data},dms.isChanged=isChanged,dms.status=status},function(module,exports,__webpack_require__){"use strict";module.exports={Helper:__webpack_require__(244),converter:__webpack_require__(245)}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(41),funcs=__webpack_require__(43);module.exports=function(){function getDefaultRule(attrs){var defaultModel=funcs.newConfig.makeDefaultModel(attrs);return defaultModel.Source.Iface="all",defaultModel.Dest.Ports&&(defaultModel.Dest.Ports={1:defaultModel.Dest.Ports},defaultModel.Dest.Ports[1].PortType="list"),defaultModel.Source.Ports&&(defaultModel.Source.Ports={1:defaultModel.Source.Ports},defaultModel.Source.Ports[1].PortType="list"),defaultModel}function getProtocolList(allList,possibleList){return _.chain(allList).intersection(possibleList).map(function(proto){return{name:proto,value:proto}}).value()}function getEmptyIfaces(rules){var output=[];return _.each(rules,function(elem){elem.Source.Iface||output.push(elem.Name)}),output.join(", ")}function getUseSourcePorts(allUsePorts,currentRule,index){function filterVserverRule(rule,currentRule,index){var proto=currentRule.Proto,iface=currentRule.Source.Iface;if(("rtp"==rule.Section||"fax"==rule.Section)&&"TCP"==proto)return!0;if(rule.Transport&&"sip"==rule.Section){if("UDP"==rule.Transport&&"TCP"==proto)return!0;if("TCP"==rule.Transport&&"UDP"==proto)return!0}if("vserver"!=rule.Section&&"firewall"!=rule.Section)return!1;if(!_.isUndefined(index)&&rule.Id==index)return!0;if(!_.isUndefined(currentRule.__idLoopDNAT)&&rule.Id==currentRule.__idLoopDNAT)return!0;if("all"!=iface&&"all"!=rule.Iface&&iface!=rule.Iface)return!0;if("TCP/UDP"!=proto&&"TCP/UDP"!=rule.Proto&&proto!=rule.Proto)return!0;if(_.has(currentRule,"ids")){var ids=_.pluck(currentRule.ids,"__id"),loopDnat=_.pluck(currentRule.ids,"__idLoopDNAT");if(_.contains(ids,rule.Id)||_.contains(loopDnat,rule.Id))return!0}return!1}var output=[];return _.each(allUsePorts,function(rule){filterVserverRule(rule,currentRule,index)||output.push({startPort:rule.Ports.Start,endPort:rule.Ports.End})}),output}function isPrivateIP(lans,ip){function getPrivateSubnetRanges(lan){return _.map(lan,function(elem){return""!=elem.Address&&""!=elem.SubnetMask?funcs.ipv4.subnet.getNetworkRange(elem.Address,elem.SubnetMask):void 0})}var ranges=getPrivateSubnetRanges(lans);return _.some(ranges,function(range){return!!_.isUndefined(range)||funcs.ipv4.subnet.belongNetworkRange(range,ip)})}function validation(rule,index,config){function validationName(rule,index){function isUniqName(name){return!_.contains(usedNames(config.Rules,index),name)}var result=[];return isUniqName(rule.Name)||result.push("msg_error_value_is_not_uniq"),result}function validationDestIp(rule){var result=[],ips=funcs.fetchBranch(rule,"Dest.IP.");if(!ips||!ips.length||!ips[0])return result;var ip=ips[0];return funcs.is.ipv4(ip)||result.push("msg_invalid_ipv4"),"wakeonlan"==rule.Type||isPrivateIP(config.LAN,ip)||result.push("vservers_error_ipd_not_belong_subnets"),result}function usedNames(rules,without){var result=[];return _.each(rules,function(elem,index){(_.isUndefined(without)||without!=elem.__id)&&result.push(elem.Name)}),result}return{name:validationName(rule,index),destIp:validationDestIp(rule)}}function ipValidation(addr,type,rule,inx){function getUsedAddrs(rule,inx){return rule?_.chain(rule.Source.IP).filter(function(r,i){return!!_.isUndefined(inx)||i!=inx}).value():[]}var publicIP="public"==type?addr:rule.Source.IP,privateIP="private"==type?addr:rule.Dest.IP[0];if(!funcs.is.ipv4(publicIP.split("/")[0])||!funcs.is.ipv4(privateIP))return null;if("public"==type&&rule){var usedAddrs=getUsedAddrs(rule,inx);if(_.some(_.compact(usedAddrs),function(elem){return addr==elem}))return"msg_ip_address_is_used"}if(_.isEmpty(publicIP)||_.isEmpty(privateIP))return null;if(_.isArray(publicIP)){if(_.some(publicIP,function(ip){ip=ip.split("/");var publicAddr=ip[0],publicMask=ip[1]?ip[1]:"32";if(_.isEmpty(publicAddr))return!1;var publicNetwork=funcs.ipv4.subnet.getNetworkRange(publicAddr,funcs.ipv4.mask["long"](publicMask));return funcs.ipv4.subnet.belongNetworkRange(publicNetwork,privateIP)}))return"ipsec_local_remote_intersect_msg"}else{publicIP=publicIP.split("/");var publicAddr=publicIP[0],publicMask=publicIP[1]?publicIP[1]:"32",publicNetwork=funcs.ipv4.subnet.getNetworkRange(publicAddr,funcs.ipv4.mask["long"](publicMask));if(funcs.ipv4.subnet.belongNetworkRange(publicNetwork,privateIP))return"ipsec_local_remote_intersect_msg"}return null}return{getDefaultRule:getDefaultRule,getProtocolList:getProtocolList,getEmptyIfaces:getEmptyIfaces,getUseSourcePorts:getUseSourcePorts,isPrivateIP:isPrivateIP,validation:validation,ipValidation:ipValidation}}},function(module,exports,__webpack_require__){"use strict";!function(){function somovdToNative(input){function prepareRules(rules){function getDefaultRule(type){switch(type){case"ipsec":return{proto:"udp",portd_begin:"500,4500",ports_begin:"500,4500"};case"sftp":return{proto:"tcp",portd_begin:"22,115",ports_begin:"22,115"};case"pcanywhere":return{proto:"tcp/udp",portd_begin:"5631,5632",ports_begin:"5631,5632"}}return{}}return _.each(rules,function(rule,index){var defRule=getDefaultRule(rule.type);rules[index]=_.extend(rule,defRule)}),rules}function getUsedSourcePorts(input,rules){function addVserverPorts(rules,result){_.each(rules,function(rule){var input={Section:"vserver",Id:rule.__id,Iface:rule.Source.Iface,Proto:rule.Proto},ports=rule.Source.Ports[1];ports.Start&&ports.End?(input.Ports=ports,result.push(input)):ports.Start&&_.each(ports.Start.split(","),function(value){input.Ports={Start:value,End:""},result.push(_.clone(input))})})}function addHttpAccessPorts(rules,result){_.each(rules,function(rule){result.push({Section:"httpaccess",Ports:{Start:rule.sport.toString(),End:""}})})}function addConnReqPorts(tr69,result){result.push({Section:"tr69",Ports:{Start:tr69.ConnReqPort.toString(),End:""}})}function addVoipPorts(voip,result){voip.RTP&&result.push({Section:"rtp",Ports:{Start:voip.RTP.LocalPortMin.toString(),End:voip.RTP.LocalPortMax.toString()}}),voip.FaxT38&&!_.isUndefined(voip.FaxT38.X_DLINK_Port)&&voip.FaxT38.Enable&&(result.push({Section:"fax",Ports:{Start:voip.FaxT38.X_DLINK_Port.toString(),End:""}}),result.push({Section:"fax",Ports:{Start:(+voip.FaxT38.X_DLINK_Port+4).toString(),End:""}})),voip.SIP&&result.push({Section:"sip",Transport:voip.SIP.UserAgentTransport?voip.SIP.UserAgentTransport:null,Ports:{Start:voip.SIP.UserAgentPort.toString(),End:""}})}var result=[];return addVserverPorts(rules,result),input.httpaccess&&addHttpAccessPorts(input.httpaccess,result),input.tr69&&addConnReqPorts(input.tr69,result),input.voip&&addVoipPorts(input.voip,result),result}function getConns(wan){var list=[];return _.each(wan,function(obj,key){obj.Connection&&(_.contains(["PPPoEv6","IPv6oE"],key)||_.each(obj.Connection,function(conn){list.push(_.extend(conn,{Type:key}))}))}),list}function getLanAddrs(input){var result=[];return _.each(input.LAN,function(elem){_.each(elem.IPv4.StaticIP,function(addr){result.push(addr)})}),result}var pattern=T({"->":["$input","Rules","Ifaces","UsedSourcePorts","LAN"],$input:":external",Rules:{"->":["$rule","Source","Dest"],"{$rule, $index}":["$parent",function(p){return prepareRules(p.$input.vserver)}],__id:["$index*",function(i){return i}],__num:["$rule*",function(r){return r.num}],Name:["$rule*",function(r){return r.name}],Type:["$rule*",function(r){return r.type}],Proto:["$rule*",function(r){return r.proto?r.proto.toUpperCase():""}],SNAT:["$rule*",function(r){return r.enable_snat}],Source:{"->":["?","IP","Ports"],$rule:["$parent",function(p){return p.$rule}],"?":["$rule",function(r){return!!r}],Iface:["$rule",function(r){return r.source_iface}],IP:{"->":!0,$rule:["$parent",function(p){return p.$rule}],"{$addr}":["$rule",function(r){return r.remote_ip?r.remote_ip.split(","):[""]}],$return:["$addr",function(a){return a}]},Ports:{"->":["$rule","1"],$rule:["$parent",function(p){return p.$rule}],1:{"->":!0,$rule:["$parent",function(p){return p.$rule}],Start:["$rule",function(r){return r.ports_begin}],End:["$rule",function(r){return r.ports_end}]}}},Dest:{"->":["?","IP","Ports"],$rule:["$parent",function(p){return p.$rule}],"?":["$rule",function(r){return!!r}],IP:{"->":!0,$rule:["$parent",function(p){return p.$rule}],"{$addr}":["$rule",function(r){return r.ipd?r.ipd.split(","):[]}],$return:["$addr",function(a){return a}]},Ports:{"->":["$rule","1"],$rule:["$parent",function(p){return p.$rule}],1:{"->":!0,$rule:["$parent",function(p){return p.$rule}],Start:["$rule",function(r){return r.portd_begin}],End:["$rule",function(r){return r.portd_end}]}}}},UsedSourcePorts:["$input","Rules",function(i,rs){return getUsedSourcePorts(i,rs)}],Ifaces:{"->":!0,$ifaces:["$parent",function(p){return p.$input.ifaces}],$wan:["$ifaces*",function(ifaces){return wanConverter.somovdToNative(ifaces)}],"{$conn}":["$wan",function(w){return getConns(w)}],Name:["$conn*",function(c){return c.Name}],Type:["$conn*",function(c){return c.Type}],Value:["$conn*",function(c){return c.__OriginInterface?c.__OriginInterface:c.__LowerLayer}]},LAN:{"->":!0,$ifaces:["$parent",function(p){return p.$input.ifaces}],$lan:["$ifaces*",function(ifaces){return lanConverter.somovdToNative(ifaces.iface_names)}],"{$addr}":["$lan*",function(lan){return getLanAddrs(lan)}],$return:["$addr",function(a){return a}]}});return pattern.build({$input:input})}function nativeToSomovd(input){var pattern=T({"->":!0,$input:":external",$rules:["$input",function(i){return i.Rules}],"{$rule}":["$rules",function(rs){return rs}],$source:["$rule*",function(r){return r.Source}],$dest:["$rule*",function(r){return r.Dest}],num:["$rule*",function(r){return r.__id}],name:["$rule*",function(r){return r.Name}],type:["$rule*",function(r){return r.Type}],proto:["$rule*",function(r){return r.Proto?r.Proto.toLowerCase():""}],enable_snat:["$rule*",function(r){return r.SNAT}],source_iface:["$source*",function(s){return s.Iface}],remote_ip:["$source*",function(s){return s.IP?s.IP.join(","):""}],ports_begin:["$source*",function(s){return s.Ports?s.Ports[1].Start:""}],ports_end:["$source*",function(s){return s.Ports?s.Ports[1].End:""}],ipd:["$dest*",function(d){return d.IP?d.IP.join(","):""}],portd_begin:["$dest*",function(d){return d.Ports?d.Ports[1].Start:""}],portd_end:["$dest*",function(d){return d.Ports?d.Ports[1].End:""}]});return pattern.build({$input:input})}var T=__webpack_require__(122).T,_=__webpack_require__(41),wanConverter=__webpack_require__(246),lanConverter=__webpack_require__(160);module.exports={somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd}}()},function(module,exports,__webpack_require__){"use strict";module.exports={somovdToNative:__webpack_require__(121),nativeToSomovd:__webpack_require__(125)}},function(module,exports,__webpack_require__){"use strict";module.exports={Helper:__webpack_require__(248),converter:__webpack_require__(249)}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(41),funcs=(__webpack_require__(189),__webpack_require__(43));module.exports=function(){function getDefaultRule(config,attrs){function getBiggestId(rules){var ids=_.pluck(rules,"__id");return ids.length?_.max(ids)+1:1}if(attrs){var defaultModel=funcs.newConfig.makeDefaultModel(attrs.Rules);return _.has(defaultModel,"Enable")&&(defaultModel.Enable=!0),_.has(defaultModel,"Action")&&(defaultModel.Action="ACCEPT"),defaultModel}return{Enable:!0,Action:"ACCEPT",MACAddress:"",Hostname:"",__id:getBiggestId(config.Rules)}}function changeConfig(config,opts){var workCopy=funcs.deepClone(config);if(opts=opts||{},opts.removeIndexes&&_.each(opts.removeIndexes.sort().reverse(),function(index){workCopy.Rules.splice(index,1)}),opts.editRules){var rule=opts.editRules.rule,index=opts.editRules.index;_.isUndefined(index)?workCopy.Rules.push(rule):workCopy.Rules[index]=rule}return workCopy}function accessWillLost(config){function getClientState(config){var clientMac=config.Client.MACAddress;clientMac&&(clientMac=clientMac.toUpperCase());var rule=_.find(config.Rules,function(elem){return elem.MACAddress.toUpperCase()==clientMac});return rule?{Action:rule.Action,Stat:rule.Enable}:"NONE"}if(config.Client&&!config.Client.MACAddress&&!autoconf.BR2_PACKAGE_ANWEB_DSYSINIT)return!1;if(config.Client&&autoconf.BR2_PACKAGE_ANWEB_DSYSINIT&&(!config.Client.Port||"WAN"==config.Client.Port))return!1;var baseAction=config.BaseRule.Action,client=getClientState(config);return"DROP"==baseAction&&!client.Stat||!("DROP"!=client.Action||!client.Stat)}function getUsedMacList(config,withoutIndex){return config&&config.Rules?_.chain(config.Rules).filter(function(r,i){return!!_.isUndefined(withoutIndex)||i!=withoutIndex}).map(function(rule){return{mac:rule.MACAddress}}).value():[]}function isNotUniqRule(config,curRule,curIndex){var useRules=getUsedMacList(config,curIndex);return _.some(useRules,function(rule){return rule.mac.toUpperCase()==curRule.MACAddress.toUpperCase()})}function makeSomovdRequests(changed,init){function getWriteChanges(changed,init){var rules=[];return _.each(changed,function(elem){var initRule=_.find(init,function(e){return e.id==elem.id});if(initRule){var compareRule=_.omit(elem,"__pos");_.isEqual(initRule,compareRule)||rules.push(elem)}else rules.push(elem)}),rules}function getRemoveChanges(changed,init){var rules=[];return _.each(init,function(elem,index){var changedRule=_.find(changed,function(e){return e.id==elem.id});changedRule||(elem.__pos=index,rules.push(elem))}),rules.sort(function(a,b){return b.__pos-a.__pos})}function makeWriteList(rules){return _.map(rules,function(elem){return{id:74,data:_.omit(elem,"__pos"),pos:elem.__pos}})}function makeRemoveList(rules){return rules=_.sortBy(rules,function(inx){return-rules.id}),_.map(rules,function(rule){return{id:74,data:_.omit(rule,"__pos"),pos:rule.__pos}})}var requests={},writeChanges=getWriteChanges(changed,init),removeChanges=getRemoveChanges(changed,init);return _.size(writeChanges)&&(requests.write=makeWriteList(writeChanges)),_.size(removeChanges)&&(requests.remove=makeRemoveList(removeChanges)),requests}return{getDefaultRule:getDefaultRule,changeConfig:changeConfig,accessWillLost:accessWillLost,getUsedMacList:getUsedMacList,isNotUniqRule:isNotUniqRule,makeSomovdRequests:makeSomovdRequests}}},function(module,exports,__webpack_require__){"use strict";!function(){function somovdToNative(input){function getBaseRule(){return{id:0,state:!1,mac:null,enable:"DROP"}}var pattern=T({"->":["$macfilter","BaseRule","Rules","Client"],$input:":external",$macfilter:["$input",function(i){return i.macfilter}],$ifaces:["$input",function(i){return i.ifaces}],$client:["$input",function(i){return i.client}],__hasBaseRule:["$macfilter",function(mf){return!(!mf||!mf[0])}],BaseRule:{"->":!0,$macfilter:["$parent",function(p){return p.$macfilter}],$baseRule:["$macfilter",function(mf){return mf&&mf[0]?mf[0]:getBaseRule()}],Action:["$baseRule",function(r){return r.state?"DROP":"ACCEPT"}]},Rules:{"->":!0,"{$rule, $index}":["$parent",function(p){return _.filter(p.$macfilter,function(r){return!_.isNull(r.mac)})}],__id:["$rule*",function(r){return r.id}],__pos:["$index*",function(i){return i+1}],Enable:["$rule*",function(r){return r.state}],Action:["$rule*",function(r){return r.enable}],MACAddress:["$rule*",function(r){return r.mac}],Hostname:["$rule*",function(r){return r.hostname}]},Client:{"->":!0,$client:["$parent",function(p){return p.$client}],MACAddress:["$client",function(c){return c.mac}]}});return pattern.build({$input:input})}function nativeToSomovd(input){function getRules(config){function prepareBaseRule(rule){return{__pos:0,__id:0,MACAddress:null,Enable:"DROP"==rule.Action,Action:"DROP"}}var output=[];return config.BaseRule&&output.push(prepareBaseRule(config.BaseRule)),config.Rules&&(output=output.concat(config.Rules)),output}var pattern=T({"->":!0,$input:":external",$rules:["$input",function(i){return getRules(i)}],"{$rule}":["$rules",function(rs){return rs}],__pos:["$rule*",function(r){return _.isUndefined(r.__pos)?-1:r.__pos}],id:["$rule*",function(r){return r.__id}],state:["$rule*",function(r){return r.Enable}],enable:["$rule*",function(r){return r.Action}],mac:["$rule*",function(r){return r.MACAddress}],hostname:["$rule*",function(r){return r.Hostname}]});return pattern.build({$input:input})}var T=__webpack_require__(122).T,_=__webpack_require__(41);module.exports={somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd}}()},function(module,exports,__webpack_require__){"use strict";module.exports={lanConverter:__webpack_require__(160),Helper:__webpack_require__(251),attrsConverter:__webpack_require__(252)}},function(module,exports,__webpack_require__){"use strict";function IPFilter(ipfilter,lan,attributes){function getRules(){function transformRule(rule){return _.has(rule,"action")&&(rule.action=_.find(actionMap,function(e){return e.value==rule.action}).name),_.has(rule,"proto")&&(rule.proto=_.find(protoMap,function(e){return e.value==rule.proto}).name),rule.IPVersion=rule.is_ipv6?"IPv6":"IPv4",rule}var rules=funcs.deepClone(ipfilter);return _.map(rules,transformRule)}function getRule(index){return funcs.deepClone(ipfilter[index])}function getDefaultTemplate(attrs){var template={};return attrs||(attrs=attributes),_.each(attrs,function(obj,key){if(obj.__Template)template[key]=getDefaultTemplate(obj);else{if(!obj.supported||!_.has(obj,"default"))return;template[key]=obj["default"]}}),template}function getActions(){return _.filter(actionMap,function(e){return _.contains(attributes.action["enum"],e.value)})}function getProtocols(){return _.filter(protoMap,function(e){return _.contains(attributes.proto["enum"],e.value)})}function getDirections(){return _.filter(directionMap,function(e){return _.contains(attributes.direction["enum"],e.value)})}function getSourceDirections(version){return _.filter(directionMapDsysinit,function(e){return _.contains(attributes.sourceDirection["enum"+version],e.value)})}function getDestDirections(version){return _.filter(directionMapDsysinit,function(e){return _.contains(attributes.destDirection["enum"+version],e.value)})}function getBiggestID(){var ids=_.pluck(getRules(),"id");return ids.length?_.max(ids)+1:1}function makeRemoveList(indexes){return indexes=indexes.sort().reverse(),_.map(indexes,function(index){return{data:ipfilter[index],pos:index}})}function validation(rule,param){function validationPort(rule,param){function isValidPort(port){function isValidPortRanges(ranges){return _.every(ranges,function(elem){var startPort=elem.split(":")[0],endPort=elem.split(":")[1];return!(!startPort&&!endPort||startPort&&!funcs.is.port(startPort)||endPort&&!funcs.is.port(endPort)||!(_.isUndefined(startPort)||_.isUndefined(endPort)||""!=startPort&&""!=endPort)||startPort&&endPort&&parseInt(startPort)>=parseInt(endPort))})}function isOverlapPortRanges(ranges){function belongRange(range,port){var rangeStartPort=range.split(":")[0],rangeEndPort=range.split(":")[1];return!!(port&&(rangeStartPort||rangeEndPort)&&(rangeStartPort||port==rangeEndPort)&&(rangeEndPort||port==rangeStartPort)&&port>=rangeStartPort&&rangeEndPort>=port);
}return _.some(ranges,function(range){var startPort=range.split(":")[0],endPort=range.split(":")[1];return _.some(_.without(ranges,range),function(elem){return!!belongRange(elem,startPort)||!!belongRange(elem,endPort)})})}if(/\s/.test(port))return!1;var portRanges=port.split(",");return!!isValidPortRanges(portRanges)&&!isOverlapPortRanges(portRanges)}function isWrongFormat(port,comparePort){var arrPort=port.split(","),arrComparePort=comparePort.split(",");return arrPort.length!=arrComparePort.length||_.some(arrPort,function(elem,index){return arrPort[index].split(":").length!=arrComparePort[index].split(":").length})}function isWrongNumber(port,comparePort){function getPortRangeNumber(range){var startPort=range.split(":")[0],endPort=range.split(":")[1];return startPort&&endPort?parseInt(endPort)-parseInt(startPort):1}var arrPort=port.split(","),arrComparePort=comparePort.split(",");return _.some(arrPort,function(elem,index){var portNumber=getPortRangeNumber(elem),comparePortNumber=getPortRangeNumber(arrComparePort[index]);return portNumber!=comparePortNumber})}var port=rule[param];if(!port)return null;if(!isValidPort(port))return"ipflt_invalid_port";var comparePort="ports"==param?rule.portd:rule.ports;return comparePort&&isValidPort(comparePort)?isWrongFormat(port,comparePort)?"ipflt_wrong_port_format":isWrongNumber(port,comparePort)?"ipflt_wrong_port_number":null:null}switch(param){case"ports":case"portd":return validationPort(rule,param)}return null}function isUniqueName(rule,index){return _.some(ipfilter,function(elem,inx){return!(!_.isUndefined(index)&&index==inx||elem.name!=rule.name)})}function conflicts(rule,index,isDsysinit){function compareParam(obj1,obj2,param){return!_.has(obj1,param)||!_.has(obj2,param)||obj1[param]==obj2[param]}var comparedFields=["proto","is_ipv6","ips","ipd","ports","portd"];__autoconf.BR2_PACKAGE_ANWEB_DSYSINIT?comparedFields.push("sourceDirection","destDirection","sourceDirIface","destDirIface"):comparedFields.push("direction");var findIndex=_.findIndex(ipfilter,function(elem,inx){return!(!_.isUndefined(index)&&index==inx)&&_.every(comparedFields,_.partial(compareParam,elem,rule))});if(-1==findIndex)return null;var rule=getRule(findIndex);return _.has(rule,"id")?rule.id:rule.name}function accessWillLost(rule,client){function belongSourceRange(){return-1==funcs.ipv4.address.compare(sourceIP[0],network.net)&&1==funcs.ipv4.address.compare(sourceIP[1],network.net)?checkLocalIP():void 0}function checkLocalIP(){if(2==destIP.length){if(-1==funcs.ipv4.address.compare(destIP[0],localIPs[1].Address)&&1==funcs.ipv4.address.compare(destIP[1],localIPs[1].Address))return!0;if(0==funcs.ipv4.address.compare(destIP[0],localIPs[1].Address)||0==funcs.ipv4.address.compare(destIP[1],localIPs[1].Address))return!0}else if(destIP[0]==localIPs[1].Address)return!0}function checkLocalIPs(localIPs,destIP,sourceIP){var result=!1;return _.every(localIPs,function(obj){var localIP=obj.Address;return isBelongIPRange(destIP[0],destIP[1],localIP)&&isLocalRule(rule)&&(result=!0),result}),result}function checkClientIP(clientIP,destIP,sourceIP){return isBelongIPRange(destIP[0],destIP[1],clientIP)&&isAllRange(sourceIP)||isBelongIPRange(sourceIP[0],sourceIP[1],clientIP)&&isAllRange(destIP)}function checkProtocol(){return 2==rule.proto||3==rule.proto?!0:void 0}if(0==rule.state)return!1;if(1!=rule.action)return!1;if(rule.is_ipv6)return!1;if(_.has(rule,"direction")&&3!=rule.direction)return!1;if(_.has(rule,"sourceDirection")&&_.has(rule,"destDirection")&&(3!=rule.sourceDirection||1!=rule.destDirection))return!1;if(checkProtocol())return!1;var localIPs=lan[1].IPv4.StaticIP,clientIP=client.ip,destIP=prepareIP(rule.ipd),sourceIP=prepareIP(rule.ips),network=funcs.ipv4.subnet.getNetwork(localIPs[1].Address,localIPs[1].SubnetMask);return!(!funcs.ipv4.subnet.belongNetwork(network.net,sourceIP[0],network.mask)||!checkLocalIP())||!!checkLocalIPs(localIPs,destIP,sourceIP)||!(!clientIP||!checkClientIP(clientIP,destIP,sourceIP))||2==sourceIP.length&&belongSourceRange()}function isLocalRule(rule){function checkFn(range,ip){return!ip||ip&&funcs.ipv4.subnet.belongNetworkRange(range,ip)}var localIPs=lan[1].IPv4.StaticIP,destIP=prepareIP(rule.ipd),sourceIP=prepareIP(rule.ips);return _.some(localIPs,function(obj){var range=funcs.ipv4.subnet.getNetworkRange(obj.Address,obj.SubnetMask);return checkFn(range,destIP[0])&&checkFn(range,destIP[1])&&checkFn(range,sourceIP[0])&&checkFn(range,sourceIP[1])})}function isBelongIPRange(start,end,ip){return start&&end?funcs.ipv4.subnet.belongNetworkRange({start:start,end:end},ip):start?start==ip:!!end&&end==ip}function prepareIP(ip){if(""==ip)return["0.0.0.0","255.255.255.255"];if(!funcs.is.ipv4Network(ip))return ip.split("-");var arrIP=ip.split("/"),addr=arrIP[0],mask=funcs.ipv4.mask["long"](arrIP[1]),range=funcs.ipv4.subnet.getNetworkRange(addr,mask);return[range.start,range.end]}function isAllRange(ip){return""==ip||"0.0.0.0/0"==ip}function isSupported(param){function getSupported(){var attrs=__flattenAttrs();return _.chain(attrs).keys().filter(function(path){return attrs[path].supported}).value()}return cache.supported||(cache.supported=getSupported()),_.contains(cache.supported,param)}function isRequired(param){function getRequired(){var attrs=__flattenAttrs();return _.chain(attrs).keys().filter(function(path){return attrs[path].required}).value()}return cache.required||(cache.required=getRequired()),_.contains(cache.required,param)}function __flattenAttrs(rootPath){var result={},attrs=rootPath?__getAttrsByPath(rootPath):attributes;return _.each(attrs,function(elem,key){if("__Template"!=key){var path=rootPath?rootPath+"."+key:key;elem.__Template?_.extend(result,__flattenAttrs(path)):result[path]=elem}}),result}function __getAttrsByPath(path){var result=null;return _.each(path.split("."),function(key){result=result?result[key]:attributes[key]}),result}var __autoconf="undefined"!=typeof autoconf?autoconf:{};if(!(this instanceof IPFilter))return new IPFilter(ipfilter,lan,attributes);var ipfilter=funcs.deepClone(ipfilter),lan=funcs.deepClone(lan),attributes=funcs.deepClone(attributes),cache={},actionMap=[{name:"act_allow",value:0},{name:"act_deny",value:1}],protoMap=[{name:"TCP/UDP",value:0},{name:"TCP",value:1},{name:"UDP",value:2},{name:"ICMP",value:3},{name:"all",value:4}],directionMap=[{name:"ipflt_lan_to_wan",value:1},{name:"ipflt_wan_to_lan",value:2},{name:"ipflt_lan_to_fw",value:3},{name:"ipflt_wan_to_fw",value:4}],directionMapDsysinit=[{name:"summary_devmode_router",value:1},{name:"WAN",value:2},{name:"LAN",value:3},{name:"GRE",value:4},{name:"IPsec",value:5},{name:"vpn_server_nav_pptp",value:6},{name:"vpn_server_nav_l2tp",value:7},{name:"openvpn_client",value:8},{name:"openvpn_server",value:9}];return{getRules:getRules,getRule:getRule,getActions:getActions,getProtocols:getProtocols,getDirections:getDirections,getSourceDirections:getSourceDirections,getDestDirections:getDestDirections,getBiggestID:getBiggestID,makeRemoveList:makeRemoveList,validation:validation,conflicts:conflicts,accessWillLost:accessWillLost,isLocalRule:isLocalRule,getDefaultTemplate:getDefaultTemplate,isSupported:isSupported,isRequired:isRequired,isUniqueName:isUniqueName}}var _=__webpack_require__(41),funcs=__webpack_require__(43);funcs.is=__webpack_require__(107),funcs.ipv4=__webpack_require__(108),module.exports=IPFilter},function(module,exports,__webpack_require__){"use strict";var T=__webpack_require__(122).T;__webpack_require__(41),module.exports=function(input){var pattern=T({"->":["$brcm","ipv6","id","name","state","is_ipv6"],$input:":external",$brcm:["$input",function(i){return i.BRCM}],$ipv6:["$input",function(i){return i.BRIPV6}],id:{"->":!0,supported:["$root",function(r){return r.$brcm}],type:"string"},name:{"->":!0,supported:["$root",function(r){return r.$brcm}],type:"string","default":"",required:!0},state:{"->":!0,supported:["$root",function(r){return r.$brcm}],type:"boolean","default":!0},is_ipv6:{"->":!0,supported:["$root",function(r){return r.$ipv6}],type:"boolean","default":!1},action:{supported:!0,type:"number","default":0,"enum":[0,1]},proto:{supported:!0,type:"number","default":0,"enum":[0,1,2,3,4]},ipd:{supported:!0,type:"ipv4/ipv6","default":""},ips:{supported:!0,type:"ipv4/ipv6","default":""},portd:{supported:!0,type:"port","default":""},ports:{supported:!0,type:"port","default":""}});return pattern.build({$input:input})}},function(module,exports,__webpack_require__){"use strict";module.exports={Helper:__webpack_require__(254)}},function(module,exports,__webpack_require__){"use strict";function UrlFilter(config,list,workList){function formList(list){function listPrepare(list){return _.map(list,function(elem,index){return elem.__index=index,elem})}function getOriginal(list){for(var index=0;list[index]&&hasWWW(list[index].url);)index++;return list[index]?list.splice(index,1)[0]:list.splice(0,1)[0]}function getDub(list,originalURL){if(!originalURL)return{};var index=_.findIndex(list,function(elem){return elem.url=="www."+originalURL});return-1!=index?list.splice(index,1)[0]:{}}var result=[];if(list=listPrepare(list),list.length)if(void 0!=list[0].match_mode)result=angular.copy(list);else for(;list.length;){var obj={};obj.original=getOriginal(list),obj.dub=getDub(list,obj.original.url),result.push(obj)}return result}function getConfig(){return config}function getList(){return workList.length&&void 0!=workList[0].match_mode?workList:_.map(workList,function(elem){return elem.original})}function getClientsList(){var clientsList=[];for(var key in config.clients_list)clientsList.push(config.clients_list[key]);return clientsList}function updateClientsList(list){config.clients_list={},_.each(list,function(elem,inx){config.clients_list[inx+1]=elem})}function updateAddrsList(addrList,inx){list=[],_.each(addrList,function(elem,inx){elem.url=elem.url.toLowerCase(),list[inx]=elem}),autoconf.BR2_PACKAGE_ANWEB_RLX_819X_DNS_FILTER||autoconf.BR2_PACKAGE_ANWEB_DNS_FILTER?workList=funcs.deepClone(addrList):_.each(addrList,function(elem,inx){workList[inx]||(workList[inx]={}),workList[inx].original=getOriginal(elem),workList[inx].dub=getDub(elem)}),list=funcs.deepClone(addrList)}function addRule(rule){setRule(rule)}function setRule(rule,inx){normalizeRule(rule);var obj={original:getOriginal(rule),dub:getDub(rule)};if(_.isUndefined(inx))workList.push(obj);else{var curRule=workList[inx];curRule.original=_.extend(curRule.original,obj.original),curRule.dub=_.extend(curRule.dub,obj.dub)}}function getOriginal(rule){var obj=funcs.deepClone(rule);return _.omit(obj,"__index")}function getDub(rule){var obj=funcs.deepClone(rule);return obj.url=hasWWW(obj.url)?obj.url.replace(/^www\./,""):"www."+obj.url,_.omit(obj,"__index")}function removeRule(inx){__initWorkList[inx]?(workList[inx].original.__removed=!0,workList[inx].dub.__removed=!0):workList.splice(inx,1)}function removeRuleDNS(inx){_.each(inx,function(i){void 0!=workList[i].__index?workList[i].__removed=!0:delete workList[i]}),workList=_.compact(workList)}function normalizeRule(rule){rule.url=rule.url.toLowerCase()}function wasModified(newConfig){return wasModifiedConfig(newConfig)||wasModifiedList()}function wasModifiedConfig(newConfig){return __initConfig&&!_.isEqual(newConfig,__initConfig)}function wasModifiedList(){return!!__initWorkList&&(__initWorkList.length!=workList.length||(workList.length&&void 0!=workList[0].match_mode?_.some(__initWorkList,function(elem,index){return elem.url!=workList[index].url||elem.match_mode!=workList[index].match_mode||workList[index].__removed}):workList.length&&void 0==workList[0].match_mode?_.some(__initWorkList,function(elem,index){var original=angular.fromJson(angular.toJson(workList[index].original));return!_.isEqual(elem.original,original)&&!_.isEqual(elem.dub,workList[index].dub)||!_.isEqual(elem.original,original)&&_.isEqual(elem.dub,workList[index].dub)}):void 0))}function hasWWW(url){return/^www\./.test(url)}function supportedParam(obj,param){return _.has(obj,param)}function prepareSettings(settings){function getConfigRequests(config){var data={enable:config.enable,type:config.enable?config.type:__initConfig.type};return supportedParam(config,"show_block_page")&&(data.show_block_page=config.enable?config.show_block_page:__initConfig.show_block_page),supportedParam(config,"clients_mode")&&(data.clients_mode=config.clients_mode),supportedParam(config,"clients_list")&&(data.clients_list=config.clients_list),{config:data}}function getListWriteRequests(list){var requests=[];return _.each(list,function(elem,index){var __initElem=__initList[index];__initElem&&_.isEqual(__initElem,elem)||requests.push({data:elem,pos:__initElem?index:-1})}),{list:requests}}function getListRemoveRequests(list){function getRemoveIndexes(){var indexes=_.range(0,list.length).reverse();return _.filter(indexes,function(index){return _.has(list[index],"__removed")&&__initList[index]})}var indexes=getRemoveIndexes();return _.map(indexes,function(index){var elem=funcs.deepClone(list[index]);return list.splice(index,1),__initList.splice(index,1),{data:_.omit(elem,"__removed"),pos:index}})}function formList(list,isDNSFilter){function appendRule(rule){_.has(rule,"__index")?result[rule.__index]=_.omit(rule,"__index"):newRules.push(rule)}var result=[],newRules=[];return isDNSFilter?_.each(list,function(elem){appendRule(elem)}):_.each(list,function(elem){var orig=elem.original,dub=elem.dub;_.isEmpty(orig)||appendRule(orig),_.isEmpty(dub)||appendRule(dub)}),result=_.compact(result.concat(newRules))}var write=[],remove=[],isDNSFilter=settings.isRLX819XFilter;if(wasModifiedConfig(settings.config)&&write.push(getConfigRequests(config)),wasModifiedList()){var list=formList(workList,isDNSFilter);remove=remove.concat(getListRemoveRequests(list)),write=write.concat(getListWriteRequests(list))}var result={};return write.length&&(result.write=write),remove.length&&(result.remove=remove),result}if(!(this instanceof UrlFilter))return new UrlFilter(config,workList);var config=funcs.deepClone(config),list=funcs.deepClone(list),workList=workList?funcs.deepClone(workList):formList(list),__initConfig=funcs.deepClone(config),__initList=funcs.deepClone(list),__initWorkList=funcs.deepClone(workList),urlfilter={getConfig:getConfig,getList:getList,getClientsList:getClientsList,updateClientsList:updateClientsList,updateAddrsList:updateAddrsList,addRule:addRule,setRule:setRule,removeRule:removeRule,removeRuleDNS:removeRuleDNS,wasModified:wasModified,prepareSettings:prepareSettings};return urlfilter}var _=__webpack_require__(41),funcs=__webpack_require__(43);module.exports=UrlFilter},function(module,exports,__webpack_require__){"use strict";module.exports={converter:__webpack_require__(256)}},function(module,exports,__webpack_require__){"use strict";!function(){function somovdToNative(data){function getRules(wanInfo,yandexInfo){var rules=getRulesFromRpc(wanInfo);return extendRules(rules,yandexInfo)}function upperMAC(rules){return _.each(rules,function(client){client.mac=client.mac.toUpperCase()}),rules}function getRulesFromRpc(wanInfo){return _.chain(wanInfo?wanInfo.iface_names:[]).toArray().pluck("services").map(_.toArray).flatten().pluck("dhcpd").compact().pluck("reserved").flatten().compact().value()}function extendRules(rules,yandexInfo){return _.each(rules,function(rule){rule&&(rule.mode=rule.mode?rule.mode:yandexInfo["default"])}),upperMAC(rules)}function getClients(dhcpInfo,yandexInfo,wanInfo){function clientToModel(client){var rules=getRules(wanInfo,yandexInfo),rule=_.findWhere(upperMAC(rules),{mac:client.mac.toUpperCase()});return _.extend({},client,{rule:rule})}var clients=_.map(dhcpInfo,clientToModel);return upperMAC(clients)}var pattern=T({"->":!0,$data:":external",rules:["$data",function(d){return getRules(d.wan_model,d.yandex_model)}],clients:["$data",function(d){return getClients(d.dhcp_model,d.yandex_model,d.wan_model)}],settings:["$data",function(d){return d.yandex_model}]});return pattern.build({$data:data})}function nativeToSomovd(data){function getRules(data){var result=[];return _.each(data,function(rule){result=result.concat(_.map(rule.ipList,function(elem){return{ip:elem,host:rule.host,mac:rule.mac,mode:rule.mode}}))}),result}var pattern=T({"->":!0,$data:":external","{$rules}":["$data",function(d){return getRules(d)}],ip:["$rules*",function(r){return r.ip}],mac:["$rules*",function(r){return r.mac.toUpperCase()}],host:["$rules*",function(r){return r.host}],mode:["$rules*",function(r){return r.mode}]});return pattern.build({$data:data})}var T=__webpack_require__(122).T,_=__webpack_require__(41);__webpack_require__(43),module.exports={somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd}}()},function(module,exports,__webpack_require__){"use strict";module.exports={Helper:__webpack_require__(258),constants:__webpack_require__(259)}},function(module,exports,__webpack_require__){"use strict";function IPsec(config,attrs,oldConfig){function getTunnels(){function getIfaceName(iface){var result;return _.each(attrs,function(elem){elem.iface==iface&&(result=elem.name)}),result?result:iface}function getPhaseAlgs(alg,hash){return alg&&hash?alg.toUpperCase()+"/"+hash.toUpperCase():""}return _.chain(ipsec.tunnels).map(function(tunnel,index){var obj={};return obj.__index=index,obj.peer=""==tunnel.peer?"anonymous":tunnel.peer,obj.alg=tunnel.alg&&tunnel.alg.toUpperCase(),obj.alg_ph2=tunnel.alg_ph2&&tunnel.alg_ph2.toUpperCase(),obj.hash=tunnel.hash&&tunnel.hash.toUpperCase(),obj.auth_alg=tunnel.auth_alg&&tunnel.auth_alg.toUpperCase(),obj.type=tunnel.type&&tunnel.type.toUpperCase(),obj.firstPhaseAlgs=getPhaseAlgs(tunnel.alg,tunnel.hash),obj.secondPhaseAlgs=getPhaseAlgs(tunnel.alg_ph2,tunnel.auth_alg),obj.iface=getIfaceName(tunnel.iface),obj.anonymous=tunnel.anonymous,obj.isL2TP=tunnel.isL2TP,obj.__id=tunnel.__index,obj.isIPv6=tunnel.ipv6,obj}).value()}function getSettings(){return{enabled:funcs.deepClone(ipsec.enabled),logLevel:funcs.deepClone(ipsec.logLevel),debug:!!_.has(ipsec,"debug")&&funcs.deepClone(ipsec.debug)}}function getTunnelsStatus(){function formState(obj,state){switch(state){case 1:obj.state="pending",obj.stateText="larval";break;case 2:obj.state="on",obj.stateText="established";break;case 3:obj.state="pending",obj.stateText="dying";break;case 4:obj.state="off",obj.stateText="dead"}}var result=[];return _.each(ipsec.tunnels,function(tunnel){if(tunnel.status)_.each(tunnel.status,function(rule){var obj={};obj.peer=""==tunnel.peer?"anonymous":tunnel.peer,obj.ip={left:rule.left_ip,right:rule.right_ip},obj.packet={"in":rule.packets_in,out:rule.packets_out},obj.rate={rx:funcs.lookSize(rule.bytes_in),tx:funcs.lookSize(rule.bytes_out)},obj.time=rule.time,formState(obj,rule.state),result.push(obj)});else{var obj={};obj.peer=""==tunnel.peer?"anonymous":tunnel.peer,obj.CHILD=tunnel.CHILD,obj.IKE=tunnel.IKE,obj.state=tunnel.state,obj.stateText=tunnel.stateText,result.push(obj)}}),result}function setEnabled(enabled){return ipsec.enabled=enabled,ipsec}function setLogLevel(logLevel){return ipsec.logLevel=logLevel,ipsec}function setDebug(debug){return ipsec.debug=debug,ipsec}function getDefaultTemplate(isCpe){if(isCpe){var defaultTemplate=funcs.fetchBranch(attrs,paths.ipsec.connections+"#template.");return{anonymous:!1,peer:defaultTemplate.Right["default"],enable:!0,auth:defaultTemplate.Auth["default"],leftType:"group",key:defaultTemplate.Key["default"],leftGroup:defaultTemplate.Left["default"],leftIface:defaultTemplate.Left["default"],leftAddr:defaultTemplate.Left["default"],modeIKE:defaultTemplate.IKE.Crypto.Mode["default"],sizeKeyIKE:defaultTemplate.IKE.Crypto.SizeKey["default"],alg:defaultTemplate.IKE.Crypto.Type["default"],ikeHashMode:defaultTemplate.IKE.Hash.Mode["default"],ikeHashSKey:defaultTemplate.IKE.Hash.SizeKey["default"],aggressive:defaultTemplate.Aggressive?defaultTemplate.Aggressive["default"]:void 0,hash:defaultTemplate.IKE.Hash.Type["default"],dhgroup:defaultTemplate.IKE.DHGroup["default"],modeESP:defaultTemplate.ESP.Crypto.Mode["default"],sizeKeyESP:defaultTemplate.ESP.Crypto.SizeKey["default"],alg_ph2:defaultTemplate.ESP.Crypto.Type["default"],espHashMode:defaultTemplate.ESP.Hash.Mode["default"],espHashSKey:defaultTemplate.ESP.Hash.SizeKey["default"],auth_alg:defaultTemplate.ESP.Hash.Type["default"],enable_pfs:!0,dhgroup2:defaultTemplate.ESP.DHGroup["default"],remote_lifetime:defaultTemplate.LifeTimeIKE["default"],sainfo_lifetime:defaultTemplate.LifeTime["default"],nat_t:defaultTemplate.NATTraversal["default"],peer_type:getFilterList("my_ident")[0].value,my_ident_value:generateIPSecName(),type:defaultTemplate.Type["default"],version:defaultTemplate.Version["default"],enableDPD:defaultTemplate.DPD["default"],dpd_delay:defaultTemplate.DPDDelay["default"],dpd_timeout:defaultTemplate.DPDTimeOut["default"],tcpmss:2,nets:[],delete_nets:[],devMode:ipsec.devMode,router_ipsec:!0}}return{anonymous:!1,peer:"",my_ident:getFilterList("my_ident")[0].value,my_ident_value:"",key:"",iface:"auto",nat_t:getList("nat_t")[0].value,exchange_mode:getFilterList("exchange_mode")[0].value,dpd_delay:5,dpd_maxfail:3,tcpmss:getList("tcpmss")[0].value,tcpmss_value:1300,enable_routing:!1,alg:getList("alg")[0].value,alg_ph2:getList("alg_ph2")[0].value,hash:getList("hash")[0].value,auth_alg:getList("auth_alg")[0].value,enable_pfs:!0,dhgroup:getList("dhgroup")[0].value,pfsgroup:getList("pfsgroup")[0].value,remote_lifetime:28800,sainfo_lifetime:3600,nets:[]}}function getList(param,rule,ipVersion){function getInterfaceList(){var result=[];return _.each(attrs,function(elem){elem.is_wan&&elem.name&&elem.iface&&result.push({name:elem.name,value:elem.iface})}),result}function getListFromRpcData(param){var list=[],isGroupsParam="p1_groups"==param||"p2_groups"==param;return ipsec[param]&&_.each(ipsec[param],function(elem,key){var obj={name:isGroupsParam?elem:key,value:elem};list.push(obj)}),list}function createList(arr){return _.map(arr,function(value){return{name:value.toUpperCase(),value:value}})}function getMode(arr,phase,type,rule){function getUseModes(phase,type,rule,arr){var crypto="alg"==type?"IKE"==phase?rule.alg:rule.alg_ph2:"IKE"==phase?rule.hash:rule.auth_alg;switch(crypto){case"3des":case"des":case"blowfish":case"cast128":case"serpent":case"twofish":return["cbc"];case"chacha20poly1305":case"null":return arr;case"camellia":return["cbc","ctr","ccm64","ccm96","ccm128"];case"aes":return"alg"==type?arr:["xcbc","cmac","gmac"];case"sha1":case"md5":case"sha2":return["hmac"]}}var modes=arr,useModes=getUseModes(phase,type,rule,arr);return createList(_.filter(modes,function(e){return _.contains(useModes,e)}))}function getSizeKey(arr,phase,type,rule){function getUseSizeKey(arr,phase,type,rule){var crypto="alg"==type?"IKE"==phase?rule.alg:rule.alg_ph2:"IKE"==phase?rule.hash:rule.auth_alg;switch(crypto){case"3des":case"des":case"blowfish":case"serpent":case"twofish":case"camellia":case"null":return arr;case"cast128":return[128];case"chacha20poly1305":return[256];case"aes":if("alg"==type)return arr;var hashMode="IKE"==phase?rule.ikeHashMode:rule.espHashMode;return"xcbc"==hashMode||"cmac"==hashMode?[96]:[128,192,256];case"sha1":return"2"==ipsec.version?[96,128]:[96];case"md5":return"2"==ipsec.version?[96,160]:[96];case"sha2":return[256,384,512]}}var sizeKey=arr,useSizeKey=getUseSizeKey(arr,phase,type,rule);return _.filter(sizeKey,function(e){return _.contains(useSizeKey,e)})}function getAlgList(arr,type,rule){var algArr=[];algArr="Firewall"!=ipsec.devMode?"crypto"==type?ipsec.shortAlgs?["des","null"]:arr:ipsec.shortAlgs?["md5","sha1"]:arr:arr;var version=rule.version;if("crypto"==type?algArr="1"==version?_.without(algArr,"cast128","chacha20poly1305"):_.without(algArr,"serpent","twofish"):"1"==version&&(algArr=_.without(algArr,"aes")),algArr.length&&-1!=algArr.findIndex(function(elem){return"null"==elem})){var ind=algArr.findIndex(function(elem){return"null"==elem});ind!=algArr[algArr.length-1]&&(algArr.splice(ind,1),algArr.push("null"))}return createList(algArr)}function getLogLevel(maxlogLevel){for(var levels=[{name:"ipsec_log_basic",value:0},{name:"ipsec_log_detailed",value:1},{name:"ipsec_log_high",value:2},{name:"ipsec_log_higher",value:3},{name:"ipsec_log_highest",value:4}],logLevel=[],i=maxlogLevel;i>=0;--i)logLevel.push(i);return _.filter(levels,function(e){return _.contains(logLevel,e.value)})}function createDhgroup(arr){var result=[];return _.each(arr,function(elem){""!=elem&&"modp8192"!=elem&&result.push({name:elem.toUpperCase(),value:elem})}),result}function createNATList(){return[{name:"Enabled",value:!0},{name:"Disabled",value:!1}]}function getGroupList(){var groups=funcs.newConfig.normalize(funcs.fetchBranch(config,paths.group)),keys=_.keys(groups);return _.map(keys,function(elem){return{name:elem,value:paths.group+elem+"."}})}function getInterface(ipVersion){function getWanIfaces(input,wanGroup){var types=["DHCP","Static","DHCPv6","Staticv6","PPPoE","L2TP","PPTP"],result=[];return result=result.concat(getInterfacesByType(types,wanGroup))}function getInterfacesByType(types,wanGroup){var wan_ifaces=[];return _.each(types,function(type){var path=paths.interfaces+type+".",input=funcs.fetchBranch(config,path);input=funcs.newConfig.normalize(input),_.each(input,function(elem,inst){var ifacePath=path+inst+".";elem.Enable&&_.contains(wanGroup,ifacePath)&&wan_ifaces.push({name:elem.Name,value:ifacePath})})}),wan_ifaces}var ifaces=funcs.newConfig.normalize(funcs.fetchBranch(config,paths.interfaces)),groups=funcs.newConfig.normalize(funcs.fetchBranch(config,paths.group)),wanGroup=[];_.each(groups,function(elem){"ipv4"==ipVersion?_.each(funcs.newConfig.normalize(elem.WAN),function(obj){wanGroup.push(obj.Link)}):_.each(funcs.newConfig.normalize(elem.WANv6),function(obj){wanGroup.push(obj.Link)})}),wanGroup=_.unique(wanGroup);var wan_ifaces=getWanIfaces(ifaces,wanGroup);return wan_ifaces}var rootAttrs=funcs.fetchBranch(attrs,paths.ipsec.connections+"#template.");switch(param){case"auth":return rootAttrs?createList(rootAttrs.Auth["enum"]):{};case"ike_crypto_mode":return rootAttrs?getMode(rootAttrs.IKE.Crypto.Mode["enum"],"IKE","alg",rule):{};case"ike_crypto_skey":return rootAttrs?getSizeKey(rootAttrs.IKE.Crypto.SizeKey["enum"],"IKE","alg",rule):{};case"alg":return rootAttrs?getAlgList(rootAttrs.IKE.Crypto.Type["enum"],"crypto",rule):getListFromRpcData("p1_cyphers");case"esp_crypto_mode":return rootAttrs?getMode(rootAttrs.ESP.Crypto.Mode["enum"],"ESP","alg",rule):{};case"esp_crypto_skey":return rootAttrs?getSizeKey(rootAttrs.ESP.Crypto.SizeKey["enum"],"ESP","alg",rule):{};case"alg_ph2":return rootAttrs?getAlgList(rootAttrs.ESP.Crypto.Type["enum"],"crypto",rule):getListFromRpcData("p2_cyphers");case"hash":return rootAttrs?getAlgList(rootAttrs.IKE.Hash.Type["enum"],"hash",rule):getListFromRpcData("p1_digests");case"dhgroup":return rootAttrs?createDhgroup(rootAttrs.IKE.DHGroup["enum"]):getListFromRpcData("p1_groups");case"auth_alg":return rootAttrs?getAlgList(rootAttrs.ESP.Hash.Type["enum"],"hash",rule):getListFromRpcData("p2_digests");case"dhgroup2":return rootAttrs?createDhgroup(rootAttrs.ESP.DHGroup["enum"]):{};case"type":return rootAttrs?createList(rootAttrs.Type["enum"]):{};case"version":return rootAttrs?rootAttrs.Version["enum"]:{};case"ike_hash_mode":return rootAttrs?getMode(rootAttrs.IKE.Hash.Mode["enum"],"IKE","hash",rule):{};case"ike_hash_skey":return rootAttrs?getSizeKey(rootAttrs.IKE.Hash.SizeKey["enum"],"IKE","hash",rule):{};case"esp_hash_mode":return rootAttrs?getMode(rootAttrs.ESP.Hash.Mode["enum"],"ESP","hash",rule):{};case"esp_hash_skey":return rootAttrs?getSizeKey(rootAttrs.ESP.Hash.SizeKey["enum"],"ESP","hash",rule):{};case"nat_t":return rootAttrs?createNATList():[{name:"Disabled",value:1},{name:"Enabled",value:2},{name:"Force",value:3}];case"left_iface":return rootAttrs?getInterface(ipVersion):{};case"left_group":return rootAttrs?getGroupList():{};case"log_level":var commonSettings=funcs.fetchBranch(attrs,paths.services);return commonSettings.LogLevel?getLogLevel(commonSettings.LogLevel.maxInclusive):{};case"iface":return rootAttrs?{}:getInterfaceList();case"tcpmss":return[{name:"Path MTU discovery",value:2}];case"pfsgroup":return rootAttrs?{}:getListFromRpcData("p2_groups")}}function getFilterList(param,rule){switch(param){case"my_ident":var list=[{name:"Address",value:1}];return rule&&1!=rule.exchange_mode&&list.push({name:"FQDN",value:2}),list;case"exchange_mode":var list=[];return rule&&2!=rule.my_ident&&list.push({name:"Main",value:1}),list.push({name:"Base",value:2}),list.push({name:"Aggressive",value:3}),list}}function getRule(index){var rule=funcs.deepClone(ipsec.tunnels[index]);return rule.devMode=ipsec.devMode,rule}function applyRule(rule,index){return _.isUndefined(index)?ipsec.tunnels.push(rule):ipsec.tunnels[index]=rule,ipsec}function checkUnique(ruleName,index){var input=funcs.deepClone(ipsec.tunnels);return _.isUndefined(index)||(input=_.omit(input,index)),_.every(input,function(elem){return elem.my_ident_value!=ruleName})}function removeRules(indexes){return _.each(indexes.sort().reverse(),function(index){ipsec.tunnels.splice(index,1)}),ipsec}function generateIPSecName(){return"ipsec_"+randomInteger(1,100)}function randomInteger(min,max){var rand=min-.5+Math.random()*(max-min+1);return rand=Math.round(rand)}var ipsec=funcs.deepClone(config),attrs=funcs.deepClone(attrs),config=oldConfig;return{getRule:getRule,getSettings:getSettings,getTunnels:getTunnels,getTunnelsStatus:getTunnelsStatus,getList:getList,getFilterList:getFilterList,getDefaultTemplate:getDefaultTemplate,setEnabled:setEnabled,removeRules:removeRules,applyRule:applyRule,checkUnique:checkUnique,setLogLevel:setLogLevel,setDebug:setDebug}}var _=__webpack_require__(41),funcs=(__webpack_require__(182),__webpack_require__(186),__webpack_require__(43));funcs.is=__webpack_require__(107),funcs.ipv4=__webpack_require__(108);var paths=__webpack_require__(259).paths;__webpack_require__(260),module.exports=IPsec},function(module,exports){"use strict";module.exports={paths:{common:"Device.Network.",services:"Device.Services.IPsec.",devMode:"Device.DeviceInfo.DeviceMode",ipsec:{common:"Device.Network.Connection.IPsec.",connections:"Device.Network.Connection.IPsec."},fwRules:"Device.Firewall.IPv4.Rules.",fwRulesIPv6:"Device.Firewall.IPv6.Rules.",fwZones:"Device.Firewall.IPv4.Zones.",fwZonesIPv6:"Device.Firewall.IPv6.Zones.",fwPolicy:"Device.Firewall.IPv4.Policy.",fwPolicyIPv6:"Device.Firewall.IPv6.Policy.",firewall:"Device.Firewall.IPv4.",firewallIPv6:"Device.Firewall.IPv6.",ipAddress:"Device.Network.IP.",group:"Device.Network.Group.",interfaces:"Device.Network.Connection.",somovd:{CONFIG_ID_WAN_IFACES_LIST:120,CONFIG_ID_IPSEC:192},countryCode:"Device.DeviceInfo.CountryCode"}}},function(module,exports,__webpack_require__){"use strict";function IP(config,attrs){function getIPs(){function prepareIP(ips,type,rootPath){function transform(elem,inst){if(!_.isObject(elem))return null;var result={},arrIp=elem.IPAddress.split("/");return result.ip=arrIp[0]||"","ipv4"==type?result.mask=arrIp[1]?funcs.ipv4.mask["long"](arrIp[1]):"":result.prefix=arrIp[1]||"",result.type=type,result.path=getPath(type,rootPath,inst),result.addressingType=elem.AddressingType,result.origin=elem.Origin,result}function getPath(type,rootPath,inst){var result=rootPath;return result+="ipv4"==type?"IPv4Address.":"IPv6Address.",result+=inst+"."}return _.chain(ips).map(transform).compact().value()}var result=[],input=funcs.fetchBranch(config,paths.ip);return _.each(input,function(elem,inst){var rootPath=paths.ip+inst+".";result=result.concat(prepareIP(elem.IPv4Address,"ipv4",rootPath),prepareIP(elem.IPv6Address,"ipv6",rootPath))}),result}var paths={ip:"Device.Network.IP."};return{getIPs:getIPs}}var _=__webpack_require__(41),funcs=__webpack_require__(43);module.exports=IP},function(module,exports,__webpack_require__){"use strict";module.exports={Helper:__webpack_require__(262)}},function(module,exports,__webpack_require__){"use strict";function StatsRouting(config){function getData(){return config?_.has(config,"Routing")?config.Routing:config:{}}function getTables(){
return config?config.Tables:{}}function getRules(){return config?config.Rules:{}}function getDestString(elem){var ipWithMask=elem.mask?elem.dest+"/"+funcs.ipv4.mask["short"](elem.mask):elem.dest;return elem.gw&&""!=elem.gw?ipWithMask+" - "+elem.gw:ipWithMask}if(!(this instanceof StatsRouting))return new StatsRouting(config);var config=funcs.deepClone(config);return{getData:getData,getDestString:getDestString,getTables:getTables,getRules:getRules}}var _=__webpack_require__(41),funcs=__webpack_require__(43);module.exports=StatsRouting},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _promise=__webpack_require__(45),_promise2=_interopRequireDefault(_promise),somovd=__webpack_require__(189).get(),funcs=__webpack_require__(43),_=__webpack_require__(41);module.exports=function(){function reset(){return somovd.reset()["catch"](function(data){return null===data?_promise2["default"].resolve():_promise2["default"].reject(data)})}function remoteUpdate(success,error,done){var isFirmwareUpload=!0,uploadingWaitTime=5e3;somovd.write(178,{need_update:!0},function(response){isFirmwareUpload=!1,tryCall(funcs.is.RPCSuccess(response)?success:error),tryCall(done)}),setTimeout(function(){isFirmwareUpload&&tryCall(success)},uploadingWaitTime)}function checkVersion(currentVersion,newVersion){if(!currentVersion||!newVersion||newVersion==currentVersion||"develop"==currentVersion||"develop"==newVersion)return"";var vNew=newVersion.split("."),vCurrent=currentVersion.split(".");return parseInt(vNew[0])!=parseInt(vCurrent[0])?"need_backup":parseInt(vNew[1])<parseInt(vCurrent[1])?"maybe_backup":""}function changeLang(lang){return somovd.write(67,{lang:lang})}function tryCall(fn){_.isFunction(fn)&&fn()}return{reboot:somovd.reboot,save:somovd.save,reset:reset,backup:somovd.backup,build_backup:somovd.build_backup,remoteUpdate:remoteUpdate,checkVersion:checkVersion,changeLang:changeLang}}()},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(){}},function(module,exports,__webpack_require__){"use strict";module.exports={Helper:__webpack_require__(273),constants:__webpack_require__(274),converter:__webpack_require__(275)}},function(module,exports,__webpack_require__){"use strict";function SystemTime(config,attrs){function getData(){var result={ntp:{},time:{}},ntp=funcs.fetchBranch(config,paths.ntp),time=funcs.fetchBranch(config,paths.time);return result.ntp.Enable=ntp.Enable,result.ntp.TimeZoneOffset=_.has(ntp,"TimeZoneHourOffset")&&_.has(ntp,"TimeZoneMinuteOffset")?unionOffset(ntp.TimeZoneHourOffset,ntp.TimeZoneMinuteOffset):void 0,result.ntp.Servers=_.map(funcs.newConfig.normalize(ntp.Servers),function(value,inst){return{address:value.Server,__id:inst,isDynamic:value.Dynamic}}),_.has(ntp,"DST")&&(result.ntp.DST=ntp.DST),_.has(ntp,"DSTHour")&&(result.ntp.DSTHour=ntp.DSTHour),_.has(ntp,"DSTStart")&&(result.ntp.DSTStart=ntp.DSTStart),_.has(ntp,"DSTEnd")&&(result.ntp.DSTEnd=ntp.DSTEnd),_.has(ntp,"DSTTimeZoneHourOffset")&&_.has(ntp,"DSTTimeZoneMinuteOffset")&&(result.ntp.DSTTimeZoneOffset=unionOffset(ntp.DSTTimeZoneHourOffset,ntp.DSTTimeZoneMinuteOffset)),_.has(ntp,"DHCPServers")&&(result.ntp.DHCPServers=ntp.DHCPServers),_.has(ntp,"NTPServer")&&(result.ntp.NTPServer=ntp.NTPServer),_.has(ntp,"Sync")&&(result.ntp.Sync=ntp.Sync),_.has(ntp,"Interval")&&(result.ntp.Interval=ntp.Interval),_.has(ntp,"AutoInterval")&&(result.ntp.AutoInterval=ntp.AutoInterval),_.has(ntp,"PollInterval")&&(result.ntp.PollInterval=ntp.PollInterval),_.has(ntp,"RetryInterval")&&(result.ntp.RetryInterval=ntp.RetryInterval,result.ntp.RetryType=0==ntp.RetryInterval?0:1),result.time=time,result}function formConfig(data){function prepareNtp(ntp){return ntp.Servers=prepareNtpServer(ntp.Servers),autoconf.BR2_PACKAGE_ANWEB_RESIDENT&&(prepareOffset(ntp),prepareDSTOffset(ntp)),ntp}function prepareNtpServer(server){var result={};return _.each(server,function(elem,inx){if(elem.address){var inst=elem.__id?elem.__id:"new_inst_"+inx;result[inst]={Server:elem.address}}}),result}function prepareOffset(ntp){var arrOffset=ntp.TimeZoneOffset.split(":");ntp.TimeZoneHourOffset=Number(arrOffset[0]),ntp.TimeZoneMinuteOffset=Number(arrOffset[1]),delete ntp.TimeZoneOffset}function prepareDSTOffset(ntp){if(ntp.DSTTimeZoneOffset){var arrOffset=ntp.DSTTimeZoneOffset.split(":");ntp.DSTTimeZoneHourOffset=Number(arrOffset[0]),ntp.DSTTimeZoneMinuteOffset=Number(arrOffset[1]),delete ntp.DSTTimeZoneOffset}}var config={},input=funcs.deepClone(data);return input.ntp=prepareNtp(input.ntp),void 0!=input.ntp.RetryType&&delete input.ntp.RetryType,funcs.setValue(paths.ntp.replace(/\.$/,""),input.ntp,config),funcs.setValue(paths.time.replace(/\.$/,""),input.time,config),config}function getTimeStamp(input){return new Date(input.Year,input.Month-1,input.Day,input.Hour,input.Minute).getTime()}function getTimeZones(){var result=[];if(attrs)var ntpAttrs=funcs.fetchBranch(attrs,paths.ntp),start=ntpAttrs.TimeZoneHourOffset.minInclusive,end=ntpAttrs.TimeZoneHourOffset.maxInclusive;else var start=-12,end=12;for(var i=start;end>=i;i++){var sign=identifySign(i),name=i.toString();result.push({sign:sign,name:name,value:unionOffset(i,0)}),_.contains([-4,-3,3,4,5,6,9],i)&&result.push({sign:sign,name:name+"30",value:unionOffset(i,30)}),5==i&&result.push({sign:sign,name:name+"45",value:unionOffset(i,45)})}return result}function unionOffset(hour,minute){var sign=identifySign(hour),hour=Math.abs(hour).toString(),minute=minute.toString();return 1==hour.length&&(hour="0"+hour),1==minute.length&&(minute="0"+minute),sign+hour+":"+minute}function identifySign(hour){return hour>0?"+":0>hour?"-":""}function checkServer(server){if(!server)return!0;var isIpv4=function(value){var patt=/^(0|[1-9]?\d|1\d\d|2[0-4]\d|25[0-5])\.(0|[1-9]?\d|1\d\d|2[0-4]\d|25[0-5])\.(0|[1-9]?\d|1\d\d|2[0-4]\d|25[0-5])\.(0|[1-9]?\d|1\d\d|2[0-4]\d|25[0-5])$/;return!!patt.test(value)},isDomain=function(host){var regDomain=/^[--a-zA-Z0-9]+([\-]{0,2}[--a-zA-Z0-9])*$/;if(host=host.replace(/(^\s+|\s+$)/g,""),host.length>255)return!1;var domains=host.split(".");for(var i in domains)if(domains[i].length<1||domains[i].length>63||!regDomain.test(domains[i]))return!1;return!0};return isIpv4(server)||isDomain(server)}function getPoolIntervalEnum(){var pollInterval=funcs.fetchBranch(attrs,"Device.Services.NTP.PollInterval.");if(!pollInterval)return[];pollInterval=[pollInterval["default"]].concat(pollInterval["enum"]);var result=[];for(var i in pollInterval){var obj={value:pollInterval[i],name:0==i?"auto":pollInterval[i]};result.push(obj)}return result}function getRetryIntervalEnum(){return[{name:"auto",value:0},{name:"manual",value:1}]}var config=funcs.deepClone(config),attrs=funcs.deepClone(attrs);return{getData:getData,formConfig:formConfig,getTimeStamp:getTimeStamp,getTimeZones:getTimeZones,unionOffset:unionOffset,checkServer:checkServer,getPoolIntervalEnum:getPoolIntervalEnum,getRetryIntervalEnum:getRetryIntervalEnum}}var _=__webpack_require__(41),funcs=__webpack_require__(43),paths=__webpack_require__(274).paths;module.exports=SystemTime},function(module,exports){"use strict";module.exports={paths:{time:"Device.System.Time.",ntp:"Device.Services.NTP."},rpc:65}},function(module,exports,__webpack_require__){"use strict";function somovdToDsysinit(input){function getTimeZoneHour(hour){var hour=hour.split(":")[0];return-1*new Number(hour)}function getTimeZoneMinute(hour){var minute=hour.split(":")[1];return minute||0}var pattern=T({"->":!0,$input:":external",Device:{System:{Time:{"->":!0,$input:["$root",function(r){return r.$input}],$time:["$input",function(i){return i.time}],Day:["$time",function(t){return t.tm_mday}],Minute:["$time",function(t){return t.tm_min}],Hour:["$time",function(t){return t.tm_hour}],Month:["$time",function(t){return t.tm_mon}],Year:["$time",function(t){return t.tm_year}]}},Services:{NTP:{"->":!0,$input:["$root",function(r){return r.$input}],Enable:["$input",function(i){return i.enable}],Servers:{"->":!0,$input:["$root",function(r){return r.$input}],"{$value,$i}":["$input",function(i){return i.servers}],":":["$i*",function(i){return i+1}],Server:["$value",function(v){return v}]},TimeZoneHourOffset:["$input",function(i){return getTimeZoneHour(i.hour)}],TimeZoneMinuteOffset:["$input",function(i){return getTimeZoneMinute(i.hour)}],DST:["$input",function(i){return i.dst||!1}],DSTHour:["$input",function(i){return i.dst_hour||""}],DSTTimeZoneHourOffset:["$input",function(i){return getTimeZoneHour(i.dst_hour?i.dst_hour:i.hour)}],DSTTimeZoneMinuteOffset:["$input",function(i){return getTimeZoneMinute(i.dst_hour?i.dst_hour:i.hour)}],DSTStart:["$input",function(i){return i.dst_start||""}],DSTEnd:["$input",function(i){return i.dst_end||""}],DHCPServers:["$input",function(i){return i.use_dhcp}],NTPServer:["$input",function(i){return i.run_as_serv}],AutoInterval:["$input",function(i){return!i.interval}],Interval:["$input",function(i){return i.interval||1440}]}}}});return pattern.build({$input:input})}function dsysinitToSomovd(input){function getHour(hourOffset,minuteOffset){var output="";return 0!=hourOffset&&(hourOffset*=-1),output+=hourOffset,minuteOffset&&(output+=":"+minuteOffset),output}var pattern=T({"->":["$time","$ntp","time","servers"],$input:":external",$time:["$input",function(i){return i.Device.System.Time}],$ntp:["$input",function(i){return i.Device.Services.NTP}],time:{"->":!0,$time:["$root",function(r){return r.$time}],tm_mday:["$time",function(t){return t.Day}],tm_min:["$time",function(t){return t.Minute}],tm_hour:["$time",function(t){return t.Hour}],tm_mon:["$time",function(t){return t.Month}],tm_year:["$time",function(t){return t.Year}]},enable:["$ntp",function(n){return n.Enable}],hour:["$ntp",function(n){return getHour(n.TimeZoneHourOffset,n.TimeZoneMinuteOffset)}],servers:{"->":!0,$ntp:["$root",function(r){return r.$ntp}],"{$value,$i}":["$ntp",function(n){return n.Servers}],$return:["$value",function(v){return v?v.Server:{}}]},dst:["$ntp",function(n){return n.DST}],dst_hour:["$ntp",function(n){return void 0!=n.DSTTimeZoneHourOffset?getHour(n.DSTTimeZoneHourOffset,n.DSTTimeZoneMinuteOffset):getHour(n.TimeZoneHourOffset,n.TimeZoneMinuteOffset)}],dst_start:["$ntp",function(n){return n.DSTStart}],dst_end:["$ntp",function(n){return n.DSTEnd}],use_dhcp:["$ntp",function(n){return n.DHCPServers}],run_as_serv:["$ntp",function(n){return n.NTPServer}],interval:["$ntp",function(n){return n.AutoInterval?0:n.Interval}]});return pattern.build({$input:input})}var T=(__webpack_require__(41),__webpack_require__(122).T);module.exports={somovdToDsysinit:somovdToDsysinit,dsysinitToSomovd:dsysinitToSomovd}},function(module,exports,__webpack_require__){"use strict";module.exports={converterSyslog:__webpack_require__(277),converterUsbInfo:__webpack_require__(278)}},function(module,exports,__webpack_require__){"use strict";function somovdToNative(input){function getDestination(value){switch(value){case"local":return"Local";case"remote":return"Remote";case"both":return"Both"}}var pattern=T({"->":!0,"?":["$input",function(i){return!!i}],$input:":external",Enable:["$input",function(s){return s.enable}],Destination:["$input",function(i){return getDestination(i.type)}],Level:["$input",function(i){return i.level}],Server:["$input",function(i){return i.server}],Port:["$input",function(i){return i.port}],Log2USB:{"->":!0,$settings:["$root",function(r){return r.$input}],Enable:["$settings",function(s){return s.log2usb||!1}],RotateSize:["$settings",function(s){return s.log2usb_rotatesize||0}],RotateNumber:["$settings",function(s){return _.has(s,"log2usb_rotatenumber")&&0!=s.log2usb_rotatesize?s.log2usb_rotatenumber+1:1}],Directory:["$settings",function(s){return s.log2usb_partition||""}],File:["$settings",function(s){return s.log2usb_filename||""}],InvalidPath:["$settings",function(s){return""!=s.log2usb_partition&&s.isInvalidPath}]}});return pattern.build({$input:input})}function nativeToSomovd(input){function getDestination(value){switch(value){case"Local":return"local";case"Remote":return"remote";case"Both":return"both"}}var pattern=T({"->":!0,$input:":external",$usb:["$input",function(i){return i.Log2USB}],enable:["$input",function(i){return i.Enable}],type:["$input",function(i){return getDestination(i.Destination)}],level:["$input",function(i){return i.Level}],server:["$input",function(i){return i.Server}],port:["$input",function(i){return i.Port}],log2usb:["$usb*",function(u){return u.Enable}],log2usb_rotatesize:["$usb*",function(u){return u.RotateSize}],log2usb_rotatenumber:["$usb*",function(u){return u.RotateNumber-1}],log2usb_partition:["$usb*",function(u){return u.Directory}],log2usb_filename:["$usb*",function(u){return u.File}]});return pattern.build({$input:input})}function attrsToNative(){function getLevels(){return[0,1,2,3,4,5,6,7]}function getDestinationList(){return["Local","Remote","Both"]}return{Levels:getLevels(),Destination:getDestinationList()}}var _=__webpack_require__(41),T=__webpack_require__(122).T;module.exports={somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd,attrsToNative:attrsToNative}},function(module,exports,__webpack_require__){"use strict";function somovdToNative(input){var pattern=T({"->":!0,$input:":external","?":["$usb",function(u){return!!u}],"{$usb, Mountpoint}":["$input",function(i){return i.usb_storage}],Filesystem:["$usb",function(u){return u.file_system}],Device:["$usb",function(u){return u.name}],Disable:!1,Total:["$usb",function(u){return funcs.lookSize(1024*u.total*1024).toString()}],Free:["$usb",function(u){return funcs.lookSize(1024*u.free*1024).toString()}]});return pattern.build({$input:input})}var T=(__webpack_require__(41),__webpack_require__(122).T),funcs=__webpack_require__(43);module.exports={somovdToNative:somovdToNative}},function(module,exports,__webpack_require__){"use strict";module.exports={converter:__webpack_require__(280)}},function(module,exports,__webpack_require__){"use strict";function somovdToNative(input){var pattern=T({"->":!0,$input:":external",Enable:["$input",function(i){return i.enable}],IsMultiServer:!1,Server:{"->":!0,"{$raw}":["$parent",function(p){return[p.$input.server]}],$return:["$raw",function(r){return r||""}]},Period:["$input",function(i){return i.period||void 0}],minPeriod:["Period",function(p){return p?60:void 0}],Version:["$input",function(i){return i.version}]});return pattern.build({$input:input})}function nativeToSomovd(input){var pattern=T({"->":["$settings","settings"],$input:":external",enable:["$input",function(i){return i.Enable}],server:["$input",function(i){return i.Server[0]}],period:["$input",function(i){return i.Period}],version:["$input",function(i){return i.Version}]});return pattern.build({$input:input})}var T=(__webpack_require__(41),__webpack_require__(122).T),T=__webpack_require__(122).T;module.exports={somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd}},function(module,exports,__webpack_require__){"use strict";module.exports={Helper:__webpack_require__(282)}},function(module,exports,__webpack_require__){"use strict";function StatsDHCP(config){function getData(){return config?config:{}}function getLeaseExpiresTime(elem){return elem.lease?funcs.lookTime(elem.lease):"-"}if(!(this instanceof StatsDHCP))return new StatsDHCP(config);var config=funcs.deepClone(config);return{getData:getData,getLeaseExpiresTime:getLeaseExpiresTime}}var funcs=(__webpack_require__(41),__webpack_require__(43));module.exports=StatsDHCP},function(module,exports,__webpack_require__){"use strict";module.exports={Helper:__webpack_require__(284),converter:__webpack_require__(285)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function PortSettings(config){function getData(){return config?sortData():{}}function sortData(){if(!config.order)return config.ports;var sortData=[];return _.each(config.order,function(elem){sortData.push(_.findWhere(config.ports,{__id:elem}))}),sortData}function getAdvertisementKeys(advertisement){if(advertisement){var result=_keys2["default"](advertisement);return result}return{}}function prepareData(port,speed){var result={};return result="auto"!==speed?{__id:port.__id,enable:port.enable,name:port.name,autonegotiation:!1,speed:speed}:{__id:port.__id,enable:port.enable,name:port.name,autonegotiation:!0,advertisement:port.advertisement,pause:port.pause}}if(!(this instanceof PortSettings))return new PortSettings(config);var config=funcs.deepClone(config);return{getData:getData,getAdvertisementKeys:getAdvertisementKeys,prepareData:prepareData}}var _keys=__webpack_require__(84),_keys2=_interopRequireDefault(_keys),_=__webpack_require__(41),funcs=(__webpack_require__(182),__webpack_require__(186),__webpack_require__(43));module.exports=PortSettings},function(module,exports,__webpack_require__){"use strict";!function(){function somovdToNative(data,constants){function getIface(input){var result=[];return _.each(input,function(elem,name){result.push({port:elem,name:name})}),result}function getSpeedList(advertisement,iface,consts){var result=_.keys(advertisement);return consts&&consts.FIBER_WAN&&"WAN"==iface.name||(result=_.filter(result,function(item){return item.replace(/[^0-9]/g,"")<1e3})),result}function getPortAlias(iface,consts){var alias=iface.name;return"WAN"==iface.name&&consts&&consts.FIBER_WAN&&(alias="SFP"),alias}var pattern=T({"->":!0,$data:":external",$consts:":external",ports:{"->":!0,$consts:":external","{$iface, __id}":["$parent",function(p){return getIface(p.$data)}],$port:["$iface",function(i){return i.port}],alias:["$iface","$consts",function(i,c){return getPortAlias(i,c)}],name:["$iface",function(i){return i.name}],status:["$port",function(p){return p.status}],autonegotiation:["$port",function(p){return p.autonegotiation}],advertisement:["$port",function(p){return p.advertisement}],speedList:["$port","$iface","$consts",function(p,i,c){return getSpeedList(p.advertisement,i,c)}],pause:["$port",function(p){return p.pause}],speed:["$port",function(p){return p.speed}],flowControl:["$port",function(p){return funcs.fetchBranch(p,"flow-control")}]}});return pattern.build({$data:data,$consts:constants})}function nativeToSomovd(data){var result={};return result[data.name]={autonegotiation:data.autonegotiation,speed:data.speed,pause:data.pause,advertisement:data.advertisement},result}var T=__webpack_require__(122).T,_=__webpack_require__(41),funcs=__webpack_require__(43);module.exports={somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd}}()},function(module,exports,__webpack_require__){"use strict";module.exports={constructor:__webpack_require__(287),converter:__webpack_require__(288)}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(41),funcs=__webpack_require__(43);module.exports=function(){function getFreeConnections(config){var allInst=_.pluck(config.Connections,"Value"),failoverInst=getFailoverConnections(config);return _.difference(allInst,failoverInst)}function isCrossMasterConnection(config,slaveIndex){var master=config.Connection.Master,value=config.Connection.Slave[slaveIndex];return master==value}function isCrossSlaveConnection(config,slaveIndex){var slaves=funcs.deepClone(config.Connection.Slave);_.isUndefined(slaveIndex)||slaves.splice(slaveIndex,1);var value=config.Connection.Slave[slaveIndex];return _.contains(slaves,value)}function checkHost(host,hosts,index){if(!host)return null;if(!funcs.is.ipv4(host))return"msg_invalid_ipv4";if("0.0.0.0"==host||"255.255.255.255"==host)return"msg_invalid_host";var hostsList=funcs.deepClone(hosts);return!_.isUndefined(index)&&index<hostsList.length&&hostsList.splice(index,1),_.find(hostsList,{Value:host})?"msg_error_value_is_not_uniq":null}function checkRecheckTimeout(config){if(!_.has(config,"PingRetries"))return null;var minValue=Math.ceil(config.PingRetries*config.PingTimeout/1e3);return config.RecheckTimeout-1<minValue?{error:!0,minValue:minValue}:null}function checkFreeConnections(config){var allInst=config.Connections,failoverInst=getFailoverConnections(config);return failoverInst.length<allInst.length}function getFailoverConnections(config,slaveIndex){var master=config.Connection.Master,slaves=funcs.deepClone(config.Connection.Slave);return _.isUndefined(slaveIndex)||slaves.splice(slaveIndex,1),[master].concat(slaves)}return{getFreeConnections:getFreeConnections,isCrossMasterConnection:isCrossMasterConnection,isCrossSlaveConnection:isCrossSlaveConnection,checkHost:checkHost,checkRecheckTimeout:checkRecheckTimeout,checkFreeConnections:checkFreeConnections}}},function(module,exports,__webpack_require__){"use strict";!function(){function somovdToNative(input){function getConnectionList(w){var output=[],ifaces=w.iface_names;return _.each(ifaces,function(iface){iface.is_wan&&_.each(iface.services,function(service,ifname){service.type&&/v6$/.test(service.type)||("auto"!=service.type&&output.push({Name:service.name,Value:ifname,DefaultGateway:!!service.gwif&&service.gwif,Type:service.type}),_.each(service.tunnels,function(tunnel,ifname){output.push({Name:tunnel.name,Value:ifname,DefaultGateway:!!tunnel.gwif&&tunnel.gwif,Type:tunnel.type})}))})}),output}function getBasicConn(conns){var gwConn=_.filter(conns,function(c){return c.DefaultGateway});if(gwConn&&gwConn.length>1){var tmp="";return _.each(gwConn,function(elem){tmp="l2tp"==elem.Type||"pptp"==elem.Type?elem.Value:""}),tmp}return gwConn[0]&&gwConn[0].Value||""}function getBackupConn(conns,master){var backupConn=_.filter(conns,function(c){return c.Value!=master});return backupConn.length?backupConn[0].Value:""}var pattern=T({"->":["$wanReserv","$wan","Hosts","Connections","Connection"],$input:":external",$wanReserv:["$input",function(i){return i[210]}],$wan:["$input",function(i){return i[1]}],Enable:["$wanReserv",function(wr){return wr.enable||!1}],PingTimeout:["$wanReserv",function(wr){return wr.icmp_timeout||3}],RecheckTimeout:["$wanReserv",function(wr){return wr.icmp_interval||10}],FailoverAttempts:["$wanReserv",function(wr){return wr.failover_attempts||3}],RecoveryAttempts:["$wanReserv",function(wr){return wr.recovery_attempts||5}],Connection:{"->":!0,$wanReserv:["$parent",function(p){return p.$wanReserv}],$conns:["$parent",function(p){return p.Connections}],$master:["$wanReserv","$conns",function(wr,conns){return wr.master_iface?wr.master_iface:getBasicConn(conns)}],$slave:["$wanReserv","$conns","$master",function(wr,conns,master){return wr.slave_iface?wr.slave_iface:getBackupConn(conns,master)}],Master:["$master",function(m){return m}],Slave:["$slave",function(s){return[s]}]},MultiHosts:!1,Hosts:{"->":!0,$wanReserv:["$parent",function(p){return p.$wanReserv}],"{$raw}":["$wanReserv",function(wr){return[wr.icmp_host]}],Value:["$raw",function(r){return r||"8.8.8.8"}]},Connections:{"->":!0,$wan:["$parent",function(p){return p.$wan}],$return:["$wan",function(w){return getConnectionList(w)}]},TimeSystem:"s",MinMax:{RecheckTimeout:{min:1,max:60},PingTimeout:{min:1,max:10},FailoverAttempts:{min:1,max:10},RecoveryAttempts:{min:1,max:10}}});return pattern.build({$input:input})}function nativeToSomovd(input){var pattern=T({"->":!0,$input:":external",enable:["$input",function(i){return i.Enable}],icmp_timeout:["$input",function(i){return i.PingTimeout}],icmp_interval:["$input",function(i){return i.RecheckTimeout}],failover_attempts:["$input",function(i){return i.FailoverAttempts}],recovery_attempts:["$input",function(i){return i.RecoveryAttempts}],icmp_host:["$input",function(i){return i.Hosts[0].Value}],master_iface:["$input",function(i){return i.Connection.Master}],slave_iface:["$input",function(i){return i.Connection.Slave[0]}]});return pattern.build({$input:input})}var T=__webpack_require__(122).T,_=__webpack_require__(41);module.exports={nativeToSomovd:nativeToSomovd,somovdToNative:somovdToNative}}()},function(module,exports,__webpack_require__){"use strict";module.exports={Helper:__webpack_require__(290),converter:__webpack_require__(293)}},function(module,exports,__webpack_require__){"use strict";function Udpxy(config,params,attrs){function getIfaces(identifer){var allInterfaces=iface.getInterfaces(),result=[];return"WAN"==identifer&&(result="Firewall"==config.Mode?_.chain(allInterfaces).filter(function(c){return!_.contains(["Bridge","IPsec"],c.type)}).map(function(c){return{name:c.name,value:c.path}}).value():_.chain(allInterfaces).filter(function(c){return _.contains(["DHCP","Static"],c.type)}).map(function(c){return{name:c.name,value:c.path}}).value()),"LAN"==identifer&&(result=_.chain(allInterfaces).filter(function(c){return"Bridge"==c.type}).map(function(c){return{name:c.name,value:c.path}}).value()),result}function getData(){var data=_.omit(config,"Interfaces");return data}function getIfacesResident(identifer){function getConnsNewConfig(){_.each(config.AvailableIfaces,function(data){wans[data.key_l3.split("_")[0]]&&"ethernet"==wans[data.key_l3.split("_")[0]].type&&wans[data.key_l3.split("_")[0]].services[data.key_l3]&&"ip"==wans[data.key_l3.split("_")[0]].services[data.key_l3].type&&ifaces.push({name:data.name,value:data.iface})})}function getIfaceNewConfig(){_.each(config.AvailableIfaces,function(data){wans[data.iface]&&wans[data.iface].services[data.key_l3]&&ifaces.push({name:data.name,value:data.iface})})}var wans=params.configWan.iface_names,device_mode=params.deviceMode,ifaces=[];return"WAN"==identifer&&("Firewall"!=device_mode?getConnsNewConfig():getIfaceNewConfig()),ifaces}if(!(this instanceof Udpxy))return new Udpxy(config,params,attrs);var config=funcs.deepClone(config),params=params?params:{},iface=new Iface({Device:{Network:{Connection:config.Connections,Interface:config.Interfaces}}},attrs);return{getData:getData,getIfaces:getIfaces,getIfacesResident:getIfacesResident}}var _=__webpack_require__(41),funcs=__webpack_require__(43),Iface=(__webpack_require__(291),__webpack_require__(292));module.exports=Udpxy},function(module,exports){"use strict";module.exports={udpxy:"Device.Services.Udpxy.",igmpxEnable:"Device.Services.IGMPX.Enable",interfaces:"Device.Network.Interface.",deviceMode:"Device.DeviceInfo.DeviceMode",conns:"Device.Network.Connection."}},function(module,exports,__webpack_require__){"use strict";function Interface(config,attrs){function getNameByPath(path){var iface=funcs.fetchBranch(config,path);return iface?iface.Name||iface.Ifname:null}function getInterfaces(){var inputIfaces=funcs.fetchBranch(config,paths["interface"]),inputConns=funcs.fetchBranch(config,paths.connection),interfaces=_.chain(inputIfaces).map(function(e,type){return getInterfacesByType(paths["interface"],type)}).flatten().filter(function(e){return _.contains(["Bridge"],e.type)}).value(),connections=_.chain(inputConns).map(function(e,type){return getInterfacesByType(paths.connection,type)}).flatten().value();return interfaces.concat(connections)}function getInterfacesByType(startPath,type){var path=startPath+type+".",input=funcs.fetchBranch(config,path);return input=funcs.newConfig.normalize(input),"DHCPv6"==type&&(input=_.omit(input,function(elem,inst){return/Connection/.test(elem.Interface)||/Cellular/.test(elem.Interface)})),_.map(input,function(elem,inst){var ifacePath=path+inst+".",isPPPoEv6=!1;return"PPPoE"==type&&(isPPPoEv6=funcs.fetchBranch(config,elem.PPPConfiguration+"IPv6Only")),{name:getNameByPath(ifacePath),path:ifacePath,type:isPPPoEv6?"PPPoEv6":type,status:elem.Status}})}function getInterfaceInfo(path){function getInterfaceIpInfo(path){function prepareIP(obj,type){return _.chain(obj).filter(function(e){return _.isObject(e)}).map(function(elem){var result={},arrIp=elem.IPAddress.split("/");return result.ip=arrIp[0]||"","ipv4"==type?result.mask=arrIp[1]?funcs.ipv4.mask["long"](arrIp[1]):"":result.prefix=arrIp[1]||"",result}).value()}var ips=funcs.fetchBranch(config,paths.ip);if(!ips)return null;var ip=__findInstanceByLowerLayer(ips,path);return ip?{ipv4:prepareIP(ip.IPv4Address,"ipv4"),ipv6:prepareIP(ip.IPv6Address,"ipv6")}:null}return{name:getNameByPath(path),ip:getInterfaceIpInfo(path)}}function __findInstanceByLowerLayer(obj,lowerLayer){return _.find(obj,function(elem){return!!_.isObject(elem)&&elem.LowerLayer==lowerLayer})}var paths={ip:"Device.Network.IP.","interface":"Device.Network.Interface.",connection:"Device.Network.Connection."};return{getNameByPath:getNameByPath,getInterfaces:getInterfaces,getInterfaceInfo:getInterfaceInfo}}var _=__webpack_require__(41),funcs=__webpack_require__(43);module.exports=Interface},function(module,exports,__webpack_require__){"use strict";function somovdToNative(data){var pattern=T({"->":!0,"?":["$data",function(d){return!!d}],$data:":external",Enable:["$data",function(d){return d.enabled}],BufCli:["$data",function(d){return d.bufcli}],SocBuf:["$data",function(d){return d.socbuf}],MaxCli:["$data",function(d){return d.maxcli}],DefaultIface:["$data",function(d){return d.default_iface}],AllowAllPorts:!0,Port:["$data",function(d){return d.port}],AvailableIfaces:["$data",function(d){return d.constraints&&d.constraints.Available_ifaces?d.constraints.Available_ifaces:[]}]});return pattern.build({$data:data})}function nativeToSomovd(data){var pattern=T({"->":!0,$data:":external",enabled:["$data",function(d){return d.Enable}],bufcli:["$data",function(d){return d.BufCli.toString()}],socbuf:["$data",function(d){return d.SocBuf.toString()}],maxcli:["$data",function(d){return d.MaxCli.toString()}],default_iface:["$data",function(d){return d.DefaultIface}],port:["$data",function(d){return d.Port.toString()}]});return pattern.build({$data:data})}var T=(__webpack_require__(41),__webpack_require__(122).T);module.exports={somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(278)},function(module,exports,__webpack_require__){"use strict";module.exports={Helper:__webpack_require__(296),converter:__webpack_require__(297)}},function(module,exports,__webpack_require__){"use strict";function DDNS(config){function getDdns(){return config&&config.DDNS?config.DDNS:{}}function getIfaces(){return config&&config.Ifaces?config.Ifaces:{}}function getServices(){return config&&config.Services?config.Services:{}}function getConfiguration(){return config?_.omit(config,["DDNS","Services"]):{}}function getAvailIfaces(currentIface){function isWan(iface){return iface.IsWan}function isAvail(iface){return currentIface&&iface.Iface===currentIface||!~getBusyIfaces().indexOf(iface.Iface)}function getBusyIfaces(){return config.DDNS.map(function(iface){return iface.Iface})}return config.Ifaces.filter(isWan).filter(isAvail)}function getRule(index){function getDefaultTemplate(){return{System:"",Hostname:config.MultiHostname?[{Name:"",__id:0}]:"",Service:"",Period:"",Username:"",Iface:"",Password:""}}var result;return result=_.isUndefined(index)?getDefaultTemplate():config.DDNS[index],_.isUndefined(result)?getDefaultTemplate():result}function getCurrentService(service){var currentService=_.findWhere(config.Services,{Service:service});return currentService?currentService:(currentService=_.findWhere(config.Services,{Name:service}),currentService?currentService:config.Services[0])}function isUniqueName(host,ddns){var checkExternal=_.some(config.DDNS,function(elem){return elem.Instance!=ddns.Instance?_.some(elem.Hostname,function(el){return host.Name==el.Name||null}):null}),checkInside=_.some(ddns.Hostname,function(elem){return!!(host.Name&&elem.__id<host.__id&&elem.Name==host.Name)||null});return!(!checkInside&&!checkExternal)||null}function uniqueRule(ddns,pos){return!_.some(config.DDNS,function(elem){function checkHostname(ddns,rule){
return _.every(ddns,function(elem){return _.findWhere(rule,{Name:elem.Name})})}return pos!=elem.Instance&&ddns.Service==elem.Service&&(ddns.Username==elem.Username||ddns.Hostname.length==elem.Hostname.length&&checkHostname(ddns.Hostname,elem.Hostname))})}if(!(this instanceof DDNS))return new DDNS(config);var config=funcs.deepClone(config);return{getDdns:getDdns,getIfaces:getIfaces,getAvailIfaces:getAvailIfaces,getRule:getRule,getServices:getServices,getCurrentService:getCurrentService,getConfiguration:getConfiguration,uniqueRule:uniqueRule,isUniqueName:isUniqueName}}var _=__webpack_require__(41),funcs=__webpack_require__(43);module.exports=DDNS},function(module,exports,__webpack_require__){"use strict";!function(){function somovdToNative(data){var pattern=T({"->":["DDNS","Ifaces"],$data:":external",MultiDdns:!1,MultiHostname:!1,NeedChooseIface:["$root",function(r){return r.$data.NeedChooseIface}],DDNS:{"->":!0,"?":["$ddns",function(d){return!!d}],"{$ddns}":["$root",function(r){return r.$data.ddns}],System:["$ddns",function(d){return d.system}],Hostname:["$ddns",function(d){return d.host_name}],Service:["$ddns",function(d){return d.service}],Period:["$ddns",function(d){return d.period}],Username:["$ddns",function(d){return d.usr_name}],Iface:["$ddns",function(d){return d.iface}],Password:["$ddns",function(d){return d.pass}],Ssl:["$ddns",function(d){return d.ssl}]},Ifaces:{"->":!0,"{$iface}":["$root",function(r){return r.$data.ifaces}],Iface:["$iface",function(i){return i.iface}],Name:["$iface",function(i){return i.name}],IsWan:["$iface",function(i){return i.is_wan}],Type:["$iface",function(i){return i.type}]},Services:["$data",function(d){return _.sortBy(d.services,"Name")}]});return pattern.build({$data:data})}function nativeToSomovd(data){var pattern=T({"->":["ddns"],$data:":external",system:["$data",function(d){return d.System}],host_name:["$data",function(d){return d.Hostname}],service:["$data",function(d){return d.Service}],period:["$data",function(d){return d.Period}],usr_name:["$data",function(d){return d.Username}],iface:["$data",function(d){return d.Iface}],pass:["$data",function(d){return d.Password}],ssl:["$data",function(d){return d.Ssl}]});return pattern.build({$data:data})}var T=__webpack_require__(122).T,_=__webpack_require__(41);module.exports={somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd}}()},function(module,exports,__webpack_require__){"use strict";module.exports={converter:__webpack_require__(299)}},function(module,exports,__webpack_require__){"use strict";var T=__webpack_require__(122).T,_=__webpack_require__(41),funcs=__webpack_require__(43);module.exports={somovdToNative:function(data){var pattern=T({"->":!0,$data:":external","?":["$file",function(f){return!!f}],"{$files}":["$data",function(d){return d.Files}],"{$file, $id}":["$files",function(f){return f}],Type:["$data","$file",function(d,f){return d.Root?"root":f.type?"folder":"file"}],Free:["$file",function(f){return _.isUndefined(f.free)?"-":funcs.lookSize(1024*f.free*1024).toString()}],Total:["$file",function(f){return _.isUndefined(f.total)?"-":funcs.lookSize(1024*f.total*1024).toString()}],Filesystem:["$file",function(f){return f.file_system}],Key:["$id",function(i){return i}],Path:["$data","$id",function(d,i){return d.Parent+"/"+i}],Alias:["$id","$file",function(i,f){return i||f.name}],ModifyDate:["$file",function(f){return f.modify_date?1e3*f.modify_date:void 0}],Name:["$file",function(f){return f.name}],Size:["$file",function(f){return _.isUndefined(f.size)?void 0:funcs.lookSize(f.size).toString()}]});return pattern.build({$data:data})}}},function(module,exports,__webpack_require__){"use strict";module.exports={converter:__webpack_require__(301)}},function(module,exports,__webpack_require__){"use strict";function somovdToNative(data){function getMediaTypes(){return["ALL","A","V","P"]}var pattern=T({"->":["MediaDirs"],$data:":external",Enable:["$data",function(d){return d.enabled}],Interval:["$data",function(d){return d.interval}],Name:["$data",function(d){return d.name}],MediaDirs:{"->":!0,"{$dirs}":["$parent",function(p){return p.$data.media_dirs}],Path:["$dirs*",function(d){return d.path}],Type:["$dirs*",function(d){return d.type}]},MediaTypes:getMediaTypes(),InvalidPath:["$data",function(d){return d.isInvalidPath}]});return pattern.build({$data:data})}function nativeToSomovd(data){var pattern=T({dlna:{"->":["media_dirs"],$data:":external",enabled:["$data",function(d){return d.Enable}],interval:["$data",function(d){return d.Interval}],name:["$data",function(d){return d.Name}],media_dirs:{"->":!0,"{$dirs}":["$parent",function(p){return p.$data.MediaDirs}],type:["$dirs*",function(d){return d.Type}],path:["$dirs*",function(d){return d.Path}]}}});return pattern.build({$data:data})}var T=__webpack_require__(122).T;__webpack_require__(41),module.exports={somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd}},function(module,exports,__webpack_require__){"use strict";module.exports={converter:__webpack_require__(303)}},function(module,exports,__webpack_require__){"use strict";function somovdToNative(data){var pattern=T({"->":["Dirs"],$data:":external",Anonymous:["$data",function(d){return d.anonymous}],Enable:["$data",function(d){return d.enable}],NetbiosName:["$data",function(d){return d.netbios_name}],ServerString:["$data",function(d){return d.server_string}],Workgroup:["$data",function(d){return d.workgroup}],Dirs:{"->":!0,"{$dirs}":["$parent",function(p){return p.$data.dirs}],Path:["$dirs*",function(d){return d.path}],Name:["$dirs*",function(d){return d.name}]},InvalidPath:["$data",function(d){return d.isInvalidPath}]});return pattern.build({$data:data})}function nativeToSomovd(data){var pattern=T({samba:{"->":["dirs"],$data:":external",enable:["$data",function(d){return d.Enable}],anonymous:["$data",function(d){return d.Anonymous}],netbios_name:["$data",function(d){return d.NetbiosName}],server_string:["$data",function(d){return d.ServerString}],workgroup:["$data",function(d){return d.Workgroup}],dirs:{"->":!0,"{$dirs}":["$parent",function(p){return p.$data.Dirs}],name:["$dirs*",function(d){return d.Name}],path:["$dirs*",function(d){return d.Path}]}}});return pattern.build({$data:data})}var T=__webpack_require__(122).T;__webpack_require__(41),module.exports={somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd}},function(module,exports,__webpack_require__){"use strict";module.exports={converter:__webpack_require__(305)}},function(module,exports,__webpack_require__){"use strict";function somovdToNative(data){var pattern=T({"->":!0,$data:":external",Enable:["$data",function(d){return d.enable}],Anonymous:["$data",function(d){return d.anonymous}],Port:["$data",function(d){return d.port}],DirPath:["$data",function(d){return d.dir_path}],InvalidPath:["$data",function(d){return d.isInvalidPath}]});return pattern.build({$data:data})}function nativeToSomovd(data){var pattern=T({ftpd:{"->":!0,$data:":external",enable:["$data",function(d){return d.Enable}],anonymous:["$data",function(d){return d.Anonymous}],port:["$data",function(d){return d.Port}],dir_path:["$data",function(d){return d.DirPath}]}});return pattern.build({$data:data})}var T=__webpack_require__(122).T;__webpack_require__(41),module.exports={somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd}},function(module,exports,__webpack_require__){"use strict";module.exports={converter:__webpack_require__(307)}},function(module,exports,__webpack_require__){"use strict";function somovdToNative(data){var pattern=T({"->":["Users"],$data:":external",users:{"->":!0,"{$users}":["$parent",function(p){return p.$data}],Username:["$users*",function(d){return d.user}],Password:["$users*",function(d){return d.password}],Rule:["$users*",function(d){return d.rule}]}});return pattern.build({$data:data})}function nativeToSomovd(data){var pattern=T({"->":!0,$data:":external",user:["$data",function(d){return d.Username}],password:["$data",function(d){return d.Password}],rule:["$data",function(d){return d.Rule}]});return pattern.build({$data:data})}var T=__webpack_require__(122).T;__webpack_require__(41),module.exports={somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd}},function(module,exports,__webpack_require__){"use strict";module.exports={converter:__webpack_require__(309)}},function(module,exports,__webpack_require__){"use strict";!function(){function somovdToNative(data){function getConn(wans){var list=[];return _.each(wans,function(obj,key){obj.Connection&&"Bridge"!=key&&_.each(obj.Connection,function(conn){list.push(_.extend(conn,{Type:key}))})}),list}function getUsedSourcePorts(data){function addVservers(rules,result){_.each(rules,function(rule){"udp"!==rule.proto&&result.push({Section:"vservers",Ports:{Start:rule.ports_begin.toString(),End:rule.ports_end.toString()}})})}function addTR69(data,result){data&&data.ConnReqPort&&result.push({Section:"tr69",Ports:{Start:data.ConnReqPort.toString(),End:""}})}var result=[];return data.vservers&&addVservers(data.vservers,result),data.tr69&&addTR69(data.tr69,result),result}function getUsedIPRanges(data){function addLAN(ifaces,result){var iface=_.find(ifaces.iface_names,function(o){return!o.is_wan&&_.has(o,"services")});iface&&_.each(iface.services,function(service){if(service.ip&&service.mask){var ipv4range=funcs.ipv4.subnet.getNetworkRange(service.ip,service.mask);result.push({Section:"lan",Type:"IPv4",IP:{Start:ipv4range.start,End:ipv4range.end}})}if(service.useipv6&&service.ipv6&&funcs.ipv6.subnet){var pair=service.ipv6.split("/");if(2==pair.length){var ipv6range=funcs.ipv6.subnet.getNetworkRange(pair[0],pair[1]);result.push({Section:"lan",Type:"IPv6",IP:{Start:ipv6range.start,End:ipv6range.end}})}}})}var result=[];return data.ifaces&&addLAN(data.ifaces,result),result}var pattern=T({"->":["$data","Rules","Ifaces","UsedSourcePorts"],$data:":external",Rules:{"->":["$rule","Ports"],"{$rule, $id}":["$parent",function(p){return p.$data.rules}],__id:["$id",function(i){return i}],Name:["$rule*",function(r){return r.name}],Iface:["$rule*",function(r){return r.iface}],IsIPv6:["$rule*",function(r){return r.ipv6}],IPs:["$rule*",function(r){return r.ips}],Mask:["$rule*",function(r){return r.source_mask}],Ports:{"->":!0,$rule:["$parent",function(p){return p.$rule}],Source:["$rule*",function(r){return r.sport}],Dest:["$rule*",function(r){return r.dport}]}},Ifaces:{"->":!0,$ifaces:["$parent",function(p){return p.$data.ifaces}],$wan:["$ifaces*",function(i){return wanConverter.somovdToNative(i)}],"{$conn}":["$wan",function(w){return getConn(w)}],Name:["$conn*",function(c){return c.Name}],Type:["$conn*",function(c){return c.Type}],Value:["$conn*",function(c){return c.__OriginInterface?c.__OriginInterface:c.__LowerLayer}]},UsedSourcePorts:["$data",function(d){return getUsedSourcePorts(d)}],UsedIPRanges:["$data",function(d){return getUsedIPRanges(d)}],AvailIPv6:["$data",function(d){return d.ipv6Avail}]});return pattern.build({$data:data})}function attrsToNative(data){function getProtocols(defined,sshPort,trPort){var protocols=[];return!defined.custom_partner&&defined.http&&protocols.push({Name:"HTTP",Value:defined.ertelecom?"8080":"80"}),defined.https&&protocols.push({Name:"HTTPS",Value:"443",Source:defined.custom_partner&&"8443"}),(defined.bcm_rlx||defined.custom_partner)&&protocols.push({Name:"ICMP",Value:"99",Source:""}),defined.ftp&&protocols.push({Name:"FTP",Value:"21"}),defined.telnet&&protocols.push({Name:"TELNET",Value:"23"}),defined.samba&&protocols.push({Name:"SMB",Value:"445"}),defined.tr69&&protocols.push({Name:"TR",Value:trPort}),defined.ssh&&sshPort&&protocols.push({Name:"SSH",Value:sshPort}),protocols}function getSystemPorts(data){var ports=[];return data.SUPPORT_CUSTOM_GOODLINE&&(ports.push("64010"),ports.push("61040")),ports}var pattern=T({"->":["$data","Defined","Protocols","System_ports"],$data:":external",Defined:{"->":!0,$consts:["$parent",function(p){return p.$data}],ertelecom:["$consts",function(c){return c.SUPPORT_ERTELECOM}],telnet:["$consts",function(c){return c.SUPPORT_TELNET}],http:["$consts",function(c){return c.SUPPORT_HTTP}],https:["$consts",function(c){return c.SUPPORT_HTTPS}],ftp:["$consts",function(c){return c.SUPPORT_FTP}],samba:["$consts",function(c){return c.SUPPORT_SAMBA}],bcm:["$consts",function(c){return c.SUPPORT_BCM}],rlx_modem:["$consts",function(c){return c.SUPPORT_RLX&&c.SUPPORT_MODEMS}],https_support:["$consts",function(c){return c.SUPPORT_HTTPS}],bcm_rlx:["$consts",function(c){return c.SUPPORT_BCM||c.SUPPORT_MODEMS}],iface_support:["$consts",function(c){return c.SUPPORT_REMOTE_ACCESS_WAN_IFACES||c.SUPPORT_BCM||c.SUPPORT_MODEMS}],custom_partner:["$consts",function(c){return c.CUSTOM_PARTNER_23078}],ssh:["$consts",function(c){return c.SUPPORT_SSH}],tr69:["$consts",function(c){return c.CUSTOM_PARTNER_23078||c.CUSTOM_ISRAEL_35327}]},Protocols:["Defined","$data",function(def,d){return getProtocols(def,d.SSH_PORT,d.TR_PORT)}],SystemPorts:["$data",function(d){return getSystemPorts(d)}],BackupStorage:{disabled:{ipv4:{},ipv6:{Mask:"",Ports:{Source:"80"}}},enabled:{ipv4:{IPs:"0.0.0.0",Mask:"0.0.0.0"},ipv6:{IPs:"::",Mask:"",Ports:{Source:"80"}}}}});return pattern.build({$data:data})}function nativeToSomovd(data){var pattern=T({"->":!0,$data:":external",iface:["$data",function(d){return d.Iface}],ipv6:["$data",function(d){return d.IsIPv6}],ips:["$data",function(d){return""!=d.IPs?d.IPs:d.IsIPv6?"::":"0.0.0.0"}],source_mask:["$data",function(d){return d.IsIPv6?"":""!=d.Mask?d.Mask:"0.0.0.0"}],sport:["$data",function(d){return d.Ports.Source}],dport:["$data",function(d){return d.Ports.Dest}],name:["$data",function(d){return d.Name}]});return pattern.build({$data:data})}var T=__webpack_require__(122).T,_=__webpack_require__(41),funcs=__webpack_require__(43),wanConverter=__webpack_require__(246);module.exports={somovdToNative:somovdToNative,attrsToNative:attrsToNative,nativeToSomovd:nativeToSomovd}}()},function(module,exports,__webpack_require__){"use strict";module.exports={converter:__webpack_require__(311)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _defineProperty2=__webpack_require__(132),_defineProperty3=_interopRequireDefault(_defineProperty2);!function(){function somovdToNative(input){function prepareIfaces(ifaces,isSupportIPv6){var output=getIfacesList(ifaces,isSupportIPv6);return output.unshift({Name:"routing_auto_iface",Value:"auto",Version:"All"}),output}function getIfacesList(ifaces,isSupportIPv6){function filterFn(item){return(isSupportIPv6||item.type.indexOf("v6")<0)&&"auto"!=item.type}function mapFn(item){return{Name:item.name,Value:item.iface,Type:item.type,Version:getVersion(item),Gwifv4:item.gwif,Gwifv6:item.gwifv6}}function getVersion(item){function isAll(item){var isWan=item.is_wan,type=item.type;return!type||!isWan||"pppdual"==type}function isIPv6(item){return/v6/.test(item.type)}return isAll(item)?"All":isIPv6(item)?"IPv6":"IPv4"}return _.chain(ifaces).filter(filterFn).map(mapFn).value().reverse()}function getIfaceName(iface,version,ifaces){var gwifParam="IPv4"==version?"Gwifv4":"Gwifv6",curIface=_.findWhere(ifaces,_defineProperty3["default"]({Value:iface,Version:version},gwifParam,!0))||_.findWhere(ifaces,_defineProperty3["default"]({Value:iface,Version:version},gwifParam,!1));return curIface||(curIface=_.findWhere(ifaces,{Value:iface})),curIface?curIface.Name:""}function getSubnet(ip,mask,version){var output="";return output+=ip,"IPv4"==version&&(output+="/"+funcs.ipv4.mask["short"](mask)),output}var pattern=T({"->":["$input","Ifaces","Routes","ProtocolList"],$input:":external",Routes:{"->":["$rule","Source","Dest"],"{$rule, $index}":["$parent",function(p){return p.$input.routes}],$ifaces:["$parent",function(p){return p.Ifaces}],$version:["$rule*",function(r){return funcs.is.ipv4(r.ip)?"IPv4":"IPv6"}],__id:["$index*",function(i){return i}],Enable:!0,Iface:["$rule*",function(r){return r.iface}],IfaceName:["$rule*","$version","$ifaces",function(r,v,ifs){return getIfaceName(r.iface,v,ifs)}],IPVersion:["$version*",function(v){return v}],IPAddress:["$rule*",function(r){return r.ip}],SubnetMask:["$rule*",function(r){return r.netmask}],GatewayAddress:["$rule*",function(r){return r.gw}],Subnet:["$rule*","$version",function(r,v){return getSubnet(r.ip,r.netmask,v)}],Metric:["$rule*",function(r){return r.met}],Available:["$rule*",function(r){return!r.notavail}]},Ifaces:{"->":!0,$ifaces:["$parent",function(p){return p.$input.ifaces}],$isSupportIPv6:["$parent",function(p){return p.$input.isSupportIPv6}],"{$iface}":["$ifaces*","$isSupportIPv6",function(ifs,isSupportIPv6){return prepareIfaces(ifs.iface_names,isSupportIPv6)}],$return:["$iface",function(i){return i}]},ProtocolList:["$input",function(i){return i.isSupportIPv6?["IPv4","IPv6"]:["IPv4"]}],hwIPv6Route:["$input",function(i){return i.hwIPv6Route}]});return pattern.build({$input:input})}function nativeToSomovd(input){var pattern=T({"->":!0,$input:":external",$routes:["$input",function(i){return i.Routes}],"{$route}":["$routes",function(rs){return rs}],iface:["$route*",function(r){return r.Iface}],ip:["$route*",function(r){return r.IPAddress}],netmask:["$route*",function(r){return r.SubnetMask}],gw:["$route*",function(r){return r.GatewayAddress}],met:["$route*",function(r){return r.Metric?r.Metric:void 0}]});return pattern.build({$input:input})}var T=__webpack_require__(122).T,_=__webpack_require__(41),funcs=__webpack_require__(43);module.exports={somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd}}()},function(module,exports,__webpack_require__){"use strict";module.exports={converter:__webpack_require__(313)}},function(module,exports,__webpack_require__){"use strict";var T=__webpack_require__(122).T;__webpack_require__(41),module.exports={somovdToNative:function(data){var pattern=T({"->":!0,$data:":external","?":["$items",function(i){return!!i}],"{$items}":["$data",function(d){return d}],sourceIp:["$items",function(i){return i.source_ip}],sourcePort:["$items",function(i){return i.source_port}],destIp:["$items",function(i){return i.dest_ip}],destPort:["$items",function(i){return i.dest_port}],protocol:["$items",function(i){return i.protocol?i.protocol.toUpperCase():i.protocol}],exp_time:["$items",function(i){return i.exp_time}],state:["$items",function(i){return i.state}]});return pattern.build({$data:data})}}},function(module,exports,__webpack_require__){"use strict";module.exports={converter:__webpack_require__(315)}},function(module,exports,__webpack_require__){"use strict";!function(){function somovdToNative(data){function getRxTxPacketsInfo(item){return _.isEmpty(item.rx_pkt)||_.isEmpty(item.tx_pkt)||"up"!=item.state?null:item.rx_pkt+" / "+item.tx_pkt}function getRxTxErrorInfo(item){return _.isEmpty(item.rx_errs)||_.isEmpty(item.tx_errs)||"up"!=item.state?null:item.rx_errs+" / "+item.tx_errs}function getIPv4WithMask(item){if(!item.ip&&!item.mask)return"-";var ip=item.ip||"-",mask=item.mask?funcs.ipv4.mask["short"](item.mask):"-";return ip+"/"+mask}function getIPv6WithMask(item){var res=item.ip?item.ip:!!item.ipv6;return res}function isIPv4(ip){return funcs.is.ipv4(ip)}function isIPv6(ip,ipv6){return funcs.is.ipv6Network(ip)||!!ipv6}function getIPv6(ip,ipv6){return funcs.is.ipv6Network(ip)?ip:ipv6}function getIPv4(ip){return funcs.is.ipv4(ip)?ip:void 0}function getPortStatus(portsInfo,port){if(!port)return null;var portStr;if(-1==port.indexOf(":"))portStr=port.toLowerCase();else{var arr=port.split(":");portStr=("port"+arr[1]).toLowerCase()}if(!portsInfo[portStr])return null;var status=portsInfo[portStr].status;return status?"on":"off"}function getConnType(contype){var list=funcs.getContypeList();return list[contype]}function getConnStatus(status){var list=funcs.getConstateList();return list[status]}function getReasonPPPIssue(code){switch(code){case-1:case 0:return"unknown";case 1:return"ppp_server_not_available";case 2:return"ppp_peer_negotiation_failed";case 3:return"ppp_peer_not_responding";case 4:return"ppp_auth_failed";case 5:return"cable_disconnected";case 6:return"ppp_not_response";default:return""}}function getReasonIPoEIssue(code){switch(code){case 1:return"cable_disconnected";case 2:return"ppp_server_not_available";case 3:return"conn_disabled";default:return""}}var pattern=T({"->":!0,$data:":external",NeedTime:!0,$ports:["$data",function(d){return d.PortStats}],"{$interfaces, Iface}":["$data",function(d){return d.NetworkStats}],IPv4:["$interfaces*",function(i){return getIPv4(i.ip)}],IPv4WithMask:["$interfaces*",function(i){return getIPv4WithMask(i)}],IPv6:["$interfaces*",function(i){return getIPv6(i.ip,i.ipv6)}],IPv6WithMask:["$interfaces*",function(i){return getIPv6WithMask(i)}],IsIPv4:["$interfaces*",function(i){return isIPv4(i.ip)}],IsIPv6:["$interfaces*",function(i){return isIPv6(i.ip,i.ipv6)}],Mask:["$interfaces*",function(i){return i.mask}],MTU:["$interfaces*",function(i){return i.mtu}],GW:["$interfaces*",function(i){return i.gw}],GW6:["$interfaces*",function(i){return i.gwipv6}],MAC:["$interfaces*",function(i){return i.mac}],Metric:["$interfaces*",function(i){return i.metric}],TimeStat:["$interfaces*",function(i){return i.time_stat}],RX:["$interfaces*",function(i){return i.rx}],TX:["$interfaces*",function(i){return i.tx}],RxTxPacket:["$interfaces*",function(i){return getRxTxPacketsInfo(i)}],RxTxErrors:["$interfaces*",function(i){return getRxTxErrorInfo(i)}],Port:["$interfaces*",function(i){return i.port}],Name:["$interfaces*",function(i){return i.name}],State:["$interfaces*",function(i){return i.state}],DNSPrimary:["$interfaces*",function(i){return i.dns_prim}],DNSSecondary:["$interfaces*",function(i){return i.dns_sec}],DNSPrimaryV6:["$interfaces*",function(i){return i.dns_primv6}],DNSSecondaryV6:["$interfaces*",function(i){return i.dns_secv6}],LeaseTime:["$interfaces*",function(i){return i.leasetime}],CurrentLease:["$interfaces*",function(i){return i.current_lease}],Duration:["$interfaces*",function(i){return i.duration}],DurationS:["$interfaces*",function(i){return i.duration_s}],PortStatus:["$ports","$interfaces*",function(p,i){return getPortStatus(p,i.port)}],ConnType:["$interfaces*",function(i){return getConnType(i.contype)}],ConnStatus:["$interfaces*",function(i){return getConnStatus(i.connection_status)}],ServiceName:["$interfaces*",function(i){return i.servicename}],PPPLastFin:["$interfaces*",function(i){return i.ppp_last_fin?1e3*i.ppp_last_fin:void 0}],PPPLastDur:["$interfaces*",function(i){return i.ppp_last_dur?i.ppp_last_dur:void 0}],PPPLastIssue:["$interfaces*",function(i){return i.ppp_last_issue?getReasonPPPIssue(i.ppp_last_issue):void 0}],IPoELastFin:["$interfaces*",function(i){return i.ipoe_last_fin?1e3*i.ipoe_last_fin:void 0}],IPoELastDur:["$interfaces*",function(i){return i.ipoe_last_dur?i.ipoe_last_dur:void 0}],IPoELastIssue:["$interfaces*",function(i){return i.ipoe_last_issue?getReasonIPoEIssue(i.ipoe_last_issue):void 0}],ServerID:["$interfaces*",function(i){return i.serverid}]});return pattern.build({$data:data})}var T=__webpack_require__(122).T,_=__webpack_require__(41),funcs=__webpack_require__(43);module.exports={somovdToNative:somovdToNative}}()},function(module,exports,__webpack_require__){"use strict";module.exports={converter:__webpack_require__(317)}},function(module,exports,__webpack_require__){"use strict";function somovdToNative(data){function getIP(ipArr,mac){var ip={};return _.each(ipArr,function(elem){elem.MACAddress.toLowerCase()==mac.toLowerCase()&&(funcs.is.ipv6(elem.ip)&&(ip.IPv6=elem.ip),funcs.is.ipv4(elem.ip)&&(ip.IPv4=elem.ip))}),ip}function formBand(value){return"2.4 GHz"==value?"24ghz":"5 GHz"==value?"5ghz":void 0}function formMode(value){var modes={"11ac":"802.11 AC","11n":"802.11 N","11b":"802.11 B","11g":"802.11 G","11a":"802.11 A"};return modes[value]}function formSleep(value){var key=value?"wifi_client_mgm_sleep_on":"wifi_client_mgm_sleep_off";return key}var pattern=T({"->":!0,$data:":external","{$clients}":["$data",function(c){return c.clients}],$ip:["$data","$clients*",function(d,c){return getIP(d.ip,c.mac)}],SSID:["$clients*",function(c){return c.SSID}],Band:["$clients*",function(c){return c.band}],MAC:["$clients*",function(c){return c.mac}],Hostname:["$clients*",function(c){return c.hostname}],BandName:["$clients*",function(c){return c.rssi?formBand(c.band):void 0}],Rate:["$clients*",function(c){return c.rssi?c.lastTxRate:void 0}],Online:["$clients*",function(c){return c.online}],RSSI:["$clients*",function(c){return c.rssi?c.rssi+"%":void 0}],RxBytes:["$clients*",function(c){return c.rssi?c.rx_bytes:void 0}],Signal:["$clients*",function(c){return c.rssi}],TxBytes:["$clients*",function(c){return c.rssi?c.tx_bytes:void 0}],Sleep:["$clients*",function(c){return _.isUndefined(c.sleep)?void 0:formSleep(c.sleep)}],Mode:["$clients*",function(c){return c.mode?formMode(c.mode):void 0}],IDLE:["$clients*",function(c){return c.idle}],BW:["$clients*",function(c){return c.bw}],Psm:["$clients*",function(c){return c.psm}],Mimops:["$clients*",function(c){return c.mimops}],Stbc:["$clients*",function(c){return c.stbc}],SGI:["$clients*",function(c){return c.sgi}],MCS:["$clients*",function(c){return c.mcs}],AID:["$clients*",function(c){return c.aid}],IPv4:["$ip*",function(i){return i.IPv4}],IPv6:["$ip*",function(i){return i.IPv6}]});return pattern.build({$data:data})}var T=__webpack_require__(122).T,_=__webpack_require__(41),funcs=__webpack_require__(43);module.exports={somovdToNative:somovdToNative}},function(module,exports,__webpack_require__){"use strict";module.exports={converter:__webpack_require__(319)}},function(module,exports,__webpack_require__){"use strict";!function(){function somovdToNative(data){var pattern=T({"->":["$data","Modules"],$data:":external",Enable:["$data",function(d){return d.enable}],Modules:{Cable:{"->":["?"],$data:["$root",function(r){return r.$data}],"?":["$data",function(d){return!!d.modules&&!!d.modules.cable}],Enable:["$data",function(d){return d.modules.cable.enable}]},Connections:{"->":["?"],$data:["$root",function(r){return r.$data}],"?":["$data",function(d){return!!d.modules&&!!d.modules.connections}],Enable:["$data",function(d){return d.modules.connections.enable}]},Factory:{"->":["?"],$data:["$root",function(r){return r.$data}],"?":["$data",function(d){return!!d.modules&&!!d.modules.factory}],Enable:["$data",function(d){return d.modules.factory.enable}]},Flashing:{"->":["?"],$data:["$root",function(r){return r.$data}],"?":["$data",function(d){return!!d.modules&&!!d.modules.flashing}],Enable:["$data",function(d){return d.modules.flashing.enable}]},Configuring:{"->":["?"],$data:["$root",function(r){return r.$data}],"?":["$data",function(d){return!!d.modules&&!!d.modules.configuring}],Enable:["$data",function(d){return d.modules.configuring.enable}]}}});return pattern.build({$data:data})}function nativeToSomovd(data){var pattern=T({"->":["$data","Modules"],$data:":external",enable:["$data",function(d){return d.Enable}],modules:{cable:{"->":["?"],$data:["$root",function(r){return r.$data}],"?":["$data",function(d){return!!d.Modules&&!!d.Modules.Cable}],enable:["$data",function(d){return d.Modules.Cable.Enable}]},connections:{"->":["?"],$data:["$root",function(r){return r.$data}],"?":["$data",function(d){return!!d.Modules&&!!d.Modules.Connections}],enable:["$data",function(d){return d.Modules.Connections.Enable}]},factory:{"->":["?"],$data:["$root",function(r){return r.$data}],"?":["$data",function(d){return!!d.Modules&&!!d.Modules.Factory}],enable:["$data",function(d){return d.Modules.Factory.Enable}]},flashing:{"->":["?"],$data:["$root",function(r){return r.$data}],"?":["$data",function(d){return!!d.Modules&&!!d.Modules.Flashing}],enable:["$data",function(d){return d.Modules.Flashing.Enable}]},configuring:{"->":["?"],$data:["$root",function(r){return r.$data}],"?":["$data",function(d){return!!d.Modules&&!!d.Modules.Configuring}],enable:["$data",function(d){return d.Modules.Configuring.Enable}]}}});return pattern.build({$data:data})}var T=__webpack_require__(122).T;__webpack_require__(41),module.exports={somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd}}()},function(module,exports,__webpack_require__){"use strict";module.exports={converter:__webpack_require__(321)}},function(module,exports,__webpack_require__){"use strict";function somovdToNative(data){var pattern=T({"->":["$data","UsbStorageList","Transmission"],$data:":external",UsbStorage:["$data*",function(d){return _.isEmpty(d.usb_storage)?null:d.usb_storage}],UsbStorageList:{"->":!0,"{$usb, $key}":["$root",function(r){return r.$data.usb_storage}],Name:["$usb*","$key*",function(usb,key){return usb.name||key}],Value:["$key*",function(key){return key}]},Transmission:{"->":["?"],$transmission:["$root",function(r){return r.$data.transmission}],"?":["$transmission",function(t){return!!t}],Enable:["$transmission*",function(t){return t.enable}],PeerPort:["$transmission*",function(t){return t["peer-port"]}],DeviceDir:["$transmission*",function(t){return t["device-dir"].replace("/tmp/mnt","")}],MainDir:["$transmission*",function(t){return t["main-dir"]}],DownloadQueue:["$transmission*",function(t){return t["download-queue"]}],DownloadQueueSize:["$transmission*",function(t){return t["download-queue-size"]}],PeerLimit:["$transmission*",function(t){return t["peer-limit"]}],defaultPeerNumber:["$transmission*",function(t){return t["default-peer-number"]}],EnableSpeedLimit:["$transmission*",function(t){return t["speed-limit-down-enabled"]}],SpeedLimit:["$transmission*",function(t){return t["speed-limit-down"]}],Utp:["$transmission*",function(t){return t.utp}],RpcPort:["$transmission*",function(t){return t["rpc-port"]}],UsingAuth:["$transmission*",function(t){return t["using-auth"]}],User:["$transmission*",function(t){return t.user}],Pass:["$transmission*",function(t){return t.pass}],InvalidPath:["$transmission*",function(t){return t.invalidPath}]}});return pattern.build({$data:data})}function nativeToSomovd(data){return{enable:data.Enable,"peer-port":data.PeerPort,"device-dir":data.DeviceDir,"main-dir":data.MainDir,"download-queue":data.DownloadQueue,"download-queue-size":data.DownloadQueueSize,"peer-limit":data.PeerLimit,"default-peer-number":data.defaultPeerNumber,"speed-limit-down-enabled":data.EnableSpeedLimit,"speed-limit-down":data.SpeedLimit,utp:data.Utp,"rpc-port":data.RpcPort,"using-auth":data.UsingAuth,user:data.User,pass:data.Pass}}var _=__webpack_require__(41),T=__webpack_require__(122).T;__webpack_require__(43),module.exports={somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(323)},function(module,exports,__webpack_require__){"use strict";function somovdToNative(input){function getCpu(newCpu,oldCpu){var total=Math.abs(newCpu.cpu_total_raw_32-oldCpu.cpu_total_raw_32),busy=Math.abs(newCpu.cpu_busy_raw_32-oldCpu.cpu_busy_raw_32),loadCpu=total?Math.round(busy/total*100):0;return 100>loadCpu?loadCpu:"100"}function getRate(ram){var usedRam=ram.totalram-ram.freeram-ram.sharedram-ram.bufferram,totalRam=ram.totalram;return Math.round(usedRam/totalRam*100)}var pattern=T({"->":["$newData","$oldData","cpu","ram"],$input:":external",$newData:["$input",function(i){return i.newData}],$oldData:["$input",function(i){return i.oldData}],backup:["$newData",function(newData){return newData}],cpu:{"->":["?"],$newCpu:["$parent",function(p){return p.$newData.cpu}],$oldCpu:["$parent",function(p){return p.$oldData.cpu}],"?":["$newCpu","$oldCpu",function(newCpu,oldCpu){return newCpu&&oldCpu}],cpu:["$newCpu","$oldCpu",function(newCpu,oldCpu){return newCpu.cpu_total_raw_32?getCpu(newCpu,oldCpu):newCpu}],cpuString:["cpu",function(cpu){return cpu+"%"}]},ram:{"->":["?","$ramData","rate","string"],$ramData:["$parent",function(p){return p.$newData.ram}],rate:{"->":!0,used:["$parent",function(p){return getRate(p.$ramData)}]},string:{"->":!0,$ram:["$parent",function(p){return p.$ramData}],total:["$ram*",function(r){return r.totalram}],buf:["$ram*",function(r){return r.bufferram;
}],shared:["$ram*",function(r){return r.sharedram}],free:["$ram*",function(r){return r.freeram+r.sharedram}],used:["$ram*",function(r){return r.totalram-r.freeram-r.sharedram-r.bufferram}]}}});return pattern.build({$input:input})}var T=(__webpack_require__(41),__webpack_require__(122).T);__webpack_require__(43),module.exports={somovdToNative:somovdToNative}},function(module,exports,__webpack_require__){"use strict";module.exports={converter:__webpack_require__(325)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function somovdToNative(data){function getIfaces(tree){var result={};return _.each(tree,function(iface,ifname){iface.ifname=ifname,_.each(iface.services,function(service,ifname){"auto"!=service.type&&(result[service.name]={iface:service.iface,l2_key:iface.ifname,l3_key:ifname,type:service.type}),_.each(service.tunnels,function(tunnel,ifname){result[tunnel.name]={iface:tunnel.iface,l2_key:iface.ifname,l3_key:ifname}})})}),result.wan_auto={iface:"ANY_WAN"},result}function getCurrentIface(tr,ifaces){function isCurrent(iface){return iface.iface===tr.iface&&iface.l2_key===tr.l2_key&&iface.l3_key===tr.l3_key}for(var i in ifaces)if(isCurrent(ifaces[i]))return i;return"wan_auto"}var pattern=T({"->":["$data","$ifaces","tmp"],$data:":external",requiredUrl:!1,tr69:["$data",function(d){return d.tr69}],ifaces:["$data",function(d){return getIfaces(d.ifaces)}],$ifaces:["ifaces",function(i){return i}],ifacesList:["ifaces",function(i){return _keys2["default"](i)}],tmp:{"->":!0,iface:["$parent",function(p){return getCurrentIface(p.$data.tr69,p.$ifaces)}]},isStun:["tr69",function(tr){return _.has(tr,"StunEnable")}]});return pattern.build({$data:data})}function nativeToSomovd(data){var tr=data.tr69;return _.extend(tr,data.ifaces[data.tmp.iface]),tr.InformInterval+="",tr}var _keys=__webpack_require__(84),_keys2=_interopRequireDefault(_keys),_=__webpack_require__(41),T=__webpack_require__(122).T;module.exports={somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd}},function(module,exports){module.exports=function(){}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(41),_somovd=__webpack_require__(189),_getq=__webpack_require__(188),funcs=__webpack_require__(43),consts={CONFIG_ID_PORTS:184,CONFIG_ID_WAN_TEMP:1,CONFIG_ID_IFGROPING:14,RPC_NEED_REBOOT:12,RPC_NEED_SAVE:13,RPC_OK:20,GROUP_TYPES_LIST:["nat","bridge","local"]};module.exports=function(){function pull(_params){params=_.extend(params,_params);var Q=_getq.get(),deferred=Q.defer(),somovd=_somovd.get();return somovd.read([consts.CONFIG_ID_IFGROPING,consts.CONFIG_ID_PORTS,consts.CONFIG_ID_WAN_TEMP]).then(function(response){function getWans(treeIfaces){var ifaces={};if(treeIfaces)for(var key1 in treeIfaces){var iface=treeIfaces[key1];if(iface.is_wan)for(var key2 in iface.services)if(!_.some(params.hideConections,function(wc){return wc==iface.services[key2].name})){var service=iface.services[key2];ifaces[key2]={name:service.name,type:service.type}}}return ifaces}function getPorts(treeIfaces){var ports=[];if(treeIfaces)for(var key in treeIfaces){var iface=treeIfaces[key];!iface.is_wan&&iface.members&&(ports=_.union(ports,iface.members))}return ports.length?ports:null}if(!funcs.is.allRPCSuccess(response))return void deferred.reject();clean();var ifaceGroups=response.rq[0].data||[];if(workModel.groups=_.map(ifaceGroups,function(el,key){return"br0"!=key&&(workModel.usedPorts=_.union(workModel.usedPorts,el.lans),workModel.usedInterfaces=_.union(workModel.usedInterfaces,el.wans)),toGroupWorkModel(el,key)}),workModel.ports=response.rq[1].data||{},response.rq[2].data&&response.rq[2].data.iface_names){var tree=response.rq[2].data.iface_names;workModel.interfaces=getWans(tree),workModel.ports=_.pick(workModel.ports,getPorts(tree))}else workModel.interfaces={};initModel=funcs.deepClone(workModel),workModel.isActivate=!0,deferred.resolve(!0)}),deferred.promise}function getGroupsList(){return _.sortBy(_.map(workModel.groups,function(el){var group=funcs.deepClone(el);return workModel.ports&&group.lans&&(group.lans=_.sortBy(_.map(group.lans,function(lan){return workModel.ports[lan]||lan}))),workModel.interfaces&&group.wans&&(group.wans=_.sortBy(_.map(group.wans,function(wan){return workModel.interfaces[wan]?workModel.interfaces[wan].name:wan}))),group}),"__key")}function getLanPorts(key){var group=_.findWhere(workModel.groups,{__key:key})||{},usedPorts=_.difference(funcs.deepClone(workModel.usedPorts),group.lans);return _.sortBy(_.map(workModel.ports,function(el,key){return{value:key,name:el,available:!~_.indexOf(usedPorts,key),my:!!~_.indexOf(group.lans,key)}}),"name")}function getWanInterfaces(typeGroup,__key){var group=_.findWhere(workModel.groups,{__key:__key})||{},usedInterfaces=_.difference(funcs.deepClone(workModel.usedInterfaces),group.wans);return _.sortBy(_.map(workModel.interfaces,function(el,key){var availabel=!~_.indexOf(usedInterfaces,key);return availabel&="local"!=typeGroup,availabel&="nat"==typeGroup&&"bridge"!=el.type||"bridge"==typeGroup&&"bridge"==el.type,{value:key,name:el.name,available:!!availabel,my:!!~_.indexOf(group.wans,key)}}),"name")}function getTypesList(){return consts.GROUP_TYPES_LIST}function hasActivate(){return workModel.isActivate}function getGroup(key){return funcs.deepClone(_.findWhere(workModel.groups,{__key:key}))}function getDefGroup(){return{__key:null,name:"",type:"nat",lans:[],wans:[]}}function pushGroup(group,key){var Q=_getq.get(),deferred=Q.defer(),somovd=_somovd.get(),key=key||"create",group=funcs.deepClone(group);"br0"==key&&deferred.reject(["group_cannot_be_edited"]);var error=validation(group);if(error)deferred.reject(error[0]);else{var taskGroup=_.findWhere(workModel.groups,{__key:key});taskGroup?taskGroup=_.extend(taskGroup,group,{__key:key}):(taskGroup=_.extend(group,{__key:key}),workModel.groups.push(taskGroup)),somovd.write(consts.CONFIG_ID_IFGROPING,toGroupSaveModel(taskGroup,key)).then(function(response){return funcs.is.allRPCSuccess(response)?void deferred.resolve(!0):void deferred.reject("rpc_write_error")})}return deferred.promise}function delGroups(keys){var Q=_getq.get(),deferred=Q.defer(),somovd=_somovd.get(),keys=_.without(keys,"br0");if(keys.length){var delData=_.map(keys,function(key){var data={};return data[key]=toGroupSaveModel(_.findWhere(workModel.groups,{__key:key}),key),{id:consts.CONFIG_ID_IFGROPING,data:data,pos:-1}});somovd.remove(delData).then(function(response){return funcs.is.allRPCSuccess(response)?void deferred.resolve(!0):void deferred.reject()})}else deferred.resolve(!1);return deferred.promise}function clean(){initModel={groups:null,ports:null,usedPorts:[],interfaces:null,usedInterfaces:[]},workModel=funcs.deepClone(initModel)}function toGroupWorkModel(group,key){if(!group||!key)return null;var group=group,modelGroup={__key:key,name:group.name,type:"",lans:group.lans};return _.has(group,"wans")?group.nat&&"L3"==group.type?(modelGroup.type="nat",modelGroup.wans=_.difference(group.wans||[],params.hideConections)):(modelGroup.type="bridge",modelGroup.wans=_.difference(group.wans||[],params.hideConections)):modelGroup.type="local",modelGroup}function toGroupSaveModel(group,key){if(!group)return null;var saveGroup={},key=group.isNew?"create":key,group=funcs.deepClone(group),saveGroup={};return saveGroup[key]={},saveGroup[key].name=group.name,saveGroup[key].lans=group.lans,"local"!=group.type&&(saveGroup[key].wans=group.wans),"nat"==group.type?(saveGroup[key].nat=!0,saveGroup[key].type="L3"):(saveGroup[key].nat=!1,saveGroup[key].type="L2"),saveGroup}function validation(group){var errorList=[];return group?group.name&&group.type&&group.lans?(_.some(workModel.groups,function(el){return el.name==group.name&&el.__key!=group.__key})&&errorList.push("name_is_already_use"),~_.indexOf(consts.GROUP_TYPES_LIST,group.type)||errorList.push("invalid_group_type"),(!_.isArray(group.lans)||group.lans.length<1)&&errorList.push("invalid_group_lans"),"local"!=group.type&&(!_.isArray(group.wans)||"nat"==group.type&&1!=group.wans.length||"bridge"==group.type&&group.wans.length<1)&&errorList.push("invalid_group_wans")):errorList.push("invalid_format_group"):errorList.push("group_is_empty"),!!errorList.length&&errorList}var params={},initModel=null,workModel={groups:null,ports:null,usedPorts:[],interfaces:null,usedInterfaces:[],isActivate:!1};return{hasActivate:hasActivate,pull:pull,getGroupsList:getGroupsList,getGroup:getGroup,pushGroup:pushGroup,delGroups:delGroups,getDefGroup:getDefGroup,getTypesList:getTypesList,getLanPorts:getLanPorts,getWanInterfaces:getWanInterfaces,validation:validation}}()},function(module,exports,__webpack_require__){"use strict";module.exports={converter:__webpack_require__(329)}},function(module,exports,__webpack_require__){"use strict";!function(){function somovdToNative(data){function getIface(input){var result=[];return _.each(input,function(elem,name){result.push({port:elem,name:name})}),result}function getPortAlias(iface){var alias=iface.name;return"WAN"==iface.name&&autoconf&&autoconf.BR2_PACKAGE_ANWEB_FIBER_WAN&&(alias="SFP"),alias}var pattern=T({"->":!0,$data:":external",ports:{"->":!0,"{$iface, __id}":["$parent",function(p){return getIface(p.$data)}],$port:["$iface",function(i){return i.port}],name:["$iface",function(i){return i.name}],alias:["$iface",function(i){return getPortAlias(i)}],max_bandwidth:["$port",function(p){return p.max_bandwidth}],ingress_bandwidth:["$port",function(p){return p.ingress_bandwidth}],egress_bandwidth:["$port",function(p){return p.egress_bandwidth}]}});return pattern.build({$data:data})}function nativeToSomovd(data){var result={};return result[data.name]={max_bandwidth:data.max_bandwidth,ingress_bandwidth:data.ingress_bandwidth,egress_bandwidth:data.egress_bandwidth},result}var T=__webpack_require__(122).T,_=__webpack_require__(41);module.exports={somovdToNative:somovdToNative,nativeToSomovd:nativeToSomovd}}()}]);;"use strict";function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(r){return Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r)?Array.from(r):void 0}function _arrayWithoutHoles(r){if(Array.isArray(r)){for(var t=0,n=new Array(r.length);t<r.length;t++)n[t]=r[t];return n}}!function(){function l(r){throw new RangeError(o[r])}function u(r,t){if(r){var n=r.split("@"),o="";n.length>1&&(o=n[0]+"@",r=n[1]);var a=function(r,t){for(var n=[],e=r.length;e--;)n[e]=t(r[e]);return n}((r=r.replace(e,".")).split("."),t).join(".");return o+a}}function f(r){for(var t=[],n=0,e=r.length;e>n;){var o=r.charCodeAt(n++);if(o>=55296&&56319>=o&&e>n){var a=r.charCodeAt(n++);56320==(64512&a)?t.push(((1023&o)<<10)+(1023&a)+65536):(t.push(o),n--)}else t.push(o)}return t}var r=2147483647,t=/^xn--/,n=/[^\0-\x7E]/,e=/[\x2E\u3002\uFF0E\uFF61]/g,o={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},a=Math.floor,i=String.fromCharCode,c=function(r,t){return r+22+75*(26>r)-((0!=t)<<5)},v=function(r,t,n){var e=0;for(r=n?a(r/700):r>>1,r+=a(r/t);r>455;e+=36)r=a(r/35);return a(e+36*r/(r+38))},s=function(t){var n,e=[],o=t.length,i=0,u=128,f=72,c=t.lastIndexOf("-");0>c&&(c=0);for(var s=0;c>s;++s)t.charCodeAt(s)>=128&&l("not-basic"),e.push(t.charCodeAt(s));for(var d=c>0?c+1:0;o>d;){for(var h=i,p=1,y=36;;y+=36){d>=o&&l("invalid-input");var g=(n=t.charCodeAt(d++))-48<10?n-22:26>n-65?n-65:26>n-97?n-97:36;(g>=36||g>a((r-i)/p))&&l("overflow"),i+=g*p;var b=f>=y?1:y>=f+26?26:y-f;if(b>g)break;var w=36-b;p>a(r/w)&&l("overflow"),p*=w}var A=e.length+1;f=v(i-h,A,0==h),a(i/A)>r-u&&l("overflow"),u+=a(i/A),i%=A,e.splice(i++,0,u)}return String.fromCodePoint.apply(String,e)},d=function(t){var n=[],e=(t=f(t)).length,o=128,u=0,s=72,d=!0,h=!1,p=void 0;try{for(var y,g=t[Symbol.iterator]();!(d=(y=g.next()).done);d=!0){var b=y.value;128>b&&n.push(i(b))}}catch(r){h=!0,p=r}finally{try{d||null==g["return"]||g["return"]()}finally{if(h)throw p}}var w=n.length,A=w;for(w&&n.push("-");e>A;){var C=r,S=!0,m=!1,x=void 0;try{for(var I,_=t[Symbol.iterator]();!(S=(I=_.next()).done);S=!0){var j=I.value;j>=o&&C>j&&(C=j)}}catch(r){m=!0,x=r}finally{try{S||null==_["return"]||_["return"]()}finally{if(m)throw x}}var E=A+1;C-o>a((r-u)/E)&&l("overflow"),u+=(C-o)*E,o=C;var F=!0,O=!1,T=void 0;try{for(var k,H=t[Symbol.iterator]();!(F=(k=H.next()).done);F=!0){var P=k.value;if(o>P&&++u>r&&l("overflow"),P==o){for(var W=u,L=36;;L+=36){var M=s>=L?1:L>=s+26?26:L-s;if(M>W)break;var R=W-M,U=36-M;n.push(i(c(M+R%U,0))),W=a(R/U)}n.push(i(c(W,0))),s=v(u,E,A==w),u=0,++A}}}catch(r){O=!0,T=r}finally{try{F||null==H["return"]||H["return"]()}finally{if(O)throw T}}++u,++o}return n.join("")},h={version:"2.1.0",ucs2:{decode:f,encode:function(r){return String.fromCodePoint.apply(String,_toConsumableArray(r))}},decode:s,encode:d,toASCII:function(r){return u(r,function(r){return n.test(r)?"xn--"+d(r):r})},toUnicode:function(r){return u(r,function(r){return t.test(r)?s(r.slice(4).toLowerCase()):r})}};window.punycode=h}();;